(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Be={},fi=[],pn=()=>{},x0=()=>!1,hl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Du=t=>t.startsWith("onUpdate:"),rt=Object.assign,Pu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},D0=Object.prototype.hasOwnProperty,Oe=(t,e)=>D0.call(t,e),ae=Array.isArray,pi=t=>ao(t)==="[object Map]",dl=t=>ao(t)==="[object Set]",sf=t=>ao(t)==="[object Date]",ge=t=>typeof t=="function",Xe=t=>typeof t=="string",sn=t=>typeof t=="symbol",je=t=>t!==null&&typeof t=="object",Hg=t=>(je(t)||ge(t))&&ge(t.then)&&ge(t.catch),qg=Object.prototype.toString,ao=t=>qg.call(t),P0=t=>ao(t).slice(8,-1),zg=t=>ao(t)==="[object Object]",Ou=t=>Xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_s=xu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},O0=/-(\w)/g,Qt=fl(t=>t.replace(O0,(e,n)=>n?n.toUpperCase():"")),V0=/\B([A-Z])/g,Hr=fl(t=>t.replace(V0,"-$1").toLowerCase()),pl=fl(t=>t.charAt(0).toUpperCase()+t.slice(1)),ic=fl(t=>t?`on${pl(t)}`:""),er=(t,e)=>!Object.is(t,e),ea=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Kg=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Mc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},L0=t=>{const e=Xe(t)?Number(t):NaN;return isNaN(e)?t:e};let of;const gl=()=>of||(of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fs(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Xe(r)?$0(r):Fs(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Xe(t)||je(t))return t}const M0=/;(?![^(]*\))/g,N0=/:([^]+)/,F0=/\/\*[^]*?\*\//g;function $0(t){const e={};return t.replace(F0,"").split(M0).forEach(n=>{if(n){const r=n.split(N0);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function lo(t){let e="";if(Xe(t))e=t;else if(ae(t))for(let n=0;n<t.length;n++){const r=lo(t[n]);r&&(e+=r+" ")}else if(je(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const B0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",j0=xu(B0);function Wg(t){return!!t||t===""}function U0(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ml(t[r],e[r]);return n}function ml(t,e){if(t===e)return!0;let n=sf(t),r=sf(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=sn(t),r=sn(e),n||r)return t===e;if(n=ae(t),r=ae(e),n||r)return n&&r?U0(t,e):!1;if(n=je(t),r=je(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const l=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(l&&!c||!l&&c||!ml(t[o],e[o]))return!1}}return String(t)===String(e)}function Gg(t,e){return t.findIndex(n=>ml(n,e))}const Qg=t=>!!(t&&t.__v_isRef===!0),He=t=>Xe(t)?t:t==null?"":ae(t)||je(t)&&(t.toString===qg||!ge(t.toString))?Qg(t)?He(t.value):JSON.stringify(t,Yg,2):String(t),Yg=(t,e)=>Qg(e)?Yg(t,e.value):pi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[sc(r,s)+" =>"]=i,n),{})}:dl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>sc(n))}:sn(e)?sc(e):je(e)&&!ae(e)&&!zg(e)?String(e):e,sc=(t,e="")=>{var n;return sn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nt;class H0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Nt,!e&&Nt&&(this.index=(Nt.scopes||(Nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Nt;try{return Nt=this,e()}finally{Nt=n}}}on(){Nt=this}off(){Nt=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function q0(){return Nt}let Ue;const oc=new WeakSet;class Xg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Nt&&Nt.active&&Nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,oc.has(this)&&(oc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,af(this),em(this);const e=Ue,n=tn;Ue=this,tn=!0;try{return this.fn()}finally{tm(this),Ue=e,tn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Mu(e);this.deps=this.depsTail=void 0,af(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?oc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Nc(this)&&this.run()}get dirty(){return Nc(this)}}let Jg=0,ws,bs;function Zg(t,e=!1){if(t.flags|=8,e){t.next=bs,bs=t;return}t.next=ws,ws=t}function Vu(){Jg++}function Lu(){if(--Jg>0)return;if(bs){let e=bs;for(bs=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ws;){let e=ws;for(ws=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function em(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function tm(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Mu(r),z0(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Nc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(nm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function nm(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===$s))return;t.globalVersion=$s;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Nc(t)){t.flags&=-3;return}const n=Ue,r=tn;Ue=t,tn=!0;try{em(t);const i=t.fn(t._value);(e.version===0||er(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ue=n,tn=r,tm(t),t.flags&=-3}}function Mu(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Mu(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function z0(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let tn=!0;const rm=[];function gr(){rm.push(tn),tn=!1}function mr(){const t=rm.pop();tn=t===void 0?!0:t}function af(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ue;Ue=void 0;try{e()}finally{Ue=n}}}let $s=0;class K0{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Nu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ue||!tn||Ue===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ue)n=this.activeLink=new K0(Ue,this),Ue.deps?(n.prevDep=Ue.depsTail,Ue.depsTail.nextDep=n,Ue.depsTail=n):Ue.deps=Ue.depsTail=n,im(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ue.depsTail,n.nextDep=void 0,Ue.depsTail.nextDep=n,Ue.depsTail=n,Ue.deps===n&&(Ue.deps=r)}return n}trigger(e){this.version++,$s++,this.notify(e)}notify(e){Vu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Lu()}}}function im(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)im(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const fa=new WeakMap,Vr=Symbol(""),Fc=Symbol(""),Bs=Symbol("");function Et(t,e,n){if(tn&&Ue){let r=fa.get(t);r||fa.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Nu),i.map=r,i.key=n),i.track()}}function Cn(t,e,n,r,i,s){const o=fa.get(t);if(!o){$s++;return}const l=c=>{c&&c.trigger()};if(Vu(),e==="clear")o.forEach(l);else{const c=ae(t),u=c&&Ou(n);if(c&&n==="length"){const h=Number(r);o.forEach((f,g)=>{(g==="length"||g===Bs||!sn(g)&&g>=h)&&l(f)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(Bs)),e){case"add":c?u&&l(o.get("length")):(l(o.get(Vr)),pi(t)&&l(o.get(Fc)));break;case"delete":c||(l(o.get(Vr)),pi(t)&&l(o.get(Fc)));break;case"set":pi(t)&&l(o.get(Vr));break}}Lu()}function W0(t,e){const n=fa.get(t);return n&&n.get(e)}function ri(t){const e=xe(t);return e===t?e:(Et(e,"iterate",Bs),Wt(t)?e:e.map(Tt))}function vl(t){return Et(t=xe(t),"iterate",Bs),t}const G0={__proto__:null,[Symbol.iterator](){return ac(this,Symbol.iterator,Tt)},concat(...t){return ri(this).concat(...t.map(e=>ae(e)?ri(e):e))},entries(){return ac(this,"entries",t=>(t[1]=Tt(t[1]),t))},every(t,e){return In(this,"every",t,e,void 0,arguments)},filter(t,e){return In(this,"filter",t,e,n=>n.map(Tt),arguments)},find(t,e){return In(this,"find",t,e,Tt,arguments)},findIndex(t,e){return In(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return In(this,"findLast",t,e,Tt,arguments)},findLastIndex(t,e){return In(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return In(this,"forEach",t,e,void 0,arguments)},includes(...t){return lc(this,"includes",t)},indexOf(...t){return lc(this,"indexOf",t)},join(t){return ri(this).join(t)},lastIndexOf(...t){return lc(this,"lastIndexOf",t)},map(t,e){return In(this,"map",t,e,void 0,arguments)},pop(){return cs(this,"pop")},push(...t){return cs(this,"push",t)},reduce(t,...e){return lf(this,"reduce",t,e)},reduceRight(t,...e){return lf(this,"reduceRight",t,e)},shift(){return cs(this,"shift")},some(t,e){return In(this,"some",t,e,void 0,arguments)},splice(...t){return cs(this,"splice",t)},toReversed(){return ri(this).toReversed()},toSorted(t){return ri(this).toSorted(t)},toSpliced(...t){return ri(this).toSpliced(...t)},unshift(...t){return cs(this,"unshift",t)},values(){return ac(this,"values",Tt)}};function ac(t,e,n){const r=vl(t),i=r[e]();return r!==t&&!Wt(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const Q0=Array.prototype;function In(t,e,n,r,i,s){const o=vl(t),l=o!==t&&!Wt(t),c=o[e];if(c!==Q0[e]){const f=c.apply(t,s);return l?Tt(f):f}let u=n;o!==t&&(l?u=function(f,g){return n.call(this,Tt(f),g,t)}:n.length>2&&(u=function(f,g){return n.call(this,f,g,t)}));const h=c.call(o,u,r);return l&&i?i(h):h}function lf(t,e,n,r){const i=vl(t);let s=n;return i!==t&&(Wt(t)?n.length>3&&(s=function(o,l,c){return n.call(this,o,l,c,t)}):s=function(o,l,c){return n.call(this,o,Tt(l),c,t)}),i[e](s,...r)}function lc(t,e,n){const r=xe(t);Et(r,"iterate",Bs);const i=r[e](...n);return(i===-1||i===!1)&&Bu(n[0])?(n[0]=xe(n[0]),r[e](...n)):i}function cs(t,e,n=[]){gr(),Vu();const r=xe(t)[e].apply(t,n);return Lu(),mr(),r}const Y0=xu("__proto__,__v_isRef,__isVue"),sm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(sn));function X0(t){sn(t)||(t=String(t));const e=xe(this);return Et(e,"has",t),e.hasOwnProperty(t)}class om{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?aw:um:s?cm:lm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ae(e);if(!i){let c;if(o&&(c=G0[n]))return c;if(n==="hasOwnProperty")return X0}const l=Reflect.get(e,n,pt(e)?e:r);return(sn(n)?sm.has(n):Y0(n))||(i||Et(e,"get",n),s)?l:pt(l)?o&&Ou(n)?l:l.value:je(l)?i?hm(l):Ui(l):l}}class am extends om{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const c=Nr(s);if(!Wt(r)&&!Nr(r)&&(s=xe(s),r=xe(r)),!ae(e)&&pt(s)&&!pt(r))return c?!1:(s.value=r,!0)}const o=ae(e)&&Ou(n)?Number(n)<e.length:Oe(e,n),l=Reflect.set(e,n,r,pt(e)?e:i);return e===xe(i)&&(o?er(r,s)&&Cn(e,"set",n,r):Cn(e,"add",n,r)),l}deleteProperty(e,n){const r=Oe(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Cn(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!sn(n)||!sm.has(n))&&Et(e,"has",n),r}ownKeys(e){return Et(e,"iterate",ae(e)?"length":Vr),Reflect.ownKeys(e)}}class J0 extends om{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Z0=new am,ew=new J0,tw=new am(!0);const $c=t=>t,Fo=t=>Reflect.getPrototypeOf(t);function nw(t,e,n){return function(...r){const i=this.__v_raw,s=xe(i),o=pi(s),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=i[t](...r),h=n?$c:e?Bc:Tt;return!e&&Et(s,"iterate",c?Fc:Vr),{next(){const{value:f,done:g}=u.next();return g?{value:f,done:g}:{value:l?[h(f[0]),h(f[1])]:h(f),done:g}},[Symbol.iterator](){return this}}}}function $o(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function rw(t,e){const n={get(i){const s=this.__v_raw,o=xe(s),l=xe(i);t||(er(i,l)&&Et(o,"get",i),Et(o,"get",l));const{has:c}=Fo(o),u=e?$c:t?Bc:Tt;if(c.call(o,i))return u(s.get(i));if(c.call(o,l))return u(s.get(l));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Et(xe(i),"iterate",Vr),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=xe(s),l=xe(i);return t||(er(i,l)&&Et(o,"has",i),Et(o,"has",l)),i===l?s.has(i):s.has(i)||s.has(l)},forEach(i,s){const o=this,l=o.__v_raw,c=xe(l),u=e?$c:t?Bc:Tt;return!t&&Et(c,"iterate",Vr),l.forEach((h,f)=>i.call(s,u(h),u(f),o))}};return rt(n,t?{add:$o("add"),set:$o("set"),delete:$o("delete"),clear:$o("clear")}:{add(i){!e&&!Wt(i)&&!Nr(i)&&(i=xe(i));const s=xe(this);return Fo(s).has.call(s,i)||(s.add(i),Cn(s,"add",i,i)),this},set(i,s){!e&&!Wt(s)&&!Nr(s)&&(s=xe(s));const o=xe(this),{has:l,get:c}=Fo(o);let u=l.call(o,i);u||(i=xe(i),u=l.call(o,i));const h=c.call(o,i);return o.set(i,s),u?er(s,h)&&Cn(o,"set",i,s):Cn(o,"add",i,s),this},delete(i){const s=xe(this),{has:o,get:l}=Fo(s);let c=o.call(s,i);c||(i=xe(i),c=o.call(s,i)),l&&l.call(s,i);const u=s.delete(i);return c&&Cn(s,"delete",i,void 0),u},clear(){const i=xe(this),s=i.size!==0,o=i.clear();return s&&Cn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=nw(i,t,e)}),n}function Fu(t,e){const n=rw(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Oe(n,i)&&i in r?n:r,i,s)}const iw={get:Fu(!1,!1)},sw={get:Fu(!1,!0)},ow={get:Fu(!0,!1)};const lm=new WeakMap,cm=new WeakMap,um=new WeakMap,aw=new WeakMap;function lw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cw(t){return t.__v_skip||!Object.isExtensible(t)?0:lw(P0(t))}function Ui(t){return Nr(t)?t:$u(t,!1,Z0,iw,lm)}function uw(t){return $u(t,!1,tw,sw,cm)}function hm(t){return $u(t,!0,ew,ow,um)}function $u(t,e,n,r,i){if(!je(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=cw(t);if(o===0)return t;const l=new Proxy(t,o===2?r:n);return i.set(t,l),l}function gi(t){return Nr(t)?gi(t.__v_raw):!!(t&&t.__v_isReactive)}function Nr(t){return!!(t&&t.__v_isReadonly)}function Wt(t){return!!(t&&t.__v_isShallow)}function Bu(t){return t?!!t.__v_raw:!1}function xe(t){const e=t&&t.__v_raw;return e?xe(e):t}function hw(t){return!Oe(t,"__v_skip")&&Object.isExtensible(t)&&Kg(t,"__v_skip",!0),t}const Tt=t=>je(t)?Ui(t):t,Bc=t=>je(t)?hm(t):t;function pt(t){return t?t.__v_isRef===!0:!1}function jc(t){return dm(t,!1)}function dw(t){return dm(t,!0)}function dm(t,e){return pt(t)?t:new fw(t,e)}class fw{constructor(e,n){this.dep=new Nu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:xe(e),this._value=n?e:Tt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Wt(e)||Nr(e);e=r?e:xe(e),er(e,n)&&(this._rawValue=e,this._value=r?e:Tt(e),this.dep.trigger())}}function mi(t){return pt(t)?t.value:t}const pw={get:(t,e,n)=>e==="__v_raw"?t:mi(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return pt(i)&&!pt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function fm(t){return gi(t)?t:new Proxy(t,pw)}function gw(t){const e=ae(t)?new Array(t.length):{};for(const n in t)e[n]=vw(t,n);return e}class mw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return W0(xe(this._object),this._key)}}function vw(t,e,n){const r=t[e];return pt(r)?r:new mw(t,e,n)}class yw{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Nu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$s-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return Zg(this,!0),!0}get value(){const e=this.dep.track();return nm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function _w(t,e,n=!1){let r,i;return ge(t)?r=t:(r=t.get,i=t.set),new yw(r,i,n)}const Bo={},pa=new WeakMap;let Ar;function ww(t,e=!1,n=Ar){if(n){let r=pa.get(n);r||pa.set(n,r=[]),r.push(t)}}function bw(t,e,n=Be){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:l,call:c}=n,u=O=>i?O:Wt(O)||i===!1||i===0?Sn(O,1):Sn(O);let h,f,g,y,S=!1,R=!1;if(pt(t)?(f=()=>t.value,S=Wt(t)):gi(t)?(f=()=>u(t),S=!0):ae(t)?(R=!0,S=t.some(O=>gi(O)||Wt(O)),f=()=>t.map(O=>{if(pt(O))return O.value;if(gi(O))return u(O);if(ge(O))return c?c(O,2):O()})):ge(t)?e?f=c?()=>c(t,2):t:f=()=>{if(g){gr();try{g()}finally{mr()}}const O=Ar;Ar=h;try{return c?c(t,3,[y]):t(y)}finally{Ar=O}}:f=pn,e&&i){const O=f,W=i===!0?1/0:i;f=()=>Sn(O(),W)}const x=q0(),V=()=>{h.stop(),x&&x.active&&Pu(x.effects,h)};if(s&&e){const O=e;e=(...W)=>{O(...W),V()}}let N=R?new Array(t.length).fill(Bo):Bo;const U=O=>{if(!(!(h.flags&1)||!h.dirty&&!O))if(e){const W=h.run();if(i||S||(R?W.some((K,A)=>er(K,N[A])):er(W,N))){g&&g();const K=Ar;Ar=h;try{const A=[W,N===Bo?void 0:R&&N[0]===Bo?[]:N,y];c?c(e,3,A):e(...A),N=W}finally{Ar=K}}}else h.run()};return l&&l(U),h=new Xg(f),h.scheduler=o?()=>o(U,!1):U,y=O=>ww(O,!1,h),g=h.onStop=()=>{const O=pa.get(h);if(O){if(c)c(O,4);else for(const W of O)W();pa.delete(h)}},e?r?U(!0):N=h.run():o?o(U.bind(null,!0),!0):h.run(),V.pause=h.pause.bind(h),V.resume=h.resume.bind(h),V.stop=V,V}function Sn(t,e=1/0,n){if(e<=0||!je(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,pt(t))Sn(t.value,e,n);else if(ae(t))for(let r=0;r<t.length;r++)Sn(t[r],e,n);else if(dl(t)||pi(t))t.forEach(r=>{Sn(r,e,n)});else if(zg(t)){for(const r in t)Sn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Sn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function co(t,e,n,r){try{return r?t(...r):t()}catch(i){yl(i,e,n)}}function on(t,e,n,r){if(ge(t)){const i=co(t,e,n,r);return i&&Hg(i)&&i.catch(s=>{yl(s,e,n)}),i}if(ae(t)){const i=[];for(let s=0;s<t.length;s++)i.push(on(t[s],e,n,r));return i}}function yl(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Be;if(e){let l=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const h=l.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,c,u)===!1)return}l=l.parent}if(s){gr(),co(s,null,10,[t,c,u]),mr();return}}Ew(t,n,i,r,o)}function Ew(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const kt=[];let un=-1;const vi=[];let qn=null,ai=0;const pm=Promise.resolve();let ga=null;function ju(t){const e=ga||pm;return t?e.then(this?t.bind(this):t):e}function Tw(t){let e=un+1,n=kt.length;for(;e<n;){const r=e+n>>>1,i=kt[r],s=js(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Uu(t){if(!(t.flags&1)){const e=js(t),n=kt[kt.length-1];!n||!(t.flags&2)&&e>=js(n)?kt.push(t):kt.splice(Tw(e),0,t),t.flags|=1,gm()}}function gm(){ga||(ga=pm.then(vm))}function Iw(t){ae(t)?vi.push(...t):qn&&t.id===-1?qn.splice(ai+1,0,t):t.flags&1||(vi.push(t),t.flags|=1),gm()}function cf(t,e,n=un+1){for(;n<kt.length;n++){const r=kt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;kt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function mm(t){if(vi.length){const e=[...new Set(vi)].sort((n,r)=>js(n)-js(r));if(vi.length=0,qn){qn.push(...e);return}for(qn=e,ai=0;ai<qn.length;ai++){const n=qn[ai];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}qn=null,ai=0}}const js=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vm(t){try{for(un=0;un<kt.length;un++){const e=kt[un];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),co(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;un<kt.length;un++){const e=kt[un];e&&(e.flags&=-2)}un=-1,kt.length=0,mm(),ga=null,(kt.length||vi.length)&&vm()}}let ot=null,ym=null;function ma(t){const e=ot;return ot=t,ym=t&&t.type.__scopeId||null,e}function Qe(t,e=ot,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&wf(-1);const s=ma(e);let o;try{o=t(...i)}finally{ma(s),r._d&&wf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Jn(t,e){if(ot===null)return t;const n=Tl(ot),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,l,c=Be]=e[i];s&&(ge(s)&&(s={mounted:s,updated:s}),s.deep&&Sn(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function Er(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];s&&(l.oldValue=s[o].value);let c=l.dir[r];c&&(gr(),on(c,n,8,[t.el,l,t,e]),mr())}}const Aw=Symbol("_vte"),_m=t=>t.__isTeleport,zn=Symbol("_leaveCb"),jo=Symbol("_enterCb");function wm(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qu(()=>{t.isMounted=!0}),zu(()=>{t.isUnmounting=!0}),t}const qt=[Function,Array],bm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qt,onEnter:qt,onAfterEnter:qt,onEnterCancelled:qt,onBeforeLeave:qt,onLeave:qt,onAfterLeave:qt,onLeaveCancelled:qt,onBeforeAppear:qt,onAppear:qt,onAfterAppear:qt,onAppearCancelled:qt},Em=t=>{const e=t.subTree;return e.component?Em(e.component):e},Cw={name:"BaseTransition",props:bm,setup(t,{slots:e}){const n=Zm(),r=wm();return()=>{const i=e.default&&Hu(e.default(),!0);if(!i||!i.length)return;const s=Tm(i),o=xe(t),{mode:l}=o;if(r.isLeaving)return cc(s);const c=uf(s);if(!c)return cc(s);let u=Us(c,o,r,n,f=>u=f);c.type!==Rt&&Fr(c,u);let h=n.subTree&&uf(n.subTree);if(h&&h.type!==Rt&&!kr(c,h)&&Em(n).type!==Rt){let f=Us(h,o,r,n);if(Fr(h,f),l==="out-in"&&c.type!==Rt)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,h=void 0},cc(s);l==="in-out"&&c.type!==Rt?f.delayLeave=(g,y,S)=>{const R=Im(r,h);R[String(h.key)]=h,g[zn]=()=>{y(),g[zn]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{S(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return s}}};function Tm(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Rt){e=n;break}}return e}const Sw=Cw;function Im(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Us(t,e,n,r,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:g,onLeave:y,onAfterLeave:S,onLeaveCancelled:R,onBeforeAppear:x,onAppear:V,onAfterAppear:N,onAppearCancelled:U}=e,O=String(t.key),W=Im(n,t),K=(v,w)=>{v&&on(v,r,9,w)},A=(v,w)=>{const I=w[1];K(v,w),ae(v)?v.every(T=>T.length<=1)&&I():v.length<=1&&I()},_={mode:o,persisted:l,beforeEnter(v){let w=c;if(!n.isMounted)if(s)w=x||c;else return;v[zn]&&v[zn](!0);const I=W[O];I&&kr(t,I)&&I.el[zn]&&I.el[zn](),K(w,[v])},enter(v){let w=u,I=h,T=f;if(!n.isMounted)if(s)w=V||u,I=N||h,T=U||f;else return;let b=!1;const pe=v[jo]=be=>{b||(b=!0,be?K(T,[v]):K(I,[v]),_.delayedLeave&&_.delayedLeave(),v[jo]=void 0)};w?A(w,[v,pe]):pe()},leave(v,w){const I=String(t.key);if(v[jo]&&v[jo](!0),n.isUnmounting)return w();K(g,[v]);let T=!1;const b=v[zn]=pe=>{T||(T=!0,w(),pe?K(R,[v]):K(S,[v]),v[zn]=void 0,W[I]===t&&delete W[I])};W[I]=t,y?A(y,[v,b]):b()},clone(v){const w=Us(v,e,n,r,i);return i&&i(w),w}};return _}function cc(t){if(_l(t))return t=ar(t),t.children=null,t}function uf(t){if(!_l(t))return _m(t.type)&&t.children?Tm(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ge(n.default))return n.default()}}function Fr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Hu(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ye?(o.patchFlag&128&&i++,r=r.concat(Hu(o.children,e,l))):(e||o.type!==Rt)&&r.push(l!=null?ar(o,{key:l}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function xt(t,e){return ge(t)?rt({name:t.name},e,{setup:t}):t}function Am(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function va(t,e,n,r,i=!1){if(ae(t)){t.forEach((S,R)=>va(S,e&&(ae(e)?e[R]:e),n,r,i));return}if(yi(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&va(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Tl(r.component):r.el,o=i?null:s,{i:l,r:c}=t,u=e&&e.r,h=l.refs===Be?l.refs={}:l.refs,f=l.setupState,g=xe(f),y=f===Be?()=>!1:S=>Oe(g,S);if(u!=null&&u!==c&&(Xe(u)?(h[u]=null,y(u)&&(f[u]=null)):pt(u)&&(u.value=null)),ge(c))co(c,l,12,[o,h]);else{const S=Xe(c),R=pt(c);if(S||R){const x=()=>{if(t.f){const V=S?y(c)?f[c]:h[c]:c.value;i?ae(V)&&Pu(V,s):ae(V)?V.includes(s)||V.push(s):S?(h[c]=[s],y(c)&&(f[c]=h[c])):(c.value=[s],t.k&&(h[t.k]=c.value))}else S?(h[c]=o,y(c)&&(f[c]=o)):R&&(c.value=o,t.k&&(h[t.k]=o))};o?(x.id=-1,Mt(x,n)):x()}}}gl().requestIdleCallback;gl().cancelIdleCallback;const yi=t=>!!t.type.__asyncLoader,_l=t=>t.type.__isKeepAlive;function kw(t,e){Cm(t,"a",e)}function Rw(t,e){Cm(t,"da",e)}function Cm(t,e,n=dt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(wl(e,r,n),n){let i=n.parent;for(;i&&i.parent;)_l(i.parent.vnode)&&xw(r,e,n,i),i=i.parent}}function xw(t,e,n,r){const i=wl(e,t,r,!0);km(()=>{Pu(r[e],i)},n)}function wl(t,e,n=dt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{gr();const l=ho(n),c=on(e,n,t,o);return l(),mr(),c});return r?i.unshift(s):i.push(s),s}}const Ln=t=>(e,n=dt)=>{(!zs||t==="sp")&&wl(t,(...r)=>e(...r),n)},Dw=Ln("bm"),qu=Ln("m"),Pw=Ln("bu"),Sm=Ln("u"),zu=Ln("bum"),km=Ln("um"),Ow=Ln("sp"),Vw=Ln("rtg"),Lw=Ln("rtc");function Mw(t,e=dt){wl("ec",t,e)}const Rm="components";function Ne(t,e){return Dm(Rm,t,!0,e)||t}const xm=Symbol.for("v-ndc");function Nw(t){return Xe(t)?Dm(Rm,t,!1)||t:t||xm}function Dm(t,e,n=!0,r=!1){const i=ot||dt;if(i){const s=i.type;{const l=Tb(s,!1);if(l&&(l===e||l===Qt(e)||l===pl(Qt(e))))return s}const o=hf(i[t]||s[t],e)||hf(i.appContext[t],e);return!o&&r?s:o}}function hf(t,e){return t&&(t[e]||t[Qt(e)]||t[pl(Qt(e))])}function Ci(t,e,n,r){let i;const s=n,o=ae(t);if(o||Xe(t)){const l=o&&gi(t);let c=!1;l&&(c=!Wt(t),t=vl(t)),i=new Array(t.length);for(let u=0,h=t.length;u<h;u++)i[u]=e(c?Tt(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,s)}else if(je(t))if(t[Symbol.iterator])i=Array.from(t,(l,c)=>e(l,c,void 0,s));else{const l=Object.keys(t);i=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const h=l[c];i[c]=e(t[h],h,c,s)}}else i=[];return i}function ya(t,e,n={},r,i){if(ot.ce||ot.parent&&yi(ot.parent)&&ot.parent.ce)return e!=="default"&&(n.name=e),re(),Bt(Ye,null,[_e("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),re();const o=s&&Pm(s(n)),l=n.key||o&&o.key,c=Bt(Ye,{key:(l&&!sn(l)?l:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function Pm(t){return t.some(e=>qs(e)?!(e.type===Rt||e.type===Ye&&!Pm(e.children)):!0)?t:null}const Uc=t=>t?ev(t)?Tl(t):Uc(t.parent):null,Es=rt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Uc(t.parent),$root:t=>Uc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Vm(t),$forceUpdate:t=>t.f||(t.f=()=>{Uu(t.update)}),$nextTick:t=>t.n||(t.n=ju.bind(t.proxy)),$watch:t=>ib.bind(t)}),uc=(t,e)=>t!==Be&&!t.__isScriptSetup&&Oe(t,e),Fw={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:l,appContext:c}=t;let u;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(uc(r,e))return o[e]=1,r[e];if(i!==Be&&Oe(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Oe(u,e))return o[e]=3,s[e];if(n!==Be&&Oe(n,e))return o[e]=4,n[e];Hc&&(o[e]=0)}}const h=Es[e];let f,g;if(h)return e==="$attrs"&&Et(t.attrs,"get",""),h(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==Be&&Oe(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,Oe(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return uc(i,e)?(i[e]=n,!0):r!==Be&&Oe(r,e)?(r[e]=n,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let l;return!!n[o]||t!==Be&&Oe(t,o)||uc(e,o)||(l=s[0])&&Oe(l,o)||Oe(r,o)||Oe(Es,o)||Oe(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function df(t){return ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Hc=!0;function $w(t){const e=Vm(t),n=t.proxy,r=t.ctx;Hc=!1,e.beforeCreate&&ff(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:l,provide:c,inject:u,created:h,beforeMount:f,mounted:g,beforeUpdate:y,updated:S,activated:R,deactivated:x,beforeDestroy:V,beforeUnmount:N,destroyed:U,unmounted:O,render:W,renderTracked:K,renderTriggered:A,errorCaptured:_,serverPrefetch:v,expose:w,inheritAttrs:I,components:T,directives:b,filters:pe}=e;if(u&&Bw(u,r,null),o)for(const he in o){const Ee=o[he];ge(Ee)&&(r[he]=Ee.bind(n))}if(i){const he=i.call(n,n);je(he)&&(t.data=Ui(he))}if(Hc=!0,s)for(const he in s){const Ee=s[he],Ke=ge(Ee)?Ee.bind(n,n):ge(Ee.get)?Ee.get.bind(n,n):pn,At=!ge(Ee)&&ge(Ee.set)?Ee.set.bind(n):pn,at=fn({get:Ke,set:At});Object.defineProperty(r,he,{enumerable:!0,configurable:!0,get:()=>at.value,set:Le=>at.value=Le})}if(l)for(const he in l)Om(l[he],r,n,he);if(c){const he=ge(c)?c.call(n):c;Reflect.ownKeys(he).forEach(Ee=>{ta(Ee,he[Ee])})}h&&ff(h,t,"c");function we(he,Ee){ae(Ee)?Ee.forEach(Ke=>he(Ke.bind(n))):Ee&&he(Ee.bind(n))}if(we(Dw,f),we(qu,g),we(Pw,y),we(Sm,S),we(kw,R),we(Rw,x),we(Mw,_),we(Lw,K),we(Vw,A),we(zu,N),we(km,O),we(Ow,v),ae(w))if(w.length){const he=t.exposed||(t.exposed={});w.forEach(Ee=>{Object.defineProperty(he,Ee,{get:()=>n[Ee],set:Ke=>n[Ee]=Ke})})}else t.exposed||(t.exposed={});W&&t.render===pn&&(t.render=W),I!=null&&(t.inheritAttrs=I),T&&(t.components=T),b&&(t.directives=b),v&&Am(t)}function Bw(t,e,n=pn){ae(t)&&(t=qc(t));for(const r in t){const i=t[r];let s;je(i)?"default"in i?s=gn(i.from||r,i.default,!0):s=gn(i.from||r):s=gn(i),pt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function ff(t,e,n){on(ae(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Om(t,e,n,r){let i=r.includes(".")?Gm(n,r):()=>n[r];if(Xe(t)){const s=e[t];ge(s)&&Lr(i,s)}else if(ge(t))Lr(i,t.bind(n));else if(je(t))if(ae(t))t.forEach(s=>Om(s,e,n,r));else{const s=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(s)&&Lr(i,s,t)}}function Vm(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,l=s.get(e);let c;return l?c=l:!i.length&&!n&&!r?c=e:(c={},i.length&&i.forEach(u=>_a(c,u,o,!0)),_a(c,e,o)),je(e)&&s.set(e,c),c}function _a(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&_a(t,s,n,!0),i&&i.forEach(o=>_a(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=jw[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const jw={data:pf,props:gf,emits:gf,methods:gs,computed:gs,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:gs,directives:gs,watch:Hw,provide:pf,inject:Uw};function pf(t,e){return e?t?function(){return rt(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function Uw(t,e){return gs(qc(t),qc(e))}function qc(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function St(t,e){return t?[...new Set([].concat(t,e))]:e}function gs(t,e){return t?rt(Object.create(null),t,e):e}function gf(t,e){return t?ae(t)&&ae(e)?[...new Set([...t,...e])]:rt(Object.create(null),df(t),df(e??{})):e}function Hw(t,e){if(!t)return e;if(!e)return t;const n=rt(Object.create(null),t);for(const r in e)n[r]=St(t[r],e[r]);return n}function Lm(){return{app:null,config:{isNativeTag:x0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qw=0;function zw(t,e){return function(r,i=null){ge(r)||(r=rt({},r)),i!=null&&!je(i)&&(i=null);const s=Lm(),o=new WeakSet,l=[];let c=!1;const u=s.app={_uid:qw++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Ab,get config(){return s.config},set config(h){},use(h,...f){return o.has(h)||(h&&ge(h.install)?(o.add(h),h.install(u,...f)):ge(h)&&(o.add(h),h(u,...f))),u},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),u},component(h,f){return f?(s.components[h]=f,u):s.components[h]},directive(h,f){return f?(s.directives[h]=f,u):s.directives[h]},mount(h,f,g){if(!c){const y=u._ceVNode||_e(r,i);return y.appContext=s,g===!0?g="svg":g===!1&&(g=void 0),t(y,h,g),c=!0,u._container=h,h.__vue_app__=u,Tl(y.component)}},onUnmount(h){l.push(h)},unmount(){c&&(on(l,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,f){return s.provides[h]=f,u},runWithContext(h){const f=_i;_i=u;try{return h()}finally{_i=f}}};return u}}let _i=null;function ta(t,e){if(dt){let n=dt.provides;const r=dt.parent&&dt.parent.provides;r===n&&(n=dt.provides=Object.create(r)),n[t]=e}}function gn(t,e,n=!1){const r=dt||ot;if(r||_i){const i=_i?_i._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ge(e)?e.call(r&&r.proxy):e}}const Mm={},Nm=()=>Object.create(Mm),Fm=t=>Object.getPrototypeOf(t)===Mm;function Kw(t,e,n,r=!1){const i={},s=Nm();t.propsDefaults=Object.create(null),$m(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:uw(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Ww(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,l=xe(i),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let g=h[f];if(bl(t.emitsOptions,g))continue;const y=e[g];if(c)if(Oe(s,g))y!==s[g]&&(s[g]=y,u=!0);else{const S=Qt(g);i[S]=zc(c,l,S,y,t,!1)}else y!==s[g]&&(s[g]=y,u=!0)}}}else{$m(t,e,i,s)&&(u=!0);let h;for(const f in l)(!e||!Oe(e,f)&&((h=Hr(f))===f||!Oe(e,h)))&&(c?n&&(n[f]!==void 0||n[h]!==void 0)&&(i[f]=zc(c,l,f,void 0,t,!0)):delete i[f]);if(s!==l)for(const f in s)(!e||!Oe(e,f))&&(delete s[f],u=!0)}u&&Cn(t.attrs,"set","")}function $m(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(_s(c))continue;const u=e[c];let h;i&&Oe(i,h=Qt(c))?!s||!s.includes(h)?n[h]=u:(l||(l={}))[h]=u:bl(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(s){const c=xe(n),u=l||Be;for(let h=0;h<s.length;h++){const f=s[h];n[f]=zc(i,c,f,u[f],t,!Oe(u,f))}}return o}function zc(t,e,n,r,i,s){const o=t[n];if(o!=null){const l=Oe(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ge(c)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const h=ho(i);r=u[n]=c.call(null,e),h()}}else r=c;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!l?r=!1:o[1]&&(r===""||r===Hr(n))&&(r=!0))}return r}const Gw=new WeakMap;function Bm(t,e,n=!1){const r=n?Gw:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},l=[];let c=!1;if(!ge(t)){const h=f=>{c=!0;const[g,y]=Bm(f,e,!0);rt(o,g),y&&l.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!c)return je(t)&&r.set(t,fi),fi;if(ae(s))for(let h=0;h<s.length;h++){const f=Qt(s[h]);mf(f)&&(o[f]=Be)}else if(s)for(const h in s){const f=Qt(h);if(mf(f)){const g=s[h],y=o[f]=ae(g)||ge(g)?{type:g}:rt({},g),S=y.type;let R=!1,x=!0;if(ae(S))for(let V=0;V<S.length;++V){const N=S[V],U=ge(N)&&N.name;if(U==="Boolean"){R=!0;break}else U==="String"&&(x=!1)}else R=ge(S)&&S.name==="Boolean";y[0]=R,y[1]=x,(R||Oe(y,"default"))&&l.push(f)}}const u=[o,l];return je(t)&&r.set(t,u),u}function mf(t){return t[0]!=="$"&&!_s(t)}const jm=t=>t[0]==="_"||t==="$stable",Ku=t=>ae(t)?t.map(dn):[dn(t)],Qw=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>Ku(e(...i)),n);return r._c=!1,r},Um=(t,e,n)=>{const r=t._ctx;for(const i in t){if(jm(i))continue;const s=t[i];if(ge(s))e[i]=Qw(i,s,r);else if(s!=null){const o=Ku(s);e[i]=()=>o}}},Hm=(t,e)=>{const n=Ku(e);t.slots.default=()=>n},qm=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},Yw=(t,e,n)=>{const r=t.slots=Nm();if(t.vnode.shapeFlag&32){const i=e._;i?(qm(r,e,n),n&&Kg(r,"_",i,!0)):Um(e,r)}else e&&Hm(t,e)},Xw=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Be;if(r.shapeFlag&32){const l=e._;l?n&&l===1?s=!1:qm(i,e,n):(s=!e.$stable,Um(e,i)),o=e}else e&&(Hm(t,e),o={default:1});if(s)for(const l in i)!jm(l)&&o[l]==null&&delete i[l]},Mt=hb;function Jw(t){return Zw(t)}function Zw(t,e){const n=gl();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:l,createComment:c,setText:u,setElementText:h,parentNode:f,nextSibling:g,setScopeId:y=pn,insertStaticContent:S}=t,R=(E,C,D,F=null,B=null,H=null,X=void 0,G=null,z=!!C.dynamicChildren)=>{if(E===C)return;E&&!kr(E,C)&&(F=Q(E),Le(E,B,H,!0),E=null),C.patchFlag===-2&&(z=!1,C.dynamicChildren=null);const{type:j,ref:ie,shapeFlag:J}=C;switch(j){case El:x(E,C,D,F);break;case Rt:V(E,C,D,F);break;case dc:E==null&&N(C,D,F,X);break;case Ye:T(E,C,D,F,B,H,X,G,z);break;default:J&1?W(E,C,D,F,B,H,X,G,z):J&6?b(E,C,D,F,B,H,X,G,z):(J&64||J&128)&&j.process(E,C,D,F,B,H,X,G,z,De)}ie!=null&&B&&va(ie,E&&E.ref,H,C||E,!C)},x=(E,C,D,F)=>{if(E==null)r(C.el=l(C.children),D,F);else{const B=C.el=E.el;C.children!==E.children&&u(B,C.children)}},V=(E,C,D,F)=>{E==null?r(C.el=c(C.children||""),D,F):C.el=E.el},N=(E,C,D,F)=>{[E.el,E.anchor]=S(E.children,C,D,F,E.el,E.anchor)},U=({el:E,anchor:C},D,F)=>{let B;for(;E&&E!==C;)B=g(E),r(E,D,F),E=B;r(C,D,F)},O=({el:E,anchor:C})=>{let D;for(;E&&E!==C;)D=g(E),i(E),E=D;i(C)},W=(E,C,D,F,B,H,X,G,z)=>{C.type==="svg"?X="svg":C.type==="math"&&(X="mathml"),E==null?K(C,D,F,B,H,X,G,z):v(E,C,B,H,X,G,z)},K=(E,C,D,F,B,H,X,G)=>{let z,j;const{props:ie,shapeFlag:J,transition:ne,dirs:ce}=E;if(z=E.el=o(E.type,H,ie&&ie.is,ie),J&8?h(z,E.children):J&16&&_(E.children,z,null,F,B,hc(E,H),X,G),ce&&Er(E,null,F,"created"),A(z,E,E.scopeId,X,F),ie){for(const de in ie)de!=="value"&&!_s(de)&&s(z,de,null,ie[de],H,F);"value"in ie&&s(z,"value",null,ie.value,H),(j=ie.onVnodeBeforeMount)&&ln(j,F,E)}ce&&Er(E,null,F,"beforeMount");const se=eb(B,ne);se&&ne.beforeEnter(z),r(z,C,D),((j=ie&&ie.onVnodeMounted)||se||ce)&&Mt(()=>{j&&ln(j,F,E),se&&ne.enter(z),ce&&Er(E,null,F,"mounted")},B)},A=(E,C,D,F,B)=>{if(D&&y(E,D),F)for(let H=0;H<F.length;H++)y(E,F[H]);if(B){let H=B.subTree;if(C===H||Ym(H.type)&&(H.ssContent===C||H.ssFallback===C)){const X=B.vnode;A(E,X,X.scopeId,X.slotScopeIds,B.parent)}}},_=(E,C,D,F,B,H,X,G,z=0)=>{for(let j=z;j<E.length;j++){const ie=E[j]=G?Kn(E[j]):dn(E[j]);R(null,ie,C,D,F,B,H,X,G)}},v=(E,C,D,F,B,H,X)=>{const G=C.el=E.el;let{patchFlag:z,dynamicChildren:j,dirs:ie}=C;z|=E.patchFlag&16;const J=E.props||Be,ne=C.props||Be;let ce;if(D&&Tr(D,!1),(ce=ne.onVnodeBeforeUpdate)&&ln(ce,D,C,E),ie&&Er(C,E,D,"beforeUpdate"),D&&Tr(D,!0),(J.innerHTML&&ne.innerHTML==null||J.textContent&&ne.textContent==null)&&h(G,""),j?w(E.dynamicChildren,j,G,D,F,hc(C,B),H):X||Ee(E,C,G,null,D,F,hc(C,B),H,!1),z>0){if(z&16)I(G,J,ne,D,B);else if(z&2&&J.class!==ne.class&&s(G,"class",null,ne.class,B),z&4&&s(G,"style",J.style,ne.style,B),z&8){const se=C.dynamicProps;for(let de=0;de<se.length;de++){const Ae=se[de],mt=J[Ae],lt=ne[Ae];(lt!==mt||Ae==="value")&&s(G,Ae,mt,lt,B,D)}}z&1&&E.children!==C.children&&h(G,C.children)}else!X&&j==null&&I(G,J,ne,D,B);((ce=ne.onVnodeUpdated)||ie)&&Mt(()=>{ce&&ln(ce,D,C,E),ie&&Er(C,E,D,"updated")},F)},w=(E,C,D,F,B,H,X)=>{for(let G=0;G<C.length;G++){const z=E[G],j=C[G],ie=z.el&&(z.type===Ye||!kr(z,j)||z.shapeFlag&70)?f(z.el):D;R(z,j,ie,null,F,B,H,X,!0)}},I=(E,C,D,F,B)=>{if(C!==D){if(C!==Be)for(const H in C)!_s(H)&&!(H in D)&&s(E,H,C[H],null,B,F);for(const H in D){if(_s(H))continue;const X=D[H],G=C[H];X!==G&&H!=="value"&&s(E,H,G,X,B,F)}"value"in D&&s(E,"value",C.value,D.value,B)}},T=(E,C,D,F,B,H,X,G,z)=>{const j=C.el=E?E.el:l(""),ie=C.anchor=E?E.anchor:l("");let{patchFlag:J,dynamicChildren:ne,slotScopeIds:ce}=C;ce&&(G=G?G.concat(ce):ce),E==null?(r(j,D,F),r(ie,D,F),_(C.children||[],D,ie,B,H,X,G,z)):J>0&&J&64&&ne&&E.dynamicChildren?(w(E.dynamicChildren,ne,D,B,H,X,G),(C.key!=null||B&&C===B.subTree)&&zm(E,C,!0)):Ee(E,C,D,ie,B,H,X,G,z)},b=(E,C,D,F,B,H,X,G,z)=>{C.slotScopeIds=G,E==null?C.shapeFlag&512?B.ctx.activate(C,D,F,X,z):pe(C,D,F,B,H,X,z):be(E,C,z)},pe=(E,C,D,F,B,H,X)=>{const G=E.component=yb(E,F,B);if(_l(E)&&(G.ctx.renderer=De),_b(G,!1,X),G.asyncDep){if(B&&B.registerDep(G,we,X),!E.el){const z=G.subTree=_e(Rt);V(null,z,C,D)}}else we(G,E,C,D,B,H,X)},be=(E,C,D)=>{const F=C.component=E.component;if(cb(E,C,D))if(F.asyncDep&&!F.asyncResolved){he(F,C,D);return}else F.next=C,F.update();else C.el=E.el,F.vnode=C},we=(E,C,D,F,B,H,X)=>{const G=()=>{if(E.isMounted){let{next:J,bu:ne,u:ce,parent:se,vnode:de}=E;{const vt=Km(E);if(vt){J&&(J.el=de.el,he(E,J,X)),vt.asyncDep.then(()=>{E.isUnmounted||G()});return}}let Ae=J,mt;Tr(E,!1),J?(J.el=de.el,he(E,J,X)):J=de,ne&&ea(ne),(mt=J.props&&J.props.onVnodeBeforeUpdate)&&ln(mt,se,J,de),Tr(E,!0);const lt=yf(E),Ut=E.subTree;E.subTree=lt,R(Ut,lt,f(Ut.el),Q(Ut),E,B,H),J.el=lt.el,Ae===null&&ub(E,lt.el),ce&&Mt(ce,B),(mt=J.props&&J.props.onVnodeUpdated)&&Mt(()=>ln(mt,se,J,de),B)}else{let J;const{el:ne,props:ce}=C,{bm:se,m:de,parent:Ae,root:mt,type:lt}=E,Ut=yi(C);Tr(E,!1),se&&ea(se),!Ut&&(J=ce&&ce.onVnodeBeforeMount)&&ln(J,Ae,C),Tr(E,!0);{mt.ce&&mt.ce._injectChildStyle(lt);const vt=E.subTree=yf(E);R(null,vt,D,F,E,B,H),C.el=vt.el}if(de&&Mt(de,B),!Ut&&(J=ce&&ce.onVnodeMounted)){const vt=C;Mt(()=>ln(J,Ae,vt),B)}(C.shapeFlag&256||Ae&&yi(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&E.a&&Mt(E.a,B),E.isMounted=!0,C=D=F=null}};E.scope.on();const z=E.effect=new Xg(G);E.scope.off();const j=E.update=z.run.bind(z),ie=E.job=z.runIfDirty.bind(z);ie.i=E,ie.id=E.uid,z.scheduler=()=>Uu(ie),Tr(E,!0),j()},he=(E,C,D)=>{C.component=E;const F=E.vnode.props;E.vnode=C,E.next=null,Ww(E,C.props,F,D),Xw(E,C.children,D),gr(),cf(E),mr()},Ee=(E,C,D,F,B,H,X,G,z=!1)=>{const j=E&&E.children,ie=E?E.shapeFlag:0,J=C.children,{patchFlag:ne,shapeFlag:ce}=C;if(ne>0){if(ne&128){At(j,J,D,F,B,H,X,G,z);return}else if(ne&256){Ke(j,J,D,F,B,H,X,G,z);return}}ce&8?(ie&16&&Z(j,B,H),J!==j&&h(D,J)):ie&16?ce&16?At(j,J,D,F,B,H,X,G,z):Z(j,B,H,!0):(ie&8&&h(D,""),ce&16&&_(J,D,F,B,H,X,G,z))},Ke=(E,C,D,F,B,H,X,G,z)=>{E=E||fi,C=C||fi;const j=E.length,ie=C.length,J=Math.min(j,ie);let ne;for(ne=0;ne<J;ne++){const ce=C[ne]=z?Kn(C[ne]):dn(C[ne]);R(E[ne],ce,D,null,B,H,X,G,z)}j>ie?Z(E,B,H,!0,!1,J):_(C,D,F,B,H,X,G,z,J)},At=(E,C,D,F,B,H,X,G,z)=>{let j=0;const ie=C.length;let J=E.length-1,ne=ie-1;for(;j<=J&&j<=ne;){const ce=E[j],se=C[j]=z?Kn(C[j]):dn(C[j]);if(kr(ce,se))R(ce,se,D,null,B,H,X,G,z);else break;j++}for(;j<=J&&j<=ne;){const ce=E[J],se=C[ne]=z?Kn(C[ne]):dn(C[ne]);if(kr(ce,se))R(ce,se,D,null,B,H,X,G,z);else break;J--,ne--}if(j>J){if(j<=ne){const ce=ne+1,se=ce<ie?C[ce].el:F;for(;j<=ne;)R(null,C[j]=z?Kn(C[j]):dn(C[j]),D,se,B,H,X,G,z),j++}}else if(j>ne)for(;j<=J;)Le(E[j],B,H,!0),j++;else{const ce=j,se=j,de=new Map;for(j=se;j<=ne;j++){const ct=C[j]=z?Kn(C[j]):dn(C[j]);ct.key!=null&&de.set(ct.key,j)}let Ae,mt=0;const lt=ne-se+1;let Ut=!1,vt=0;const Mn=new Array(lt);for(j=0;j<lt;j++)Mn[j]=0;for(j=ce;j<=J;j++){const ct=E[j];if(mt>=lt){Le(ct,B,H,!0);continue}let Ht;if(ct.key!=null)Ht=de.get(ct.key);else for(Ae=se;Ae<=ne;Ae++)if(Mn[Ae-se]===0&&kr(ct,C[Ae])){Ht=Ae;break}Ht===void 0?Le(ct,B,H,!0):(Mn[Ht-se]=j+1,Ht>=vt?vt=Ht:Ut=!0,R(ct,C[Ht],D,null,B,H,X,G,z),mt++)}const Yi=Ut?tb(Mn):fi;for(Ae=Yi.length-1,j=lt-1;j>=0;j--){const ct=se+j,Ht=C[ct],Eo=ct+1<ie?C[ct+1].el:F;Mn[j]===0?R(null,Ht,D,Eo,B,H,X,G,z):Ut&&(Ae<0||j!==Yi[Ae]?at(Ht,D,Eo,2):Ae--)}}},at=(E,C,D,F,B=null)=>{const{el:H,type:X,transition:G,children:z,shapeFlag:j}=E;if(j&6){at(E.component.subTree,C,D,F);return}if(j&128){E.suspense.move(C,D,F);return}if(j&64){X.move(E,C,D,De);return}if(X===Ye){r(H,C,D);for(let J=0;J<z.length;J++)at(z[J],C,D,F);r(E.anchor,C,D);return}if(X===dc){U(E,C,D);return}if(F!==2&&j&1&&G)if(F===0)G.beforeEnter(H),r(H,C,D),Mt(()=>G.enter(H),B);else{const{leave:J,delayLeave:ne,afterLeave:ce}=G,se=()=>r(H,C,D),de=()=>{J(H,()=>{se(),ce&&ce()})};ne?ne(H,se,de):de()}else r(H,C,D)},Le=(E,C,D,F=!1,B=!1)=>{const{type:H,props:X,ref:G,children:z,dynamicChildren:j,shapeFlag:ie,patchFlag:J,dirs:ne,cacheIndex:ce}=E;if(J===-2&&(B=!1),G!=null&&va(G,null,D,E,!0),ce!=null&&(C.renderCache[ce]=void 0),ie&256){C.ctx.deactivate(E);return}const se=ie&1&&ne,de=!yi(E);let Ae;if(de&&(Ae=X&&X.onVnodeBeforeUnmount)&&ln(Ae,C,E),ie&6)M(E.component,D,F);else{if(ie&128){E.suspense.unmount(D,F);return}se&&Er(E,null,C,"beforeUnmount"),ie&64?E.type.remove(E,C,D,De,F):j&&!j.hasOnce&&(H!==Ye||J>0&&J&64)?Z(j,C,D,!1,!0):(H===Ye&&J&384||!B&&ie&16)&&Z(z,C,D),F&&Me(E)}(de&&(Ae=X&&X.onVnodeUnmounted)||se)&&Mt(()=>{Ae&&ln(Ae,C,E),se&&Er(E,null,C,"unmounted")},D)},Me=E=>{const{type:C,el:D,anchor:F,transition:B}=E;if(C===Ye){Jt(D,F);return}if(C===dc){O(E);return}const H=()=>{i(D),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(E.shapeFlag&1&&B&&!B.persisted){const{leave:X,delayLeave:G}=B,z=()=>X(D,H);G?G(E.el,H,z):z()}else H()},Jt=(E,C)=>{let D;for(;E!==C;)D=g(E),i(E),E=D;i(C)},M=(E,C,D)=>{const{bum:F,scope:B,job:H,subTree:X,um:G,m:z,a:j}=E;vf(z),vf(j),F&&ea(F),B.stop(),H&&(H.flags|=8,Le(X,E,C,D)),G&&Mt(G,C),Mt(()=>{E.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},Z=(E,C,D,F=!1,B=!1,H=0)=>{for(let X=H;X<E.length;X++)Le(E[X],C,D,F,B)},Q=E=>{if(E.shapeFlag&6)return Q(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const C=g(E.anchor||E.el),D=C&&C[Aw];return D?g(D):C};let te=!1;const Re=(E,C,D)=>{E==null?C._vnode&&Le(C._vnode,null,null,!0):R(C._vnode||null,E,C,null,null,null,D),C._vnode=E,te||(te=!0,cf(),mm(),te=!1)},De={p:R,um:Le,m:at,r:Me,mt:pe,mc:_,pc:Ee,pbc:w,n:Q,o:t};return{render:Re,hydrate:void 0,createApp:zw(Re)}}function hc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Tr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function eb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zm(t,e,n=!1){const r=t.children,i=e.children;if(ae(r)&&ae(i))for(let s=0;s<r.length;s++){const o=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=Kn(i[s]),l.el=o.el),!n&&l.patchFlag!==-2&&zm(o,l)),l.type===El&&(l.el=o.el)}}function tb(t){const e=t.slice(),n=[0];let r,i,s,o,l;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)l=s+o>>1,t[n[l]]<u?s=l+1:o=l;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Km(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Km(e)}function vf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const nb=Symbol.for("v-scx"),rb=()=>gn(nb);function Lr(t,e,n){return Wm(t,e,n)}function Wm(t,e,n=Be){const{immediate:r,deep:i,flush:s,once:o}=n,l=rt({},n),c=e&&r||!e&&s!=="post";let u;if(zs){if(s==="sync"){const y=rb();u=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=pn,y.resume=pn,y.pause=pn,y}}const h=dt;l.call=(y,S,R)=>on(y,h,S,R);let f=!1;s==="post"?l.scheduler=y=>{Mt(y,h&&h.suspense)}:s!=="sync"&&(f=!0,l.scheduler=(y,S)=>{S?y():Uu(y)}),l.augmentJob=y=>{e&&(y.flags|=4),f&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const g=bw(t,e,l);return zs&&(u?u.push(g):c&&g()),g}function ib(t,e,n){const r=this.proxy,i=Xe(t)?t.includes(".")?Gm(r,t):()=>r[t]:t.bind(r,r);let s;ge(e)?s=e:(s=e.handler,n=e);const o=ho(this),l=Wm(i,s.bind(r),n);return o(),l}function Gm(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const sb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qt(e)}Modifiers`]||t[`${Hr(e)}Modifiers`];function ob(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Be;let i=n;const s=e.startsWith("update:"),o=s&&sb(r,e.slice(7));o&&(o.trim&&(i=n.map(h=>Xe(h)?h.trim():h)),o.number&&(i=n.map(Mc)));let l,c=r[l=ic(e)]||r[l=ic(Qt(e))];!c&&s&&(c=r[l=ic(Hr(e))]),c&&on(c,t,6,i);const u=r[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,on(u,t,6,i)}}function Qm(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},l=!1;if(!ge(t)){const c=u=>{const h=Qm(u,e,!0);h&&(l=!0,rt(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!l?(je(t)&&r.set(t,null),null):(ae(s)?s.forEach(c=>o[c]=null):rt(o,s),je(t)&&r.set(t,o),o)}function bl(t,e){return!t||!hl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,Hr(e))||Oe(t,e))}function yf(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:l,emit:c,render:u,renderCache:h,props:f,data:g,setupState:y,ctx:S,inheritAttrs:R}=t,x=ma(t);let V,N;try{if(n.shapeFlag&4){const O=i||r,W=O;V=dn(u.call(W,O,h,f,y,g,S)),N=l}else{const O=e;V=dn(O.length>1?O(f,{attrs:l,slots:o,emit:c}):O(f,null)),N=e.props?l:ab(l)}}catch(O){Ts.length=0,yl(O,t,1),V=_e(Rt)}let U=V;if(N&&R!==!1){const O=Object.keys(N),{shapeFlag:W}=U;O.length&&W&7&&(s&&O.some(Du)&&(N=lb(N,s)),U=ar(U,N,!1,!0))}return n.dirs&&(U=ar(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&Fr(U,n.transition),V=U,ma(x),V}const ab=t=>{let e;for(const n in t)(n==="class"||n==="style"||hl(n))&&((e||(e={}))[n]=t[n]);return e},lb=(t,e)=>{const n={};for(const r in t)(!Du(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function cb(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:l,patchFlag:c}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?_f(r,o,u):!!o;if(c&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const g=h[f];if(o[g]!==r[g]&&!bl(u,g))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?_f(r,o,u):!0:!!o;return!1}function _f(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!bl(n,s))return!0}return!1}function ub({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ym=t=>t.__isSuspense;function hb(t,e){e&&e.pendingBranch?ae(t)?e.effects.push(...t):e.effects.push(t):Iw(t)}const Ye=Symbol.for("v-fgt"),El=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),dc=Symbol.for("v-stc"),Ts=[];let Ft=null;function re(t=!1){Ts.push(Ft=t?null:[])}function db(){Ts.pop(),Ft=Ts[Ts.length-1]||null}let Hs=1;function wf(t,e=!1){Hs+=t,t<0&&Ft&&e&&(Ft.hasOnce=!0)}function Xm(t){return t.dynamicChildren=Hs>0?Ft||fi:null,db(),Hs>0&&Ft&&Ft.push(t),t}function ye(t,e,n,r,i,s){return Xm(L(t,e,n,r,i,s,!0))}function Bt(t,e,n,r,i){return Xm(_e(t,e,n,r,i,!0))}function qs(t){return t?t.__v_isVNode===!0:!1}function kr(t,e){return t.type===e.type&&t.key===e.key}const Jm=({key:t})=>t??null,na=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Xe(t)||pt(t)||ge(t)?{i:ot,r:t,k:e,f:!!n}:t:null);function L(t,e=null,n=null,r=0,i=null,s=t===Ye?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Jm(e),ref:e&&na(e),scopeId:ym,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ot};return l?(Wu(c,n),s&128&&t.normalize(c)):n&&(c.shapeFlag|=Xe(n)?8:16),Hs>0&&!o&&Ft&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Ft.push(c),c}const _e=fb;function fb(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===xm)&&(t=Rt),qs(t)){const l=ar(t,e,!0);return n&&Wu(l,n),Hs>0&&!s&&Ft&&(l.shapeFlag&6?Ft[Ft.indexOf(t)]=l:Ft.push(l)),l.patchFlag=-2,l}if(Ib(t)&&(t=t.__vccOpts),e){e=pb(e);let{class:l,style:c}=e;l&&!Xe(l)&&(e.class=lo(l)),je(c)&&(Bu(c)&&!ae(c)&&(c=rt({},c)),e.style=Fs(c))}const o=Xe(t)?1:Ym(t)?128:_m(t)?64:je(t)?4:ge(t)?2:0;return L(t,e,n,r,i,o,s,!0)}function pb(t){return t?Bu(t)||Fm(t)?rt({},t):t:null}function ar(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:l,transition:c}=t,u=e?gb(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Jm(u),ref:e&&e.ref?n&&s?ae(s)?s.concat(na(e)):[s,na(e)]:na(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ar(t.ssContent),ssFallback:t.ssFallback&&ar(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Fr(h,c.clone(h)),h}function nn(t=" ",e=0){return _e(El,null,t,e)}function uo(t="",e=!1){return e?(re(),Bt(Rt,null,t)):_e(Rt,null,t)}function dn(t){return t==null||typeof t=="boolean"?_e(Rt):ae(t)?_e(Ye,null,t.slice()):qs(t)?Kn(t):_e(El,null,String(t))}function Kn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ar(t)}function Wu(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ae(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Wu(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Fm(e)?e._ctx=ot:i===3&&ot&&(ot.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:ot},n=32):(e=String(e),r&64?(n=16,e=[nn(e)]):n=8);t.children=e,t.shapeFlag|=n}function gb(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=lo([e.class,r.class]));else if(i==="style")e.style=Fs([e.style,r.style]);else if(hl(i)){const s=e[i],o=r[i];o&&s!==o&&!(ae(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function ln(t,e,n,r=null){on(t,e,7,[n,r])}const mb=Lm();let vb=0;function yb(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||mb,s={uid:vb++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new H0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bm(r,i),emitsOptions:Qm(r,i),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:r.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=ob.bind(null,s),t.ce&&t.ce(s),s}let dt=null;const Zm=()=>dt||ot;let wa,Kc;{const t=gl(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};wa=e("__VUE_INSTANCE_SETTERS__",n=>dt=n),Kc=e("__VUE_SSR_SETTERS__",n=>zs=n)}const ho=t=>{const e=dt;return wa(t),t.scope.on(),()=>{t.scope.off(),wa(e)}},bf=()=>{dt&&dt.scope.off(),wa(null)};function ev(t){return t.vnode.shapeFlag&4}let zs=!1;function _b(t,e=!1,n=!1){e&&Kc(e);const{props:r,children:i}=t.vnode,s=ev(t);Kw(t,r,s,e),Yw(t,i,n);const o=s?wb(t,e):void 0;return e&&Kc(!1),o}function wb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Fw);const{setup:r}=n;if(r){gr();const i=t.setupContext=r.length>1?Eb(t):null,s=ho(t),o=co(r,t,0,[t.props,i]),l=Hg(o);if(mr(),s(),(l||t.sp)&&!yi(t)&&Am(t),l){if(o.then(bf,bf),e)return o.then(c=>{Ef(t,c)}).catch(c=>{yl(c,t,0)});t.asyncDep=o}else Ef(t,o)}else tv(t)}function Ef(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:je(e)&&(t.setupState=fm(e)),tv(t)}function tv(t,e,n){const r=t.type;t.render||(t.render=r.render||pn);{const i=ho(t);gr();try{$w(t)}finally{mr(),i()}}}const bb={get(t,e){return Et(t,"get",""),t[e]}};function Eb(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,bb),slots:t.slots,emit:t.emit,expose:e}}function Tl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fm(hw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Es)return Es[n](t)},has(e,n){return n in e||n in Es}})):t.proxy}function Tb(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function Ib(t){return ge(t)&&"__vccOpts"in t}const fn=(t,e)=>_w(t,e,zs);function Gu(t,e,n){const r=arguments.length;return r===2?je(e)&&!ae(e)?qs(e)?_e(t,null,[e]):_e(t,e):_e(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&qs(n)&&(n=[n]),_e(t,e,n))}const Ab="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wc;const Tf=typeof window<"u"&&window.trustedTypes;if(Tf)try{Wc=Tf.createPolicy("vue",{createHTML:t=>t})}catch{}const nv=Wc?t=>Wc.createHTML(t):t=>t,Cb="http://www.w3.org/2000/svg",Sb="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,If=An&&An.createElement("template"),kb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?An.createElementNS(Cb,t):e==="mathml"?An.createElementNS(Sb,t):n?An.createElement(t,{is:n}):An.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>An.createTextNode(t),createComment:t=>An.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>An.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{If.innerHTML=nv(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=If.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Bn="transition",us="animation",Si=Symbol("_vtc"),rv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},iv=rt({},bm,rv),Rb=t=>(t.displayName="Transition",t.props=iv,t),sv=Rb((t,{slots:e})=>Gu(Sw,ov(t),e)),Ir=(t,e=[])=>{ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},Af=t=>t?ae(t)?t.some(e=>e.length>1):t.length>1:!1;function ov(t){const e={};for(const T in t)T in rv||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=o,appearToClass:h=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,S=xb(i),R=S&&S[0],x=S&&S[1],{onBeforeEnter:V,onEnter:N,onEnterCancelled:U,onLeave:O,onLeaveCancelled:W,onBeforeAppear:K=V,onAppear:A=N,onAppearCancelled:_=U}=e,v=(T,b,pe,be)=>{T._enterCancelled=be,Hn(T,b?h:l),Hn(T,b?u:o),pe&&pe()},w=(T,b)=>{T._isLeaving=!1,Hn(T,f),Hn(T,y),Hn(T,g),b&&b()},I=T=>(b,pe)=>{const be=T?A:N,we=()=>v(b,T,pe);Ir(be,[b,we]),Cf(()=>{Hn(b,T?c:s),cn(b,T?h:l),Af(be)||Sf(b,r,R,we)})};return rt(e,{onBeforeEnter(T){Ir(V,[T]),cn(T,s),cn(T,o)},onBeforeAppear(T){Ir(K,[T]),cn(T,c),cn(T,u)},onEnter:I(!1),onAppear:I(!0),onLeave(T,b){T._isLeaving=!0;const pe=()=>w(T,b);cn(T,f),T._enterCancelled?(cn(T,g),Gc()):(Gc(),cn(T,g)),Cf(()=>{T._isLeaving&&(Hn(T,f),cn(T,y),Af(O)||Sf(T,r,x,pe))}),Ir(O,[T,pe])},onEnterCancelled(T){v(T,!1,void 0,!0),Ir(U,[T])},onAppearCancelled(T){v(T,!0,void 0,!0),Ir(_,[T])},onLeaveCancelled(T){w(T),Ir(W,[T])}})}function xb(t){if(t==null)return null;if(je(t))return[fc(t.enter),fc(t.leave)];{const e=fc(t);return[e,e]}}function fc(t){return L0(t)}function cn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Si]||(t[Si]=new Set)).add(e)}function Hn(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Si];n&&(n.delete(e),n.size||(t[Si]=void 0))}function Cf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Db=0;function Sf(t,e,n,r){const i=t._endId=++Db,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:l,propCount:c}=av(t,e);if(!o)return r();const u=o+"end";let h=0;const f=()=>{t.removeEventListener(u,g),s()},g=y=>{y.target===t&&++h>=c&&f()};setTimeout(()=>{h<c&&f()},l+1),t.addEventListener(u,g)}function av(t,e){const n=window.getComputedStyle(t),r=S=>(n[S]||"").split(", "),i=r(`${Bn}Delay`),s=r(`${Bn}Duration`),o=kf(i,s),l=r(`${us}Delay`),c=r(`${us}Duration`),u=kf(l,c);let h=null,f=0,g=0;e===Bn?o>0&&(h=Bn,f=o,g=s.length):e===us?u>0&&(h=us,f=u,g=c.length):(f=Math.max(o,u),h=f>0?o>u?Bn:us:null,g=h?h===Bn?s.length:c.length:0);const y=h===Bn&&/\b(transform|all)(,|$)/.test(r(`${Bn}Property`).toString());return{type:h,timeout:f,propCount:g,hasTransform:y}}function kf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Rf(n)+Rf(t[r])))}function Rf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Gc(){return document.body.offsetHeight}function Pb(t,e,n){const r=t[Si];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const xf=Symbol("_vod"),Ob=Symbol("_vsh"),Vb=Symbol(""),Lb=/(^|;)\s*display\s*:/;function Mb(t,e,n){const r=t.style,i=Xe(n);let s=!1;if(n&&!i){if(e)if(Xe(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ra(r,l,"")}else for(const o in e)n[o]==null&&ra(r,o,"");for(const o in n)o==="display"&&(s=!0),ra(r,o,n[o])}else if(i){if(e!==n){const o=r[Vb];o&&(n+=";"+o),r.cssText=n,s=Lb.test(n)}}else e&&t.removeAttribute("style");xf in t&&(t[xf]=s?r.display:"",t[Ob]&&(r.display="none"))}const Df=/\s*!important$/;function ra(t,e,n){if(ae(n))n.forEach(r=>ra(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Nb(t,e);Df.test(n)?t.setProperty(Hr(r),n.replace(Df,""),"important"):t[r]=n}}const Pf=["Webkit","Moz","ms"],pc={};function Nb(t,e){const n=pc[e];if(n)return n;let r=Qt(e);if(r!=="filter"&&r in t)return pc[e]=r;r=pl(r);for(let i=0;i<Pf.length;i++){const s=Pf[i]+r;if(s in t)return pc[e]=s}return e}const Of="http://www.w3.org/1999/xlink";function Vf(t,e,n,r,i,s=j0(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Of,e.slice(6,e.length)):t.setAttributeNS(Of,e,n):n==null||s&&!Wg(n)?t.removeAttribute(e):t.setAttribute(e,s?"":sn(n)?String(n):n)}function Lf(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?nv(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Wg(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Rr(t,e,n,r){t.addEventListener(e,n,r)}function Fb(t,e,n,r){t.removeEventListener(e,n,r)}const Mf=Symbol("_vei");function $b(t,e,n,r,i=null){const s=t[Mf]||(t[Mf]={}),o=s[e];if(r&&o)o.value=r;else{const[l,c]=Bb(e);if(r){const u=s[e]=Hb(r,i);Rr(t,l,u,c)}else o&&(Fb(t,l,o,c),s[e]=void 0)}}const Nf=/(?:Once|Passive|Capture)$/;function Bb(t){let e;if(Nf.test(t)){e={};let r;for(;r=t.match(Nf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hr(t.slice(2)),e]}let gc=0;const jb=Promise.resolve(),Ub=()=>gc||(jb.then(()=>gc=0),gc=Date.now());function Hb(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;on(qb(r,n.value),e,5,[r])};return n.value=t,n.attached=Ub(),n}function qb(t,e){if(ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Ff=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,zb=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?Pb(t,r,o):e==="style"?Mb(t,n,r):hl(e)?Du(e)||$b(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Kb(t,e,r,o))?(Lf(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Vf(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Xe(r))?Lf(t,Qt(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Vf(t,e,r,o))};function Kb(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ff(e)&&ge(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ff(e)&&Xe(n)?!1:e in t}const lv=new WeakMap,cv=new WeakMap,ba=Symbol("_moveCb"),$f=Symbol("_enterCb"),Wb=t=>(delete t.props.mode,t),Gb=Wb({name:"TransitionGroup",props:rt({},iv,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Zm(),r=wm();let i,s;return Sm(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Zb(i[0].el,n.vnode.el,o))return;i.forEach(Yb),i.forEach(Xb);const l=i.filter(Jb);Gc(),l.forEach(c=>{const u=c.el,h=u.style;cn(u,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=u[ba]=g=>{g&&g.target!==u||(!g||/transform$/.test(g.propertyName))&&(u.removeEventListener("transitionend",f),u[ba]=null,Hn(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=xe(t),l=ov(o);let c=o.tag||Ye;if(i=[],s)for(let u=0;u<s.length;u++){const h=s[u];h.el&&h.el instanceof Element&&(i.push(h),Fr(h,Us(h,l,r,n)),lv.set(h,h.el.getBoundingClientRect()))}s=e.default?Hu(e.default()):[];for(let u=0;u<s.length;u++){const h=s[u];h.key!=null&&Fr(h,Us(h,l,r,n))}return _e(c,null,s)}}}),Qb=Gb;function Yb(t){const e=t.el;e[ba]&&e[ba](),e[$f]&&e[$f]()}function Xb(t){cv.set(t,t.el.getBoundingClientRect())}function Jb(t){const e=lv.get(t),n=cv.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function Zb(t,e,n){const r=t.cloneNode(),i=t[Si];i&&i.forEach(l=>{l.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=av(r);return s.removeChild(r),o}const Ea=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ae(e)?n=>ea(e,n):e};function eE(t){t.target.composing=!0}function Bf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const wi=Symbol("_assign"),Pr={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[wi]=Ea(i);const s=r||i.props&&i.props.type==="number";Rr(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),s&&(l=Mc(l)),t[wi](l)}),n&&Rr(t,"change",()=>{t.value=t.value.trim()}),e||(Rr(t,"compositionstart",eE),Rr(t,"compositionend",Bf),Rr(t,"change",Bf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[wi]=Ea(o),t.composing)return;const l=(s||t.type==="number")&&!/^0\d/.test(t.value)?Mc(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===c)||(t.value=c))}},tE={deep:!0,created(t,e,n){t[wi]=Ea(n),Rr(t,"change",()=>{const r=t._modelValue,i=nE(t),s=t.checked,o=t[wi];if(ae(r)){const l=Gg(r,i),c=l!==-1;if(s&&!c)o(r.concat(i));else if(!s&&c){const u=[...r];u.splice(l,1),o(u)}}else if(dl(r)){const l=new Set(r);s?l.add(i):l.delete(i),o(l)}else o(uv(t,s))})},mounted:jf,beforeUpdate(t,e,n){t[wi]=Ea(n),jf(t,e,n)}};function jf(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(ae(e))i=Gg(e,r.props.value)>-1;else if(dl(e))i=e.has(r.props.value);else{if(e===n)return;i=ml(e,uv(t,!0))}t.checked!==i&&(t.checked=i)}function nE(t){return"_value"in t?t._value:t.value}function uv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const rE=["ctrl","shift","alt","meta"],iE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>rE.some(n=>t[`${n}Key`]&&!e.includes(n))},hv=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const l=iE[e[o]];if(l&&l(i,e))return}return t(i,...s)})},sE=rt({patchProp:zb},kb);let Uf;function oE(){return Uf||(Uf=Jw(sE))}const aE=(...t)=>{const e=oE().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=cE(r);if(!i)return;const s=e._component;!ge(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,lE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function lE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function cE(t){return Xe(t)?document.querySelector(t):t}function uE(t,e){let n;return(...r)=>{n!==void 0&&clearTimeout(n),n=setTimeout(()=>t(...r),e)}}function hE({columns:t,columnWidth:e,emit:n,gap:r,items:i,maxColumns:s,minColumns:o,nextTick:l,onBeforeUnmount:c,onMounted:u,rtl:h,scrollContainer:f,ssrColumns:g,vue:y,wall:S,watch:R}){function x(v,w,I,T){const b=V(I);return T+w+b<=v?x(v,w,I+1,T+w+b):I}function V(v){const w=Array.isArray(e.value)?e.value:[e.value];return w[v%w.length]}function N(){const v=x(S.value.getBoundingClientRect().width,r.value,0,-r.value),w=O(U(v));return w>0?w:1}function U(v){const w=s==null?void 0:s.value;return w&&v>w?w:v}function O(v){const w=o==null?void 0:o.value;return w&&v<w?w:v}if(g.value>0){const v=Hf(g.value);i.value.forEach((w,I)=>v[I%g.value].push(I)),t.value=v}let W=0;async function K(v,w){if(v>=i.value.length||(await l(),W!==w))return;const I=[...S.value.children];h.value&&I.reverse();const T=I.reduce((b,pe)=>pe.getBoundingClientRect().height<b.getBoundingClientRect().height?pe:b);t.value[+T.dataset.index].push(v),await K(v+1,w)}async function A(v=!1){const w=N();if(t.value.length===w&&!v){n(y===2?"redraw-skip":"redrawSkip");return}t.value=Hf(w);const I=f==null?void 0:f.value,T=I?I.scrollTop:window.scrollY;await K(0,++W),I?I.scrollBy({top:T-I.scrollTop}):window.scrollTo({top:T}),n("redraw")}const _=typeof ResizeObserver>"u"?void 0:new ResizeObserver(uE(()=>A()));return u(()=>{A(),_==null||_.observe(S.value)}),c(()=>_==null?void 0:_.unobserve(S.value)),R([i,h],()=>A(!0)),R([e,r,o,s],()=>A()),{getColumnWidthTarget:V}}function Hf(t){return Array.from({length:t}).map(()=>[])}const dE=["data-index"],fE=xt({__name:"masonry-wall",props:{columnWidth:{default:400},items:{},gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null},minColumns:{default:1},maxColumns:{},keyMapper:{}},emits:["redraw","redrawSkip"],setup(t,{emit:e}){const n=t,r=e,i=jc([]),s=jc(),{getColumnWidthTarget:o}=hE({columns:i,emit:r,nextTick:ju,onBeforeUnmount:zu,onMounted:qu,vue:3,wall:s,watch:Lr,...gw(n)});return(l,c)=>(re(),ye("div",{ref_key:"wall",ref:s,class:"masonry-wall",style:Fs({display:"flex",gap:`${l.gap}px`})},[(re(!0),ye(Ye,null,Ci(i.value,(u,h)=>(re(),ye("div",{key:h,class:"masonry-column","data-index":h,style:Fs({display:"flex","flex-basis":`${mi(o)(h)}px`,"flex-direction":"column","flex-grow":1,gap:`${l.gap}px`,height:["-webkit-max-content","-moz-max-content","max-content"],"min-width":0})},[(re(!0),ye(Ye,null,Ci(u,(f,g)=>{var y;return re(),ye("div",{key:((y=l.keyMapper)==null?void 0:y.call(l,l.items[f],h,g,f))??f,class:"masonry-item"},[ya(l.$slots,"default",{item:l.items[f],column:h,row:g,index:f},()=>[nn(He(l.items[f]),1)])])}),128))],12,dE))),128))],4))}}),pE=(()=>{const t=fE;return t.install=e=>{e.component("MasonryWall",t)},t})();function gE(){return dv().__VUE_DEVTOOLS_GLOBAL_HOOK__}function dv(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const mE=typeof Proxy=="function",vE="devtools-plugin:setup",yE="plugin:settings:set";let ii,Qc;function _E(){var t;return ii!==void 0||(typeof window<"u"&&window.performance?(ii=!0,Qc=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(ii=!0,Qc=globalThis.perf_hooks.performance):ii=!1),ii}function wE(){return _E()?Qc.now():Date.now()}class bE{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const l=e.settings[o];r[o]=l.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),l=JSON.parse(o);Object.assign(s,l)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return wE()}},n&&n.on(yE,(o,l)=>{o===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(o,l)=>this.target?this.target.on[l]:(...c)=>{this.onQueue.push({method:l,args:c})}}),this.proxiedTarget=new Proxy({},{get:(o,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...c)=>(this.targetQueue.push({method:l,args:c,resolve:()=>{}}),this.fallbacks[l](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:l,args:c,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function EE(t,e){const n=t,r=dv(),i=gE(),s=mE&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(vE,t,e);else{const o=s?new bE(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var TE="store";function Hi(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function fv(t){return t!==null&&typeof t=="object"}function IE(t){return t&&typeof t.then=="function"}function AE(t,e){return function(){return t(e)}}function pv(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function gv(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Il(t,n,[],t._modules.root,!0),Qu(t,n,e)}function Qu(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};Hi(i,function(o,l){s[l]=AE(o,t),Object.defineProperty(t.getters,l,{get:function(){return s[l]()},enumerable:!0})}),t._state=Ui({data:e}),t.strict&&xE(t),r&&n&&t._withCommit(function(){r.data=null})}function Il(t,e,n,r,i){var s=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!s&&!i){var l=Yu(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){l[c]=r.state})}var u=r.context=CE(t,o,n);r.forEachMutation(function(h,f){var g=o+f;SE(t,g,h,u)}),r.forEachAction(function(h,f){var g=h.root?f:o+f,y=h.handler||h;kE(t,g,y,u)}),r.forEachGetter(function(h,f){var g=o+f;RE(t,g,h,u)}),r.forEachChild(function(h,f){Il(t,e,n.concat(f),h,i)})}function CE(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,o,l){var c=Ta(s,o,l),u=c.payload,h=c.options,f=c.type;return(!h||!h.root)&&(f=e+f),t.dispatch(f,u)},commit:r?t.commit:function(s,o,l){var c=Ta(s,o,l),u=c.payload,h=c.options,f=c.type;(!h||!h.root)&&(f=e+f),t.commit(f,u,h)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return mv(t,e)}},state:{get:function(){return Yu(t.state,n)}}}),i}function mv(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function SE(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,r.state,o)})}function kE(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var l=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return IE(l)||(l=Promise.resolve(l)),t._devtoolHook?l.catch(function(c){throw t._devtoolHook.emit("vuex:error",c),c}):l})}function RE(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function xE(t){Lr(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Yu(t,e){return e.reduce(function(n,r){return n[r]},t)}function Ta(t,e,n){return fv(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var DE="vuex bindings",qf="vuex:mutations",mc="vuex:actions",si="vuex",PE=0;function OE(t,e){EE({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[DE]},function(n){n.addTimelineLayer({id:qf,label:"Vuex Mutations",color:zf}),n.addTimelineLayer({id:mc,label:"Vuex Actions",color:zf}),n.addInspector({id:si,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===si)if(r.filter){var i=[];wv(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[_v(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===si){var i=r.nodeId;mv(e,i),r.state=ME(FE(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===si){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(si),n.sendInspectorState(si),n.addTimelineEvent({layerId:qf,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=PE++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:mc,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:mc,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var zf=8702998,VE=6710886,LE=16777215,vv={label:"namespaced",textColor:LE,backgroundColor:VE};function yv(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function _v(t,e){return{id:e||"root",label:yv(e),tags:t.namespaced?[vv]:[],children:Object.keys(t._children).map(function(n){return _v(t._children[n],e+n+"/")})}}function wv(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[vv]:[]}),Object.keys(e._children).forEach(function(i){wv(t,e._children[i],n,r+i+"/")})}function ME(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var s=NE(e);i.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?yv(o):o,editable:!1,value:Yc(function(){return s[o]})}})}return i}function NE(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[s]=Yc(function(){return t[n]})}else e[n]=Yc(function(){return t[n]})}),e}function FE(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?o:o._children},e==="root"?t:t.root._children)}function Yc(t){try{return t()}catch(e){return e}}var an=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},bv={namespaced:{configurable:!0}};bv.namespaced.get=function(){return!!this._rawModule.namespaced};an.prototype.addChild=function(e,n){this._children[e]=n};an.prototype.removeChild=function(e){delete this._children[e]};an.prototype.getChild=function(e){return this._children[e]};an.prototype.hasChild=function(e){return e in this._children};an.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};an.prototype.forEachChild=function(e){Hi(this._children,e)};an.prototype.forEachGetter=function(e){this._rawModule.getters&&Hi(this._rawModule.getters,e)};an.prototype.forEachAction=function(e){this._rawModule.actions&&Hi(this._rawModule.actions,e)};an.prototype.forEachMutation=function(e){this._rawModule.mutations&&Hi(this._rawModule.mutations,e)};Object.defineProperties(an.prototype,bv);var qr=function(e){this.register([],e,!1)};qr.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};qr.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};qr.prototype.update=function(e){Ev([],this.root,e)};qr.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new an(n,r);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}n.modules&&Hi(n.modules,function(l,c){i.register(e.concat(c),l,r)})};qr.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};qr.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Ev(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Ev(t.concat(r),e.getChild(r),n.modules[r])}}function $E(t){return new Vt(t)}var Vt=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new qr(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var o=this,l=this,c=l.dispatch,u=l.commit;this.dispatch=function(g,y){return c.call(o,g,y)},this.commit=function(g,y,S){return u.call(o,g,y,S)},this.strict=i;var h=this._modules.root.state;Il(this,h,[],this._modules.root),Qu(this,h),r.forEach(function(f){return f(n)})},Xu={state:{configurable:!0}};Vt.prototype.install=function(e,n){e.provide(n||TE,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&OE(e,this)};Xu.state.get=function(){return this._state.data};Xu.state.set=function(t){};Vt.prototype.commit=function(e,n,r){var i=this,s=Ta(e,n,r),o=s.type,l=s.payload,c={type:o,payload:l},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(f){f(l)})}),this._subscribers.slice().forEach(function(h){return h(c,i.state)}))};Vt.prototype.dispatch=function(e,n){var r=this,i=Ta(e,n),s=i.type,o=i.payload,l={type:s,payload:o},c=this._actions[s];if(c){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(l,r.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(h){return h(o)})):c[0](o);return new Promise(function(h,f){u.then(function(g){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(l,r.state)})}catch{}h(g)},function(g){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(l,r.state,g)})}catch{}f(g)})})}};Vt.prototype.subscribe=function(e,n){return pv(e,this._subscribers,n)};Vt.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return pv(r,this._actionSubscribers,n)};Vt.prototype.watch=function(e,n,r){var i=this;return Lr(function(){return e(i.state,i.getters)},n,Object.assign({},r))};Vt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Vt.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Il(this,this.state,e,this._modules.get(e),r.preserveState),Qu(this,this.state)};Vt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Yu(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),gv(this)};Vt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Vt.prototype.hotUpdate=function(e){this._modules.update(e),gv(this,!0)};Vt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Vt.prototype,Xu);var Ju=th(function(t,e){var n={};return eh(e).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){var l=this.$store.state,c=this.$store.getters;if(t){var u=nh(this.$store,"mapState",t);if(!u)return;l=u.context.state,c=u.context.getters}return typeof s=="function"?s.call(this,l,c):l[s]},n[i].vuex=!0}),n}),Zu=th(function(t,e){var n={};return eh(e).forEach(function(r){var i=r.key,s=r.val;s=t+s,n[i]=function(){if(!(t&&!nh(this.$store,"mapGetters",t)))return this.$store.getters[s]},n[i].vuex=!0}),n}),zr=th(function(t,e){var n={};return eh(e).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){for(var l=[],c=arguments.length;c--;)l[c]=arguments[c];var u=this.$store.dispatch;if(t){var h=nh(this.$store,"mapActions",t);if(!h)return;u=h.context.dispatch}return typeof s=="function"?s.apply(this,[u].concat(l)):u.apply(this.$store,[s].concat(l))}}),n});function eh(t){return BE(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function BE(t){return Array.isArray(t)||fv(t)}function th(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function nh(t,e,n){var r=t._modulesNamespaceMap[n];return r}var jE=function(){function t(e,n){n===void 0&&(n=[]),this._eventType=e,this._eventFunctions=n}return t.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(n){typeof window<"u"&&window.addEventListener(e._eventType,n)})},t}(),UE=function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return t.prototype.addInstance=function(e,n,r,i){if(i===void 0&&(i=!1),!this._instances[e])return console.warn("Flowbite: Component ".concat(e," does not exist.")),!1;if(this._instances[e][r]&&!i){console.warn("Flowbite: Instance with ID ".concat(r," already exists."));return}i&&this._instances[e][r]&&this._instances[e][r].destroyAndRemoveInstance(),this._instances[e][r||this._generateRandomId()]=n},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(e){return this._instances[e]?this._instances[e]:(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t.prototype.getInstance=function(e,n){if(this._componentAndInstanceCheck(e,n)){if(!this._instances[e][n]){console.warn("Flowbite: Instance with ID ".concat(n," does not exist."));return}return this._instances[e][n]}},t.prototype.destroyAndRemoveInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&(this.destroyInstanceObject(e,n),this.removeInstance(e,n))},t.prototype.removeInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&delete this._instances[e][n]},t.prototype.destroyInstanceObject=function(e,n){this._componentAndInstanceCheck(e,n)&&this._instances[e][n].destroy()},t.prototype.instanceExists=function(e,n){return!(!this._instances[e]||!this._instances[e][n])},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(e,n){return this._instances[e]?this._instances[e][n]?!0:(console.warn("Flowbite: Instance with ID ".concat(n," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t}(),Ie=new UE;typeof window<"u"&&(window.FlowbiteInstances=Ie);var Ia=function(){return Ia=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ia.apply(this,arguments)},Aa={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},HE={id:null,override:!0},Tv=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=Aa),i===void 0&&(i=HE),this._instanceId=i.id?i.id:e.id,this._accordionEl=e,this._items=n,this._options=Ia(Ia({},Aa),r),this._initialized=!1,this.init(),Ie.addInstance("Accordion",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.forEach(function(n){n.active&&e.open(n.id);var r=function(){e.toggle(n.id)};n.triggerEl.addEventListener("click",r),n.clickHandler=r}),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(e){e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)},t.prototype.removeInstance=function(){Ie.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.open=function(e){var n,r,i=this,s=this.getItem(e);this._options.alwaysOpen||this._items.map(function(o){var l,c;o!==s&&((l=o.triggerEl.classList).remove.apply(l,i._options.activeClasses.split(" ")),(c=o.triggerEl.classList).add.apply(c,i._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.add("rotate-180"))}),(n=s.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(r=s.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-expanded","true"),s.targetEl.classList.remove("hidden"),s.active=!0,s.iconEl&&s.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,s)},t.prototype.toggle=function(e){var n=this.getItem(e);n.active?this.close(e):this.open(e),this._options.onToggle(this,n)},t.prototype.close=function(e){var n,r,i=this.getItem(e);(n=i.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(r=i.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.add("rotate-180"),this._options.onClose(this,i)},t.prototype.updateOnOpen=function(e){this._options.onOpen=e},t.prototype.updateOnClose=function(e){this._options.onClose=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function rh(){document.querySelectorAll("[data-accordion]").forEach(function(t){var e=t.getAttribute("data-accordion"),n=t.getAttribute("data-active-classes"),r=t.getAttribute("data-inactive-classes"),i=[];t.querySelectorAll("[data-accordion-target]").forEach(function(s){if(s.closest("[data-accordion]")===t){var o={id:s.getAttribute("data-accordion-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-accordion-target")),iconEl:s.querySelector("[data-accordion-icon]"),active:s.getAttribute("aria-expanded")==="true"};i.push(o)}}),new Tv(t,i,{alwaysOpen:e==="open",activeClasses:n||Aa.activeClasses,inactiveClasses:r||Aa.inactiveClasses})})}typeof window<"u"&&(window.Accordion=Tv,window.initAccordions=rh);var Ca=function(){return Ca=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ca.apply(this,arguments)},Kf={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},qE={id:null,override:!0},Xc=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Kf),i===void 0&&(i=qE),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Ca(Ca({},Kf),r),this._visible=!1,this._initialized=!1,this.init(),Ie.addInstance("Collapse",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){e.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Ie.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t.prototype.updateOnCollapse=function(e){this._options.onCollapse=e},t.prototype.updateOnExpand=function(e){this._options.onExpand=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function ih(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(t){var e=t.getAttribute("data-collapse-toggle"),n=document.getElementById(e);n?Ie.instanceExists("Collapse",n.getAttribute("id"))?new Xc(n,t,{},{id:n.getAttribute("id")+"_"+Ie._generateRandomId()}):new Xc(n,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Xc,window.initCollapses=ih);var xr=function(){return xr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xr.apply(this,arguments)},ia={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},zE={id:null,override:!0},Iv=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=ia),i===void 0&&(i=zE),this._instanceId=i.id?i.id:e.id,this._carouselEl=e,this._items=n,this._options=xr(xr(xr({},ia),r),{indicators:xr(xr({},ia.indicators),r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),Ie.addInstance("Carousel",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,r){n.el.addEventListener("click",function(){e.slideTo(r)})}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){Ie.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items[e]},t.prototype.slideTo=function(e){var n=this._items[e],r={left:n.position===0?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]};this._rotate(r),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var e=this.getActiveItem(),n=null;e.position===this._items.length-1?n=this._items[0]:n=this._items[e.position+1],this.slideTo(n.position),this._options.onNext(this)},t.prototype.prev=function(){var e=this.getActiveItem(),n=null;e.position===0?n=this._items[this._items.length-1]:n=this._items[e.position-1],this.slideTo(n.position),this._options.onPrev(this)},t.prototype._rotate=function(e){if(this._items.map(function(n){n.el.classList.add("hidden")}),this._items.length===1){e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20");return}e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-30"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),e.right.el.classList.add("translate-x-full","z-20")},t.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype.getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(e){var n,r,i=this;this._activeItem=e;var s=e.position;this._indicators.length&&(this._indicators.map(function(o){var l,c;o.el.setAttribute("aria-current","false"),(l=o.el.classList).remove.apply(l,i._options.indicators.activeClasses.split(" ")),(c=o.el.classList).add.apply(c,i._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[s].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[s].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[s].el.setAttribute("aria-current","true"))},t.prototype.updateOnNext=function(e){this._options.onNext=e},t.prototype.updateOnPrev=function(e){this._options.onPrev=e},t.prototype.updateOnChange=function(e){this._options.onChange=e},t}();function sh(){document.querySelectorAll("[data-carousel]").forEach(function(t){var e=t.getAttribute("data-carousel-interval"),n=t.getAttribute("data-carousel")==="slide",r=[],i=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map(function(u,h){r.push({position:h,el:u}),u.getAttribute("data-carousel-item")==="active"&&(i=h)});var s=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map(function(u){s.push({position:parseInt(u.getAttribute("data-carousel-slide-to")),el:u})});var o=new Iv(t,r,{defaultPosition:i,indicators:{items:s},interval:e||ia.interval});n&&o.cycle();var l=t.querySelector("[data-carousel-next]"),c=t.querySelector("[data-carousel-prev]");l&&l.addEventListener("click",function(){o.next()}),c&&c.addEventListener("click",function(){o.prev()})})}typeof window<"u"&&(window.Carousel=Iv,window.initCarousels=sh);var Sa=function(){return Sa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sa.apply(this,arguments)},Wf={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},KE={id:null,override:!0},Av=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Wf),i===void 0&&(i=KE),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Sa(Sa({},Wf),r),this._initialized=!1,this.init(),Ie.addInstance("Dismiss",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){e.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Ie.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},t.prototype.updateOnHide=function(e){this._options.onHide=e},t}();function oh(){document.querySelectorAll("[data-dismiss-target]").forEach(function(t){var e=t.getAttribute("data-dismiss-target"),n=document.querySelector(e);n?new Av(n,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=Av,window.initDismisses=oh);var Pt="top",Yt="bottom",Xt="right",Ot="left",ah="auto",fo=[Pt,Yt,Xt,Ot],ki="start",Ks="end",WE="clippingParents",Cv="viewport",hs="popper",GE="reference",Gf=fo.reduce(function(t,e){return t.concat([e+"-"+ki,e+"-"+Ks])},[]),Sv=[].concat(fo,[ah]).reduce(function(t,e){return t.concat([e,e+"-"+ki,e+"-"+Ks])},[]),QE="beforeRead",YE="read",XE="afterRead",JE="beforeMain",ZE="main",eT="afterMain",tT="beforeWrite",nT="write",rT="afterWrite",iT=[QE,YE,XE,JE,ZE,eT,tT,nT,rT];function _n(t){return t?(t.nodeName||"").toLowerCase():null}function jt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $r(t){var e=jt(t).Element;return t instanceof e||t instanceof Element}function Gt(t){var e=jt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function lh(t){if(typeof ShadowRoot>"u")return!1;var e=jt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function sT(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Gt(s)||!_n(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var l=i[o];l===!1?s.removeAttribute(o):s.setAttribute(o,l===!0?"":l)}))})}function oT(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(c,u){return c[u]="",c},{});!Gt(i)||!_n(i)||(Object.assign(i.style,l),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}const aT={name:"applyStyles",enabled:!0,phase:"write",fn:sT,effect:oT,requires:["computeStyles"]};function mn(t){return t.split("-")[0]}var Mr=Math.max,ka=Math.min,Ri=Math.round;function Jc(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kv(){return!/^((?!chrome|android).)*safari/i.test(Jc())}function xi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Gt(t)&&(i=t.offsetWidth>0&&Ri(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ri(r.height)/t.offsetHeight||1);var o=$r(t)?jt(t):window,l=o.visualViewport,c=!kv()&&n,u=(r.left+(c&&l?l.offsetLeft:0))/i,h=(r.top+(c&&l?l.offsetTop:0))/s,f=r.width/i,g=r.height/s;return{width:f,height:g,top:h,right:u+f,bottom:h+g,left:u,x:u,y:h}}function ch(t){var e=xi(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Rv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&lh(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Rn(t){return jt(t).getComputedStyle(t)}function lT(t){return["table","td","th"].indexOf(_n(t))>=0}function vr(t){return(($r(t)?t.ownerDocument:t.document)||window.document).documentElement}function Al(t){return _n(t)==="html"?t:t.assignedSlot||t.parentNode||(lh(t)?t.host:null)||vr(t)}function Qf(t){return!Gt(t)||Rn(t).position==="fixed"?null:t.offsetParent}function cT(t){var e=/firefox/i.test(Jc()),n=/Trident/i.test(Jc());if(n&&Gt(t)){var r=Rn(t);if(r.position==="fixed")return null}var i=Al(t);for(lh(i)&&(i=i.host);Gt(i)&&["html","body"].indexOf(_n(i))<0;){var s=Rn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function po(t){for(var e=jt(t),n=Qf(t);n&&lT(n)&&Rn(n).position==="static";)n=Qf(n);return n&&(_n(n)==="html"||_n(n)==="body"&&Rn(n).position==="static")?e:n||cT(t)||e}function uh(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Is(t,e,n){return Mr(t,ka(e,n))}function uT(t,e,n){var r=Is(t,e,n);return r>n?n:r}function xv(){return{top:0,right:0,bottom:0,left:0}}function Dv(t){return Object.assign({},xv(),t)}function Pv(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var hT=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Dv(typeof e!="number"?e:Pv(e,fo))};function dT(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,l=mn(n.placement),c=uh(l),u=[Ot,Xt].indexOf(l)>=0,h=u?"height":"width";if(!(!s||!o)){var f=hT(i.padding,n),g=ch(s),y=c==="y"?Pt:Ot,S=c==="y"?Yt:Xt,R=n.rects.reference[h]+n.rects.reference[c]-o[c]-n.rects.popper[h],x=o[c]-n.rects.reference[c],V=po(s),N=V?c==="y"?V.clientHeight||0:V.clientWidth||0:0,U=R/2-x/2,O=f[y],W=N-g[h]-f[S],K=N/2-g[h]/2+U,A=Is(O,K,W),_=c;n.modifiersData[r]=(e={},e[_]=A,e.centerOffset=A-K,e)}}function fT(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Rv(e.elements.popper,i)&&(e.elements.arrow=i))}const pT={name:"arrow",enabled:!0,phase:"main",fn:dT,effect:fT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Di(t){return t.split("-")[1]}var gT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mT(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ri(n*i)/i||0,y:Ri(r*i)/i||0}}function Yf(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,h=t.roundOffsets,f=t.isFixed,g=o.x,y=g===void 0?0:g,S=o.y,R=S===void 0?0:S,x=typeof h=="function"?h({x:y,y:R}):{x:y,y:R};y=x.x,R=x.y;var V=o.hasOwnProperty("x"),N=o.hasOwnProperty("y"),U=Ot,O=Pt,W=window;if(u){var K=po(n),A="clientHeight",_="clientWidth";if(K===jt(n)&&(K=vr(n),Rn(K).position!=="static"&&l==="absolute"&&(A="scrollHeight",_="scrollWidth")),K=K,i===Pt||(i===Ot||i===Xt)&&s===Ks){O=Yt;var v=f&&K===W&&W.visualViewport?W.visualViewport.height:K[A];R-=v-r.height,R*=c?1:-1}if(i===Ot||(i===Pt||i===Yt)&&s===Ks){U=Xt;var w=f&&K===W&&W.visualViewport?W.visualViewport.width:K[_];y-=w-r.width,y*=c?1:-1}}var I=Object.assign({position:l},u&&gT),T=h===!0?mT({x:y,y:R},jt(n)):{x:y,y:R};if(y=T.x,R=T.y,c){var b;return Object.assign({},I,(b={},b[O]=N?"0":"",b[U]=V?"0":"",b.transform=(W.devicePixelRatio||1)<=1?"translate("+y+"px, "+R+"px)":"translate3d("+y+"px, "+R+"px, 0)",b))}return Object.assign({},I,(e={},e[O]=N?R+"px":"",e[U]=V?y+"px":"",e.transform="",e))}function vT(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:mn(e.placement),variation:Di(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Yf(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Yf(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const yT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vT,data:{}};var Uo={passive:!0};function _T(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,c=jt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",n.update,Uo)}),l&&c.addEventListener("resize",n.update,Uo),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",n.update,Uo)}),l&&c.removeEventListener("resize",n.update,Uo)}}const wT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_T,data:{}};var bT={left:"right",right:"left",bottom:"top",top:"bottom"};function sa(t){return t.replace(/left|right|bottom|top/g,function(e){return bT[e]})}var ET={start:"end",end:"start"};function Xf(t){return t.replace(/start|end/g,function(e){return ET[e]})}function hh(t){var e=jt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function dh(t){return xi(vr(t)).left+hh(t).scrollLeft}function TT(t,e){var n=jt(t),r=vr(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;var u=kv();(u||!u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l+dh(t),y:c}}function IT(t){var e,n=vr(t),r=hh(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Mr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Mr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+dh(t),c=-r.scrollTop;return Rn(i||n).direction==="rtl"&&(l+=Mr(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:l,y:c}}function fh(t){var e=Rn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ov(t){return["html","body","#document"].indexOf(_n(t))>=0?t.ownerDocument.body:Gt(t)&&fh(t)?t:Ov(Al(t))}function As(t,e){var n;e===void 0&&(e=[]);var r=Ov(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=jt(r),o=i?[s].concat(s.visualViewport||[],fh(r)?r:[]):r,l=e.concat(o);return i?l:l.concat(As(Al(o)))}function Zc(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function AT(t,e){var n=xi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Jf(t,e,n){return e===Cv?Zc(TT(t,n)):$r(e)?AT(e,n):Zc(IT(vr(t)))}function CT(t){var e=As(Al(t)),n=["absolute","fixed"].indexOf(Rn(t).position)>=0,r=n&&Gt(t)?po(t):t;return $r(r)?e.filter(function(i){return $r(i)&&Rv(i,r)&&_n(i)!=="body"}):[]}function ST(t,e,n,r){var i=e==="clippingParents"?CT(t):[].concat(e),s=[].concat(i,[n]),o=s[0],l=s.reduce(function(c,u){var h=Jf(t,u,r);return c.top=Mr(h.top,c.top),c.right=ka(h.right,c.right),c.bottom=ka(h.bottom,c.bottom),c.left=Mr(h.left,c.left),c},Jf(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Vv(t){var e=t.reference,n=t.element,r=t.placement,i=r?mn(r):null,s=r?Di(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case Pt:c={x:o,y:e.y-n.height};break;case Yt:c={x:o,y:e.y+e.height};break;case Xt:c={x:e.x+e.width,y:l};break;case Ot:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var u=i?uh(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case ki:c[u]=c[u]-(e[h]/2-n[h]/2);break;case Ks:c[u]=c[u]+(e[h]/2-n[h]/2);break}}return c}function Ws(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,l=n.boundary,c=l===void 0?WE:l,u=n.rootBoundary,h=u===void 0?Cv:u,f=n.elementContext,g=f===void 0?hs:f,y=n.altBoundary,S=y===void 0?!1:y,R=n.padding,x=R===void 0?0:R,V=Dv(typeof x!="number"?x:Pv(x,fo)),N=g===hs?GE:hs,U=t.rects.popper,O=t.elements[S?N:g],W=ST($r(O)?O:O.contextElement||vr(t.elements.popper),c,h,o),K=xi(t.elements.reference),A=Vv({reference:K,element:U,placement:i}),_=Zc(Object.assign({},U,A)),v=g===hs?_:K,w={top:W.top-v.top+V.top,bottom:v.bottom-W.bottom+V.bottom,left:W.left-v.left+V.left,right:v.right-W.right+V.right},I=t.modifiersData.offset;if(g===hs&&I){var T=I[i];Object.keys(w).forEach(function(b){var pe=[Xt,Yt].indexOf(b)>=0?1:-1,be=[Pt,Yt].indexOf(b)>=0?"y":"x";w[b]+=T[be]*pe})}return w}function kT(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?Sv:c,h=Di(r),f=h?l?Gf:Gf.filter(function(S){return Di(S)===h}):fo,g=f.filter(function(S){return u.indexOf(S)>=0});g.length===0&&(g=f);var y=g.reduce(function(S,R){return S[R]=Ws(t,{placement:R,boundary:i,rootBoundary:s,padding:o})[mn(R)],S},{});return Object.keys(y).sort(function(S,R){return y[S]-y[R]})}function RT(t){if(mn(t)===ah)return[];var e=sa(t);return[Xf(t),e,Xf(e)]}function xT(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,h=n.boundary,f=n.rootBoundary,g=n.altBoundary,y=n.flipVariations,S=y===void 0?!0:y,R=n.allowedAutoPlacements,x=e.options.placement,V=mn(x),N=V===x,U=c||(N||!S?[sa(x)]:RT(x)),O=[x].concat(U).reduce(function(Jt,M){return Jt.concat(mn(M)===ah?kT(e,{placement:M,boundary:h,rootBoundary:f,padding:u,flipVariations:S,allowedAutoPlacements:R}):M)},[]),W=e.rects.reference,K=e.rects.popper,A=new Map,_=!0,v=O[0],w=0;w<O.length;w++){var I=O[w],T=mn(I),b=Di(I)===ki,pe=[Pt,Yt].indexOf(T)>=0,be=pe?"width":"height",we=Ws(e,{placement:I,boundary:h,rootBoundary:f,altBoundary:g,padding:u}),he=pe?b?Xt:Ot:b?Yt:Pt;W[be]>K[be]&&(he=sa(he));var Ee=sa(he),Ke=[];if(s&&Ke.push(we[T]<=0),l&&Ke.push(we[he]<=0,we[Ee]<=0),Ke.every(function(Jt){return Jt})){v=I,_=!1;break}A.set(I,Ke)}if(_)for(var At=S?3:1,at=function(M){var Z=O.find(function(Q){var te=A.get(Q);if(te)return te.slice(0,M).every(function(Re){return Re})});if(Z)return v=Z,"break"},Le=At;Le>0;Le--){var Me=at(Le);if(Me==="break")break}e.placement!==v&&(e.modifiersData[r]._skip=!0,e.placement=v,e.reset=!0)}}const DT={name:"flip",enabled:!0,phase:"main",fn:xT,requiresIfExists:["offset"],data:{_skip:!1}};function Zf(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function ep(t){return[Pt,Xt,Yt,Ot].some(function(e){return t[e]>=0})}function PT(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Ws(e,{elementContext:"reference"}),l=Ws(e,{altBoundary:!0}),c=Zf(o,r),u=Zf(l,i,s),h=ep(c),f=ep(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const OT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:PT};function VT(t,e,n){var r=mn(t),i=[Ot,Pt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],l=s[1];return o=o||0,l=(l||0)*i,[Ot,Xt].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function LT(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Sv.reduce(function(h,f){return h[f]=VT(f,e.rects,s),h},{}),l=o[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const MT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:LT};function NT(t){var e=t.state,n=t.name;e.modifiersData[n]=Vv({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const FT={name:"popperOffsets",enabled:!0,phase:"read",fn:NT,data:{}};function $T(t){return t==="x"?"y":"x"}function BT(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,f=n.padding,g=n.tether,y=g===void 0?!0:g,S=n.tetherOffset,R=S===void 0?0:S,x=Ws(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:h}),V=mn(e.placement),N=Di(e.placement),U=!N,O=uh(V),W=$T(O),K=e.modifiersData.popperOffsets,A=e.rects.reference,_=e.rects.popper,v=typeof R=="function"?R(Object.assign({},e.rects,{placement:e.placement})):R,w=typeof v=="number"?{mainAxis:v,altAxis:v}:Object.assign({mainAxis:0,altAxis:0},v),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,T={x:0,y:0};if(K){if(s){var b,pe=O==="y"?Pt:Ot,be=O==="y"?Yt:Xt,we=O==="y"?"height":"width",he=K[O],Ee=he+x[pe],Ke=he-x[be],At=y?-_[we]/2:0,at=N===ki?A[we]:_[we],Le=N===ki?-_[we]:-A[we],Me=e.elements.arrow,Jt=y&&Me?ch(Me):{width:0,height:0},M=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:xv(),Z=M[pe],Q=M[be],te=Is(0,A[we],Jt[we]),Re=U?A[we]/2-At-te-Z-w.mainAxis:at-te-Z-w.mainAxis,De=U?-A[we]/2+At+te+Q+w.mainAxis:Le+te+Q+w.mainAxis,ve=e.elements.arrow&&po(e.elements.arrow),E=ve?O==="y"?ve.clientTop||0:ve.clientLeft||0:0,C=(b=I==null?void 0:I[O])!=null?b:0,D=he+Re-C-E,F=he+De-C,B=Is(y?ka(Ee,D):Ee,he,y?Mr(Ke,F):Ke);K[O]=B,T[O]=B-he}if(l){var H,X=O==="x"?Pt:Ot,G=O==="x"?Yt:Xt,z=K[W],j=W==="y"?"height":"width",ie=z+x[X],J=z-x[G],ne=[Pt,Ot].indexOf(V)!==-1,ce=(H=I==null?void 0:I[W])!=null?H:0,se=ne?ie:z-A[j]-_[j]-ce+w.altAxis,de=ne?z+A[j]+_[j]-ce-w.altAxis:J,Ae=y&&ne?uT(se,z,de):Is(y?se:ie,z,y?de:J);K[W]=Ae,T[W]=Ae-z}e.modifiersData[r]=T}}const jT={name:"preventOverflow",enabled:!0,phase:"main",fn:BT,requiresIfExists:["offset"]};function UT(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function HT(t){return t===jt(t)||!Gt(t)?hh(t):UT(t)}function qT(t){var e=t.getBoundingClientRect(),n=Ri(e.width)/t.offsetWidth||1,r=Ri(e.height)/t.offsetHeight||1;return n!==1||r!==1}function zT(t,e,n){n===void 0&&(n=!1);var r=Gt(e),i=Gt(e)&&qT(e),s=vr(e),o=xi(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((_n(e)!=="body"||fh(s))&&(l=HT(e)),Gt(e)?(c=xi(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=dh(s))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function KT(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function WT(t){var e=KT(t);return iT.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function GT(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function QT(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var tp={placement:"bottom",modifiers:[],strategy:"absolute"};function np(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function YT(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?tp:i;return function(l,c,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},tp,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],g=!1,y={state:h,setOptions:function(V){var N=typeof V=="function"?V(h.options):V;R(),h.options=Object.assign({},s,h.options,N),h.scrollParents={reference:$r(l)?As(l):l.contextElement?As(l.contextElement):[],popper:As(c)};var U=WT(QT([].concat(r,h.options.modifiers)));return h.orderedModifiers=U.filter(function(O){return O.enabled}),S(),y.update()},forceUpdate:function(){if(!g){var V=h.elements,N=V.reference,U=V.popper;if(np(N,U)){h.rects={reference:zT(N,po(U),h.options.strategy==="fixed"),popper:ch(U)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(w){return h.modifiersData[w.name]=Object.assign({},w.data)});for(var O=0;O<h.orderedModifiers.length;O++){if(h.reset===!0){h.reset=!1,O=-1;continue}var W=h.orderedModifiers[O],K=W.fn,A=W.options,_=A===void 0?{}:A,v=W.name;typeof K=="function"&&(h=K({state:h,options:_,name:v,instance:y})||h)}}}},update:GT(function(){return new Promise(function(x){y.forceUpdate(),x(h)})}),destroy:function(){R(),g=!0}};if(!np(l,c))return y;y.setOptions(u).then(function(x){!g&&u.onFirstUpdate&&u.onFirstUpdate(x)});function S(){h.orderedModifiers.forEach(function(x){var V=x.name,N=x.options,U=N===void 0?{}:N,O=x.effect;if(typeof O=="function"){var W=O({state:h,name:V,instance:y,options:U}),K=function(){};f.push(W||K)}})}function R(){f.forEach(function(x){return x()}),f=[]}return y}}var XT=[wT,FT,yT,aT,MT,DT,jT,pT,OT],ph=YT({defaultModifiers:XT}),Wn=function(){return Wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wn.apply(this,arguments)},Ho=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Gn={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},JT={id:null,override:!0},Lv=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Gn),i===void 0&&(i=JT),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Wn(Wn({},Gn),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Ie.addInstance("Dropdown",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var e=this,n=this._getTriggerEvents();this._options.triggerType==="click"&&n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._clickHandler)}),this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.removeEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverHideHandler),e._targetEl.removeEventListener(r,e._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){Ie.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._clickHandler=function(){e.toggle()},this._options.triggerType==="click"&&n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._clickHandler)}),this._hoverShowTriggerElHandler=function(r){r.type==="click"?e.toggle():setTimeout(function(){e.show()},e._options.delay)},this._hoverShowTargetElHandler=function(){e.show()},this._hoverHideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)},this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.addEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverHideHandler),e._targetEl.addEventListener(r,e._hoverHideHandler)}))},t.prototype._createPopperInstance=function(){return ph(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target,i=this._options.ignoreClickOutsideClass,s=!1;if(i){var o=document.querySelectorAll(".".concat(i));o.forEach(function(l){if(l.contains(r)){s=!0;return}})}r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&!s&&this.isVisible()&&this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions(function(e){return Wn(Wn({},e),{modifiers:Ho(Ho([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions(function(e){return Wn(Wn({},e),{modifiers:Ho(Ho([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function gh(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(t){var e=t.getAttribute("data-dropdown-toggle"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-dropdown-placement"),i=t.getAttribute("data-dropdown-offset-skidding"),s=t.getAttribute("data-dropdown-offset-distance"),o=t.getAttribute("data-dropdown-trigger"),l=t.getAttribute("data-dropdown-delay"),c=t.getAttribute("data-dropdown-ignore-click-outside-class");new Lv(n,t,{placement:r||Gn.placement,triggerType:o||Gn.triggerType,offsetSkidding:i?parseInt(i):Gn.offsetSkidding,offsetDistance:s?parseInt(s):Gn.offsetDistance,delay:l?parseInt(l):Gn.delay,ignoreClickOutsideClass:c||Gn.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=Lv,window.initDropdowns=gh);var Ra=function(){return Ra=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ra.apply(this,arguments)},xa={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},ZT={id:null,override:!0},Mv=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=xa),r===void 0&&(r=ZT),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=Ra(Ra({},xa),n),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),Ie.addInstance("Modal",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(n){e._targetEl.classList.add(n)}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){Ie.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var e;if(this._isHidden){var n=document.createElement("div");(e=n.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},t.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},t.prototype._setupModalCloseEventListeners=function(){var e=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(n){e._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function mh(){document.querySelectorAll("[data-modal-target]").forEach(function(t){var e=t.getAttribute("data-modal-target"),n=document.getElementById(e);if(n){var r=n.getAttribute("data-modal-placement"),i=n.getAttribute("data-modal-backdrop");new Mv(n,{placement:r||xa.placement,backdrop:i||xa.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(t){var e=t.getAttribute("data-modal-toggle"),n=document.getElementById(e);if(n){var r=Ie.getInstance("Modal",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(t){var e=t.getAttribute("data-modal-show"),n=document.getElementById(e);if(n){var r=Ie.getInstance("Modal",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(t){var e=t.getAttribute("data-modal-hide"),n=document.getElementById(e);if(n){var r=Ie.getInstance("Modal",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=Mv,window.initModals=mh);var Da=function(){return Da=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Da.apply(this,arguments)},Dr={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},eI={id:null,override:!0},Nv=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=Dr),r===void 0&&(r=eI),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=Da(Da({},Dr),n),this._visible=!1,this._initialized=!1,this.init(),Ie.addInstance("Drawer",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(n){e._targetEl.classList.add(n)}),this._handleEscapeKey=function(n){n.key==="Escape"&&e.isVisible()&&e.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){Ie.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var e,n=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(e=r.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",function(){n.hide()})}},t.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function vh(){document.querySelectorAll("[data-drawer-target]").forEach(function(t){var e=t.getAttribute("data-drawer-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-drawer-placement"),i=t.getAttribute("data-drawer-body-scrolling"),s=t.getAttribute("data-drawer-backdrop"),o=t.getAttribute("data-drawer-edge"),l=t.getAttribute("data-drawer-edge-offset");new Nv(n,{placement:r||Dr.placement,bodyScrolling:i?i==="true":Dr.bodyScrolling,backdrop:s?s==="true":Dr.backdrop,edge:o?o==="true":Dr.edge,edgeOffset:l||Dr.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(t){var e=t.getAttribute("data-drawer-toggle"),n=document.getElementById(e);if(n){var r=Ie.getInstance("Drawer",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide"),n=document.getElementById(e);if(n){var r=Ie.getInstance("Drawer",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(t){var e=t.getAttribute("data-drawer-show"),n=document.getElementById(e);if(n){var r=Ie.getInstance("Drawer",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=Nv,window.initDrawers=vh);var Pa=function(){return Pa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pa.apply(this,arguments)},Oa={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},tI={id:null,override:!0},Fv=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=Oa),i===void 0&&(i=tI),this._instanceId=i.id?i.id:e.id,this._tabsEl=e,this._items=n,this._activeTab=r?this.getTab(r.defaultTabId):null,this._options=Pa(Pa({},Oa),r),this._initialized=!1,this.init(),Ie.addInstance("Tabs",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(r){r.preventDefault(),e.show(n.id)})}))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),Ie.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(e){this._activeTab=e},t.prototype.getTab=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.show=function(e,n){var r,i,s=this;n===void 0&&(n=!1);var o=this.getTab(e);o===this._activeTab&&!n||(this._items.map(function(l){var c,u;l!==o&&((c=l.triggerEl.classList).remove.apply(c,s._options.activeClasses.split(" ")),(u=l.triggerEl.classList).add.apply(u,s._options.inactiveClasses.split(" ")),l.targetEl.classList.add("hidden"),l.triggerEl.setAttribute("aria-selected","false"))}),(r=o.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(i=o.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},t.prototype.updateOnShow=function(e){this._options.onShow=e},t}();function yh(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(t){var e=[],n=t.getAttribute("data-tabs-active-classes"),r=t.getAttribute("data-tabs-inactive-classes"),i=null;t.querySelectorAll('[role="tab"]').forEach(function(s){var o=s.getAttribute("aria-selected")==="true",l={id:s.getAttribute("data-tabs-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-tabs-target"))};e.push(l),o&&(i=l.id)}),new Fv(t,e,{defaultTabId:i,activeClasses:n||Oa.activeClasses,inactiveClasses:r||Oa.inactiveClasses})})}typeof window<"u"&&(window.Tabs=Fv,window.initTabs=yh);var Qn=function(){return Qn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qn.apply(this,arguments)},qo=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Va={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},nI={id:null,override:!0},$v=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Va),i===void 0&&(i=nI),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Qn(Qn({},Va),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Ie.addInstance("Tooltip",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){Ie.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){e.hide()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return ph(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Qn(Qn({},e),{modifiers:qo(qo([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Qn(Qn({},e),{modifiers:qo(qo([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function _h(){document.querySelectorAll("[data-tooltip-target]").forEach(function(t){var e=t.getAttribute("data-tooltip-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-tooltip-trigger"),i=t.getAttribute("data-tooltip-placement");new $v(n,t,{placement:i||Va.placement,triggerType:r||Va.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=$v,window.initTooltips=_h);var Yn=function(){return Yn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yn.apply(this,arguments)},zo=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Cs={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},rI={id:null,override:!0},Bv=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Cs),i===void 0&&(i=rI),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=Yn(Yn({},Cs),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Ie.addInstance("Popover",this,i.id?i.id:this._targetEl.id,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler),e._targetEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler),e._targetEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){Ie.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler),e._targetEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler),e._targetEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return ph(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Yn(Yn({},e),{modifiers:zo(zo([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Yn(Yn({},e),{modifiers:zo(zo([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function wh(){document.querySelectorAll("[data-popover-target]").forEach(function(t){var e=t.getAttribute("data-popover-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-popover-trigger"),i=t.getAttribute("data-popover-placement"),s=t.getAttribute("data-popover-offset");new Bv(n,t,{placement:i||Cs.placement,offset:s?parseInt(s):Cs.offset,triggerType:r||Cs.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=Bv,window.initPopovers=wh);var La=function(){return La=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},La.apply(this,arguments)},eu={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},iI={id:null,override:!0},jv=function(){function t(e,n,r,i,s){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=eu),s===void 0&&(s=iI),this._instanceId=s.id?s.id:r.id,this._parentEl=e,this._triggerEl=n,this._targetEl=r,this._options=La(La({},eu),i),this._visible=!1,this._initialized=!1,this.init(),Ie.addInstance("Dial",this,this._instanceId,s.override)}return t.prototype.init=function(){var e=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){e.show()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showEventHandler),e._targetEl.addEventListener(r,e._showEventHandler)}),this._hideEventHandler=function(){e._parentEl.matches(":hover")||e.hide()},n.hideEvents.forEach(function(r){e._parentEl.addEventListener(r,e._hideEventHandler)}),this._initialized=!0}},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showEventHandler),e._targetEl.removeEventListener(r,e._showEventHandler)}),n.hideEvents.forEach(function(r){e._parentEl.removeEventListener(r,e._hideEventHandler)}),this._initialized=!1}},t.prototype.removeInstance=function(){Ie.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function bh(){document.querySelectorAll("[data-dial-init]").forEach(function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var n=e.getAttribute("data-dial-toggle"),r=document.getElementById(n);if(r){var i=e.getAttribute("data-dial-trigger");new jv(t,e,r,{triggerType:i||eu.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=jv,window.initDials=bh);var Ma=function(){return Ma=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ma.apply(this,arguments)},rp={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},sI={id:null,override:!0},Uv=function(){function t(e,n,r,i,s){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=rp),s===void 0&&(s=sI),this._instanceId=s.id?s.id:e.id,this._targetEl=e,this._incrementEl=n,this._decrementEl=r,this._options=Ma(Ma({},rp),i),this._initialized=!1,this.init(),Ie.addInstance("InputCounter",this,this._instanceId,s.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(n){{var r=n.target;/^\d*$/.test(r.value)||(r.value=r.value.replace(/[^\d]/g,"")),e._options.maxValue!==null&&parseInt(r.value)>e._options.maxValue&&(r.value=e._options.maxValue.toString()),e._options.minValue!==null&&parseInt(r.value)<e._options.minValue&&(r.value=e._options.minValue.toString())}},this._incrementClickHandler=function(){e.increment()},this._decrementClickHandler=function(){e.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Ie.removeInstance("InputCounter",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},t.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},t.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},t.prototype.updateOnIncrement=function(e){this._options.onIncrement=e},t.prototype.updateOnDecrement=function(e){this._options.onDecrement=e},t}();function Eh(){document.querySelectorAll("[data-input-counter]").forEach(function(t){var e=t.id,n=document.querySelector('[data-input-counter-increment="'+e+'"]'),r=document.querySelector('[data-input-counter-decrement="'+e+'"]'),i=t.getAttribute("data-input-counter-min"),s=t.getAttribute("data-input-counter-max");t?Ie.instanceExists("InputCounter",t.getAttribute("id"))||new Uv(t,n||null,r||null,{minValue:i?parseInt(i):null,maxValue:s?parseInt(s):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=Uv,window.initInputCounters=Eh);var Na=function(){return Na=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Na.apply(this,arguments)},Fa={htmlEntities:!1,contentType:"input",onCopy:function(){}},oI={id:null,override:!0},Hv=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Fa),i===void 0&&(i=oI),this._instanceId=i.id?i.id:n.id,this._triggerEl=e,this._targetEl=n,this._options=Na(Na({},Fa),r),this._initialized=!1,this.init(),Ie.addInstance("CopyClipboard",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){e.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Ie.removeInstance("CopyClipboard",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},t.prototype.copy=function(){var e=this.getTargetValue();this._options.htmlEntities&&(e=this.decodeHTML(e));var n=document.createElement("textarea");return n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),this._options.onCopy(this),e},t.prototype.decodeHTML=function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.textContent},t.prototype.updateOnCopyCallback=function(e){this._options.onCopy=e},t}();function Th(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(t){var e=t.getAttribute("data-copy-to-clipboard-target"),n=document.getElementById(e),r=t.getAttribute("data-copy-to-clipboard-content-type"),i=t.getAttribute("data-copy-to-clipboard-html-entities");n?Ie.instanceExists("CopyClipboard",n.getAttribute("id"))||new Hv(t,n,{htmlEntities:i&&i==="true"?!0:Fa.htmlEntities,contentType:r||Fa.contentType}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=Hv,window.initClipboards=Th);function tu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function aI(t){if(Array.isArray(t))return t}function lI(t){if(Array.isArray(t))return tu(t)}function cI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ih(t,e,n){return e=lr(e),pI(t,qv()?Reflect.construct(e,n||[],lr(t).constructor):e.apply(t,n))}function Kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ip(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vI(r.key),r)}}function Wr(t,e,n){return e&&ip(t.prototype,e),n&&ip(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gs(){return Gs=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=gI(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Gs.apply(null,arguments)}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lr(t)}function Ah(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nu(t,e)}function qv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qv=function(){return!!t})()}function uI(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hI(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function dI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pI(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cI(t)}function nu(t,e){return nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},nu(t,e)}function $t(t,e){return aI(t)||hI(t,e)||zv(t,e)||dI()}function gI(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=lr(t))!==null;);return t}function go(t){return lI(t)||uI(t)||zv(t)||fI()}function mI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vI(t){var e=mI(t,"string");return typeof e=="symbol"?e:e+""}function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function zv(t,e){if(t){if(typeof t=="string")return tu(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tu(t,e):void 0}}function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ch(t){return t[t.length-1]}function Br(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(i){t.includes(i)||t.push(i)}),t}function vc(t,e){return t?t.split(e):[]}function Sh(t,e,n){var r=e===void 0||t>=e,i=n===void 0||t<=n;return r&&i}function Kv(t,e,n){return t<e?e:t>n?n:t}function Pi(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",s=Object.keys(n).reduce(function(l,c){var u=n[c];return typeof u=="function"&&(u=u(r)),"".concat(l," ").concat(c,'="').concat(u,'"')},t);i+="<".concat(s,"></").concat(t,">");var o=r+1;return o<e?Pi(t,e,n,o,i):i}function kh(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function ru(t){return new Date(t).setHours(0,0,0,0)}function Gr(){return new Date().setHours(0,0,0,0)}function tr(){switch(arguments.length){case 0:return Gr();case 1:return ru(arguments.length<=0?void 0:arguments[0])}var t=new Date(0);return t.setFullYear.apply(t,arguments),t.setHours(0,0,0,0)}function bi(t,e){var n=new Date(t);return n.setDate(n.getDate()+e)}function yI(t,e){return bi(t,e*7)}function Ba(t,e){var n=new Date(t),r=n.getMonth()+e,i=r%12;i<0&&(i+=12);var s=n.setMonth(r);return n.getMonth()!==i?n.setDate(0):s}function Ei(t,e){var n=new Date(t),r=n.getMonth(),i=n.setFullYear(n.getFullYear()+e);return r===1&&n.getMonth()===2?n.setDate(0):i}function sp(t,e){return(t-e+7)%7}function ja(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=new Date(t).getDay();return bi(t,sp(e,n)-sp(r,n))}function _I(t){var e=ja(t,4,1),n=ja(new Date(e).setMonth(0,4),4,1);return Math.round((e-n)/6048e5)+1}function Cr(t,e){var n=new Date(t).getFullYear();return Math.floor(n/e)*e}var iu=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,wI=/[\s!-/:-@[-`{-~]+/,yc={},op={y:function(e,n){return new Date(e).setFullYear(parseInt(n,10))},m:function(e,n,r){var i=new Date(e),s=parseInt(n,10)-1;if(isNaN(s)){if(!n)return NaN;var o=n.toLowerCase(),l=function(u){return u.toLowerCase().startsWith(o)};if(s=r.monthsShort.findIndex(l),s<0&&(s=r.months.findIndex(l)),s<0)return NaN}return i.setMonth(s),i.getMonth()!==Wv(s)?i.setDate(0):i.getTime()},d:function(e,n){return new Date(e).setDate(parseInt(n,10))}},bI={d:function(e){return e.getDate()},dd:function(e){return Ko(e.getDate(),2)},D:function(e,n){return n.daysShort[e.getDay()]},DD:function(e,n){return n.days[e.getDay()]},m:function(e){return e.getMonth()+1},mm:function(e){return Ko(e.getMonth()+1,2)},M:function(e,n){return n.monthsShort[e.getMonth()]},MM:function(e,n){return n.months[e.getMonth()]},y:function(e){return e.getFullYear()},yy:function(e){return Ko(e.getFullYear(),2).slice(-2)},yyyy:function(e){return Ko(e.getFullYear(),4)}};function Wv(t){return t>-1?t%12:Wv(t+12)}function Ko(t,e){return t.toString().padStart(e,"0")}function Gv(t){if(typeof t!="string")throw new Error("Invalid date format.");if(t in yc)return yc[t];var e=t.split(iu),n=t.match(new RegExp(iu,"g"));if(e.length===0||!n)throw new Error("Invalid date format.");var r=n.map(function(s){return bI[s]}),i=Object.keys(op).reduce(function(s,o){var l=n.find(function(c){return c[0]!=="D"&&c[0].toLowerCase()===o});return l&&s.push(o),s},[]);return yc[t]={parser:function(o,l){var c=o.split(wI).reduce(function(u,h,f){if(h.length>0&&n[f]){var g=n[f][0];g==="M"?u.m=h:g!=="D"&&(u[g]=h)}return u},{});return i.reduce(function(u,h){var f=op[h](u,c[h],l);return isNaN(f)?u:f},Gr())},formatter:function(o,l){var c=r.reduce(function(u,h,f){return u+="".concat(e[f]).concat(h(o,l))},"");return c+=Ch(e)}}}function Qs(t,e,n){if(t instanceof Date||typeof t=="number"){var r=ru(t);return isNaN(r)?void 0:r}if(t){if(t==="today")return Gr();if(e&&e.toValue){var i=e.toValue(t,e,n);return isNaN(i)?void 0:ru(i)}return Gv(e).parser(t,n)}}function Ys(t,e,n){if(isNaN(t)||!t&&t!==0)return"";var r=typeof t=="number"?new Date(t):t;return e.toDisplay?e.toDisplay(r,e,n):Gv(e).formatter(r,n)}var Ua=new WeakMap,Qv=EventTarget.prototype,ap=Qv.addEventListener,lp=Qv.removeEventListener;function Rh(t,e){var n=Ua.get(t);n||(n=[],Ua.set(t,n)),e.forEach(function(r){ap.call.apply(ap,go(r)),n.push(r)})}function Yv(t){var e=Ua.get(t);e&&(e.forEach(function(n){lp.call.apply(lp,go(n))}),Ua.delete(t))}if(!Event.prototype.composedPath){var EI=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];n.push(e);var r;return e.parentNode?r=e.parentNode:e.host?r=e.host:e.defaultView&&(r=e.defaultView),r?t(r,n):n};Event.prototype.composedPath=function(){return EI(this.target)}}function Xv(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=t[r];return e(i)?i:i===n||!i.parentElement?void 0:Xv(t,e,n,r+1)}function Jv(t,e){var n=typeof e=="function"?e:function(r){return r.matches(e)};return Xv(t.composedPath(),n,t.currentTarget)}var ds={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},mo={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},_c=null;function Dn(t){return _c==null&&(_c=document.createRange()),_c.createContextualFragment(t)}function Ss(t){t.style.display!=="none"&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function ks(t){t.style.display==="none"&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function Ha(t){t.firstChild&&(t.removeChild(t.firstChild),Ha(t))}function TI(t,e){Ha(t),e instanceof DocumentFragment?t.appendChild(e):typeof e=="string"?t.appendChild(Dn(e)):typeof e.forEach=="function"&&e.forEach(function(n){t.appendChild(n)})}var wc=mo.language,II=mo.format,AI=mo.weekStart;function cp(t,e){return t.length<6&&e>=0&&e<7?Br(t,e):t}function up(t){return(t+6)%7}function hp(t,e,n,r){var i=Qs(t,e,n);return i!==void 0?i:r}function bc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,r=parseInt(t,10);return r>=0&&r<=n?r:e}function Ec(t,e){var n=Object.assign({},t),r={},i=e.constructor.locales,s=e.config||{},o=s.format,l=s.language,c=s.locale,u=s.maxDate,h=s.maxView,f=s.minDate,g=s.pickLevel,y=s.startView,S=s.weekStart;if(n.language){var R;if(n.language!==l&&(i[n.language]?R=n.language:(R=n.language.split("-")[0],i[R]===void 0&&(R=!1))),delete n.language,R){l=r.language=R;var x=c||i[wc];c=Object.assign({format:II,weekStart:AI},i[wc]),l!==wc&&Object.assign(c,i[l]),r.locale=c,o===x.format&&(o=r.format=c.format),S===x.weekStart&&(S=r.weekStart=c.weekStart,r.weekEnd=up(c.weekStart))}}if(n.format){var V=typeof n.format.toDisplay=="function",N=typeof n.format.toValue=="function",U=iu.test(n.format);(V&&N||U)&&(o=r.format=n.format),delete n.format}var O=f,W=u;if(n.minDate!==void 0&&(O=n.minDate===null?tr(0,0,1):hp(n.minDate,o,c,O),delete n.minDate),n.maxDate!==void 0&&(W=n.maxDate===null?void 0:hp(n.maxDate,o,c,W),delete n.maxDate),W<O?(f=r.minDate=W,u=r.maxDate=O):(f!==O&&(f=r.minDate=O),u!==W&&(u=r.maxDate=W)),n.datesDisabled&&(r.datesDisabled=n.datesDisabled.reduce(function(be,we){var he=Qs(we,o,c);return he!==void 0?Br(be,he):be},[]),delete n.datesDisabled),n.defaultViewDate!==void 0){var K=Qs(n.defaultViewDate,o,c);K!==void 0&&(r.defaultViewDate=K),delete n.defaultViewDate}if(n.weekStart!==void 0){var A=Number(n.weekStart)%7;isNaN(A)||(S=r.weekStart=A,r.weekEnd=up(A)),delete n.weekStart}if(n.daysOfWeekDisabled&&(r.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(cp,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(cp,[]),delete n.daysOfWeekHighlighted),n.maxNumberOfDates!==void 0){var _=parseInt(n.maxNumberOfDates,10);_>=0&&(r.maxNumberOfDates=_,r.multidate=_!==1),delete n.maxNumberOfDates}n.dateDelimiter&&(r.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);var v=g;n.pickLevel!==void 0&&(v=bc(n.pickLevel,2),delete n.pickLevel),v!==g&&(g=r.pickLevel=v);var w=h;n.maxView!==void 0&&(w=bc(n.maxView,h),delete n.maxView),w=g>w?g:w,w!==h&&(h=r.maxView=w);var I=y;if(n.startView!==void 0&&(I=bc(n.startView,I),delete n.startView),I<g?I=g:I>h&&(I=h),I!==y&&(r.startView=I),n.prevArrow){var T=Dn(n.prevArrow);T.childNodes.length>0&&(r.prevArrow=T.childNodes),delete n.prevArrow}if(n.nextArrow){var b=Dn(n.nextArrow);b.childNodes.length>0&&(r.nextArrow=b.childNodes),delete n.nextArrow}if(n.disableTouchKeyboard!==void 0&&(r.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){var pe=n.orientation.toLowerCase().split(/\s+/g);r.orientation={x:pe.find(function(be){return be==="left"||be==="right"})||"auto",y:pe.find(function(be){return be==="top"||be==="bottom"})||"auto"},delete n.orientation}if(n.todayBtnMode!==void 0){switch(n.todayBtnMode){case 0:case 1:r.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach(function(be){n[be]!==void 0&&xn(mo,be)&&(r[be]=n[be])}),r}var CI=kh(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),SI=kh(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(Pi("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(Pi("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),kI=kh(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(Pi("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),xh=function(){function t(e,n){Kr(this,t),Object.assign(this,n,{picker:e,element:Dn('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return Wr(t,[{key:"init",value:function(n){n.pickLevel!==void 0&&(this.isMinView=this.id===n.pickLevel),this.setOptions(n),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(n,r,i){var s=this.beforeShow(new Date(i));switch($a(s)){case"boolean":s={enabled:s};break;case"string":s={classes:s}}if(s){if(s.enabled===!1&&(n.classList.add("disabled"),Br(this.disabled,r)),s.classes){var o,l=s.classes.split(/\s+/);(o=n.classList).add.apply(o,go(l)),l.includes("disabled")&&Br(this.disabled,r)}s.content&&TI(n,s.content)}}}])}(),RI=function(t){function e(n){return Kr(this,e),Ih(this,e,[n,{id:0,name:"days",cellClass:"day"}])}return Ah(e,t),Wr(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(i){var s=Dn(SI).firstChild;this.dow=s.firstChild,this.grid=s.lastChild,this.element.appendChild(s)}Gs(lr(e.prototype),"init",this).call(this,r)}},{key:"setOptions",value:function(r){var i=this,s;if(xn(r,"minDate")&&(this.minDate=r.minDate),xn(r,"maxDate")&&(this.maxDate=r.maxDate),r.datesDisabled&&(this.datesDisabled=r.datesDisabled),r.daysOfWeekDisabled&&(this.daysOfWeekDisabled=r.daysOfWeekDisabled,s=!0),r.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=r.daysOfWeekHighlighted),r.todayHighlight!==void 0&&(this.todayHighlight=r.todayHighlight),r.weekStart!==void 0&&(this.weekStart=r.weekStart,this.weekEnd=r.weekEnd,s=!0),r.locale){var o=this.locale=r.locale;this.dayNames=o.daysMin,this.switchLabelFormat=o.titleFormat,s=!0}if(r.beforeShowDay!==void 0&&(this.beforeShow=typeof r.beforeShowDay=="function"?r.beforeShowDay:void 0),r.calendarWeeks!==void 0)if(r.calendarWeeks&&!this.calendarWeeks){var l=Dn(kI).firstChild;this.calendarWeeks={element:l,dow:l.firstChild,weeks:l.lastChild},this.element.insertBefore(l,this.element.firstChild)}else this.calendarWeeks&&!r.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);r.showDaysOfWeek!==void 0&&(r.showDaysOfWeek?(ks(this.dow),this.calendarWeeks&&ks(this.calendarWeeks.dow)):(Ss(this.dow),this.calendarWeeks&&Ss(this.calendarWeeks.dow))),s&&Array.from(this.dow.children).forEach(function(c,u){var h=(i.weekStart+u)%7;c.textContent=i.dayNames[h],c.className=i.daysOfWeekDisabled.includes(h)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var r=new Date(this.picker.viewDate),i=r.getFullYear(),s=r.getMonth(),o=tr(i,s,1),l=ja(o,this.weekStart,this.weekStart);this.first=o,this.last=tr(i,s+1,0),this.start=l,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var r=this.picker.datepicker,i=r.dates,s=r.rangepicker;this.selected=i,s&&(this.range=s.dates)}},{key:"render",value:function(){var r=this;this.today=this.todayHighlight?Gr():void 0,this.disabled=go(this.datesDisabled);var i=Ys(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(i),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var s=ja(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(o,l){o.textContent=_I(yI(s,l))})}Array.from(this.grid.children).forEach(function(o,l){var c=o.classList,u=bi(r.start,l),h=new Date(u),f=h.getDay();if(o.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(r.cellClass),o.dataset.date=u,o.textContent=h.getDate(),u<r.first?c.add("prev","text-gray-500","dark:text-white"):u>r.last&&c.add("next","text-gray-500","dark:text-white"),r.today===u&&c.add("today","bg-gray-100","dark:bg-gray-600"),(u<r.minDate||u>r.maxDate||r.disabled.includes(u))&&(c.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),c.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),r.daysOfWeekDisabled.includes(f)&&(c.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),c.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),Br(r.disabled,u)),r.daysOfWeekHighlighted.includes(f)&&c.add("highlighted"),r.range){var g=$t(r.range,2),y=g[0],S=g[1];u>y&&u<S&&(c.add("range","bg-gray-200","dark:bg-gray-600"),c.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),u===y&&(c.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),c.remove("rounded-lg","rounded-r-lg")),u===S&&(c.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),c.remove("rounded-lg","rounded-l-lg"))}r.selected.includes(u)&&(c.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),c.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),u===r.focused&&c.add("focused"),r.beforeShow&&r.performBeforeHook(o,u,u)})}},{key:"refresh",value:function(){var r=this,i=this.range||[],s=$t(i,2),o=s[0],l=s[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(c){c.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),c.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(c){var u=Number(c.dataset.date),h=c.classList;h.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),u>o&&u<l&&(h.add("range","bg-gray-200","dark:bg-gray-600"),h.remove("rounded-lg")),u===o&&(h.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),h.remove("rounded-lg")),u===l&&(h.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),h.remove("rounded-lg")),r.selected.includes(u)&&(h.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),h.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),u===r.focused&&h.add("focused")})}},{key:"refreshFocus",value:function(){var r=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[r].classList.add("focused")}}])}(xh);function dp(t,e){if(!(!t||!t[0]||!t[1])){var n=$t(t,2),r=$t(n[0],2),i=r[0],s=r[1],o=$t(n[1],2),l=o[0],c=o[1];if(!(i>e||l<e))return[i===e?s:-1,l===e?c:12]}}var xI=function(t){function e(n){return Kr(this,e),Ih(this,e,[n,{id:1,name:"months",cellClass:"month"}])}return Ah(e,t),Wr(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Dn(Pi("span",12,{"data-month":function(o){return o}})))),Gs(lr(e.prototype),"init",this).call(this,r)}},{key:"setOptions",value:function(r){if(r.locale&&(this.monthNames=r.locale.monthsShort),xn(r,"minDate"))if(r.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var i=new Date(r.minDate);this.minYear=i.getFullYear(),this.minMonth=i.getMonth(),this.minDate=i.setDate(1)}if(xn(r,"maxDate"))if(r.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var s=new Date(r.maxDate);this.maxYear=s.getFullYear(),this.maxMonth=s.getMonth(),this.maxDate=tr(this.maxYear,this.maxMonth+1,0)}r.beforeShowMonth!==void 0&&(this.beforeShow=typeof r.beforeShowMonth=="function"?r.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var r=new Date(this.picker.viewDate);this.year=r.getFullYear(),this.focused=r.getMonth()}},{key:"updateSelection",value:function(){var r=this.picker.datepicker,i=r.dates,s=r.rangepicker;this.selected=i.reduce(function(o,l){var c=new Date(l),u=c.getFullYear(),h=c.getMonth();return o[u]===void 0?o[u]=[h]:Br(o[u],h),o},{}),s&&s.dates&&(this.range=s.dates.map(function(o){var l=new Date(o);return isNaN(l)?void 0:[l.getFullYear(),l.getMonth()]}))}},{key:"render",value:function(){var r=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var i=this.selected[this.year]||[],s=this.year<this.minYear||this.year>this.maxYear,o=this.year===this.minYear,l=this.year===this.maxYear,c=dp(this.range,this.year);Array.from(this.grid.children).forEach(function(u,h){var f=u.classList,g=tr(r.year,h,1);if(u.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(r.cellClass),r.isMinView&&(u.dataset.date=g),u.textContent=r.monthNames[h],(s||o&&h<r.minMonth||l&&h>r.maxMonth)&&f.add("disabled"),c){var y=$t(c,2),S=y[0],R=y[1];h>S&&h<R&&f.add("range"),h===S&&f.add("range-start"),h===R&&f.add("range-end")}i.includes(h)&&(f.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),f.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),h===r.focused&&f.add("focused"),r.beforeShow&&r.performBeforeHook(u,h,g)})}},{key:"refresh",value:function(){var r=this,i=this.selected[this.year]||[],s=dp(this.range,this.year)||[],o=$t(s,2),l=o[0],c=o[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(u){u.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),u.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(u,h){var f=u.classList;h>l&&h<c&&f.add("range"),h===l&&f.add("range-start"),h===c&&f.add("range-end"),i.includes(h)&&(f.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),f.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),h===r.focused&&f.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(r){r.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])}(xh);function DI(t){return go(t).reduce(function(e,n,r){return e+=r?n:n.toUpperCase()},"")}var fp=function(t){function e(n,r){return Kr(this,e),Ih(this,e,[n,r])}return Ah(e,t),Wr(e,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(DI(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Dn(Pi("span",12)))),Gs(lr(e.prototype),"init",this).call(this,r)}},{key:"setOptions",value:function(r){if(xn(r,"minDate")&&(r.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=Cr(r.minDate,this.step),this.minDate=tr(this.minYear,0,1))),xn(r,"maxDate")&&(r.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=Cr(r.maxDate,this.step),this.maxDate=tr(this.maxYear,11,31))),r[this.beforeShowOption]!==void 0){var i=r[this.beforeShowOption];this.beforeShow=typeof i=="function"?i:void 0}}},{key:"updateFocus",value:function(){var r=new Date(this.picker.viewDate),i=Cr(r,this.navStep),s=i+9*this.step;this.first=i,this.last=s,this.start=i-this.step,this.focused=Cr(r,this.step)}},{key:"updateSelection",value:function(){var r=this,i=this.picker.datepicker,s=i.dates,o=i.rangepicker;this.selected=s.reduce(function(l,c){return Br(l,Cr(c,r.step))},[]),o&&o.dates&&(this.range=o.dates.map(function(l){if(l!==void 0)return Cr(l,r.step)}))}},{key:"render",value:function(){var r=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(i,s){var o=i.classList,l=r.start+s*r.step,c=tr(l,0,1);if(i.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(r.cellClass),r.isMinView&&(i.dataset.date=c),i.textContent=i.dataset.year=l,s===0?o.add("prev"):s===11&&o.add("next"),(l<r.minYear||l>r.maxYear)&&o.add("disabled"),r.range){var u=$t(r.range,2),h=u[0],f=u[1];l>h&&l<f&&o.add("range"),l===h&&o.add("range-start"),l===f&&o.add("range-end")}r.selected.includes(l)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),l===r.focused&&o.add("focused"),r.beforeShow&&r.performBeforeHook(i,l,c)})}},{key:"refresh",value:function(){var r=this,i=this.range||[],s=$t(i,2),o=s[0],l=s[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(c){c.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(c){var u=Number(c.textContent),h=c.classList;u>o&&u<l&&h.add("range"),u===o&&h.add("range-start"),u===l&&h.add("range-end"),r.selected.includes(u)&&(h.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),h.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),u===r.focused&&h.add("focused")})}},{key:"refreshFocus",value:function(){var r=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[r].classList.add("focused")}}])}(xh);function Ti(t,e){var n={date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t};t.element.dispatchEvent(new CustomEvent(e,{detail:n}))}function qa(t,e){var n=t.config,r=n.minDate,i=n.maxDate,s=t.picker,o=s.currentView,l=s.viewDate,c;switch(o.id){case 0:c=Ba(l,e);break;case 1:c=Ei(l,e);break;default:c=Ei(l,e*o.navStep)}c=Kv(c,r,i),t.picker.changeFocus(c).render()}function Zv(t){var e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function ey(t){t.config.updateOnBlur?t.update({autohide:!0}):(t.refresh("input"),t.hide())}function pp(t,e){var n=t.picker,r=new Date(n.viewDate),i=n.currentView.id,s=i===1?Ba(r,e-r.getMonth()):Ei(r,e-r.getFullYear());n.changeFocus(s).changeView(i-1).render()}function PI(t){var e=t.picker,n=Gr();if(t.config.todayBtnMode===1){if(t.config.autohide){t.setDate(n);return}t.setDate(n,{render:!1}),e.update()}e.viewDate!==n&&e.changeFocus(n),e.changeView(0).render()}function OI(t){t.setDate({clear:!0})}function VI(t){Zv(t)}function LI(t){qa(t,-1)}function MI(t){qa(t,1)}function NI(t,e){var n=Jv(e,".datepicker-cell");if(!(!n||n.classList.contains("disabled"))){var r=t.picker.currentView,i=r.id,s=r.isMinView;s?t.setDate(Number(n.dataset.date)):i===1?pp(t,Number(n.dataset.month)):pp(t,Number(n.dataset.year))}}function FI(t){!t.inline&&!t.config.disableTouchKeyboard&&t.inputField.focus()}function gp(t,e){if(e.title!==void 0&&(e.title?(t.controls.title.textContent=e.title,ks(t.controls.title)):(t.controls.title.textContent="",Ss(t.controls.title))),e.prevArrow){var n=t.controls.prevBtn;Ha(n),e.prevArrow.forEach(function(l){n.appendChild(l.cloneNode(!0))})}if(e.nextArrow){var r=t.controls.nextBtn;Ha(r),e.nextArrow.forEach(function(l){r.appendChild(l.cloneNode(!0))})}if(e.locale&&(t.controls.todayBtn.textContent=e.locale.today,t.controls.clearBtn.textContent=e.locale.clear),e.todayBtn!==void 0&&(e.todayBtn?ks(t.controls.todayBtn):Ss(t.controls.todayBtn)),xn(e,"minDate")||xn(e,"maxDate")){var i=t.datepicker.config,s=i.minDate,o=i.maxDate;t.controls.todayBtn.disabled=!Sh(Gr(),s,o)}e.clearBtn!==void 0&&(e.clearBtn?ks(t.controls.clearBtn):Ss(t.controls.clearBtn))}function mp(t){var e=t.dates,n=t.config,r=e.length>0?Ch(e):n.defaultViewDate;return Kv(r,n.minDate,n.maxDate)}function vp(t,e){var n=new Date(t.viewDate),r=new Date(e),i=t.currentView,s=i.id,o=i.year,l=i.first,c=i.last,u=r.getFullYear();switch(t.viewDate=e,u!==n.getFullYear()&&Ti(t.datepicker,"changeYear"),r.getMonth()!==n.getMonth()&&Ti(t.datepicker,"changeMonth"),s){case 0:return e<l||e>c;case 1:return u!==o;default:return u<l||u>c}}function Tc(t){return window.getComputedStyle(t).direction}var $I=function(){function t(e){Kr(this,t),this.datepicker=e;var n=CI.replace(/%buttonClass%/g,e.config.buttonClass),r=this.element=Dn(n).firstChild,i=$t(r.firstChild.children,3),s=i[0],o=i[1],l=i[2],c=s.firstElementChild,u=$t(s.lastElementChild.children,3),h=u[0],f=u[1],g=u[2],y=$t(l.firstChild.children,2),S=y[0],R=y[1],x={title:c,prevBtn:h,viewSwitch:f,nextBtn:g,todayBtn:S,clearBtn:R};this.main=o,this.controls=x;var V=e.inline?"inline":"dropdown";r.classList.add("datepicker-".concat(V)),V==="dropdown"&&r.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),gp(this,e.config),this.viewDate=mp(e),Rh(e,[[r,"click",FI.bind(null,e),{capture:!0}],[o,"click",NI.bind(null,e)],[x.viewSwitch,"click",VI.bind(null,e)],[x.prevBtn,"click",LI.bind(null,e)],[x.nextBtn,"click",MI.bind(null,e)],[x.todayBtn,"click",PI.bind(null,e)],[x.clearBtn,"click",OI.bind(null,e)]]),this.views=[new RI(this),new xI(this),new fp(this,{id:2,name:"years",cellClass:"year",step:1}),new fp(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}return Wr(t,[{key:"setOptions",value:function(n){gp(this,n),this.views.forEach(function(r){r.init(n,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var n=this.datepicker;if(!n.inline){var r=Tc(n.inputField);r!==Tc(n.config.container)?this.element.dir=r:this.element.dir&&this.element.removeAttribute("dir"),this.place(),n.config.disableTouchKeyboard&&n.inputField.blur()}Ti(n,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,Ti(this.datepicker,"hide"))}},{key:"place",value:function(){var n=this.element,r=n.classList,i=n.style,s=this.datepicker,o=s.config,l=s.inputField,c=o.container,u=this.element.getBoundingClientRect(),h=u.width,f=u.height,g=c.getBoundingClientRect(),y=g.left,S=g.top,R=g.width,x=l.getBoundingClientRect(),V=x.left,N=x.top,U=x.width,O=x.height,W=o.orientation,K=W.x,A=W.y,_,v,w;c===document.body?(_=window.scrollY,v=V+window.scrollX,w=N+_):(_=c.scrollTop,v=V-y,w=N-S+_),K==="auto"&&(v<0?(K="left",v=10):v+h>R?K="right":K=Tc(l)==="rtl"?"right":"left"),K==="right"&&(v-=h-U),A==="auto"&&(A=w-f<_?"bottom":"top"),A==="top"?w-=f:w+=O,r.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),r.add("datepicker-orient-".concat(A),"datepicker-orient-".concat(K)),i.top=w&&"".concat(w,"px"),i.left=v&&"".concat(v,"px")}},{key:"setViewSwitchLabel",value:function(n){this.controls.viewSwitch.textContent=n}},{key:"setPrevBtnDisabled",value:function(n){this.controls.prevBtn.disabled=n}},{key:"setNextBtnDisabled",value:function(n){this.controls.nextBtn.disabled=n}},{key:"changeView",value:function(n){var r=this.currentView,i=this.views[n];return i.id!==r.id&&(this.currentView=i,this._renderMethod="render",Ti(this.datepicker,"changeView"),this.main.replaceChild(i.element,r.element)),this}},{key:"changeFocus",value:function(n){return this._renderMethod=vp(this,n)?"render":"refreshFocus",this.views.forEach(function(r){r.updateFocus()}),this}},{key:"update",value:function(){var n=mp(this.datepicker);return this._renderMethod=vp(this,n)?"render":"refresh",this.views.forEach(function(r){r.updateFocus(),r.updateSelection()}),this}},{key:"render",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=n&&this._renderMethod||"render";delete this._renderMethod,this.currentView[r]()}}])}();function ty(t,e,n,r,i,s){if(Sh(t,i,s)){if(r(t)){var o=e(t,n);return ty(o,e,n,r,i,s)}return t}}function Wo(t,e,n,r){var i=t.picker,s=i.currentView,o=s.step||1,l=i.viewDate,c,u;switch(s.id){case 0:r?l=bi(l,n*7):e.ctrlKey||e.metaKey?l=Ei(l,n):l=bi(l,n),c=bi,u=function(f){return s.disabled.includes(f)};break;case 1:l=Ba(l,r?n*4:n),c=Ba,u=function(f){var g=new Date(f),y=s.year,S=s.disabled;return g.getFullYear()===y&&S.includes(g.getMonth())};break;default:l=Ei(l,n*(r?4:1)*o),c=Ei,u=function(f){return s.disabled.includes(Cr(f,o))}}l=ty(l,c,n<0?-o:o,u,s.minDate,s.maxDate),l!==void 0&&i.changeFocus(l).render()}function BI(t,e){if(e.key==="Tab"){ey(t);return}var n=t.picker,r=n.currentView,i=r.id,s=r.isMinView;if(n.active)if(t.editMode)switch(e.key){case"Escape":n.hide();break;case"Enter":t.exitEditMode({update:!0,autohide:t.config.autohide});break;default:return}else switch(e.key){case"Escape":n.hide();break;case"ArrowLeft":if(e.ctrlKey||e.metaKey)qa(t,-1);else if(e.shiftKey){t.enterEditMode();return}else Wo(t,e,-1,!1);break;case"ArrowRight":if(e.ctrlKey||e.metaKey)qa(t,1);else if(e.shiftKey){t.enterEditMode();return}else Wo(t,e,1,!1);break;case"ArrowUp":if(e.ctrlKey||e.metaKey)Zv(t);else if(e.shiftKey){t.enterEditMode();return}else Wo(t,e,-1,!0);break;case"ArrowDown":if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){t.enterEditMode();return}Wo(t,e,1,!0);break;case"Enter":s?t.setDate(n.viewDate):n.changeView(i-1).render();break;case"Backspace":case"Delete":t.enterEditMode();return;default:e.key.length===1&&!e.ctrlKey&&!e.metaKey&&t.enterEditMode();return}else switch(e.key){case"ArrowDown":case"Escape":n.show();break;case"Enter":t.update();break;default:return}e.preventDefault(),e.stopPropagation()}function jI(t){t.config.showOnFocus&&!t._showing&&t.show()}function UI(t,e){var n=e.target;(t.picker.active||t.config.showOnClick)&&(n._active=n===document.activeElement,n._clicking=setTimeout(function(){delete n._active,delete n._clicking},2e3))}function HI(t,e){var n=e.target;n._clicking&&(clearTimeout(n._clicking),delete n._clicking,n._active&&t.enterEditMode(),delete n._active,t.config.showOnClick&&t.show())}function qI(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function zI(t,e){var n=t.element;if(n===document.activeElement){var r=t.picker.element;Jv(e,function(i){return i===n||i===r})||ey(t)}}function ny(t,e){return t.map(function(n){return Ys(n,e.format,e.locale)}).join(e.dateDelimiter)}function ry(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.config,i=t.dates,s=t.rangepicker;if(e.length===0)return n?[]:void 0;var o=s&&t===s.datepickers[1],l=e.reduce(function(c,u){var h=Qs(u,r.format,r.locale);if(h===void 0)return c;if(r.pickLevel>0){var f=new Date(h);r.pickLevel===1?h=o?f.setMonth(f.getMonth()+1,0):f.setDate(1):h=o?f.setFullYear(f.getFullYear()+1,0,0):f.setMonth(0,1)}return Sh(h,r.minDate,r.maxDate)&&!c.includes(h)&&!r.datesDisabled.includes(h)&&!r.daysOfWeekDisabled.includes(new Date(h).getDay())&&c.push(h),c},[]);if(l.length!==0)return r.multidate&&!n&&(l=l.reduce(function(c,u){return i.includes(u)||c.push(u),c},i.filter(function(c){return!l.includes(c)}))),r.maxNumberOfDates&&l.length>r.maxNumberOfDates?l.slice(r.maxNumberOfDates*-1):l}function za(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=t.config,i=t.picker,s=t.inputField;if(e&2){var o=i.active?r.pickLevel:r.startView;i.update().changeView(o).render(n)}e&1&&s&&(s.value=ny(t.dates,r))}function yp(t,e,n){var r=n.clear,i=n.render,s=n.autohide;i===void 0&&(i=!0),i?s===void 0&&(s=t.config.autohide):s=!1;var o=ry(t,e,r);o&&(o.toString()!==t.dates.toString()?(t.dates=o,za(t,i?3:1),Ti(t,"changeDate")):za(t,1),s&&t.hide())}var oa=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;Kr(this,t),e.datepicker=this,this.element=e;var i=this.config=Object.assign({buttonClass:n.buttonClass&&String(n.buttonClass)||"button",container:document.body,defaultViewDate:Gr(),maxDate:void 0,minDate:void 0},Ec(mo,this));this._options=n,Object.assign(i,Ec(n,this));var s=this.inline=e.tagName!=="INPUT",o,l;if(s)i.container=e,l=vc(e.dataset.date,i.dateDelimiter),delete e.dataset.date;else{var c=n.container?document.querySelector(n.container):null;c&&(i.container=c),o=this.inputField=e,o.classList.add("datepicker-input"),l=vc(o.value,i.dateDelimiter)}if(r){var u=r.inputs.indexOf(o),h=r.datepickers;if(u<0||u>1||!Array.isArray(h))throw Error("Invalid rangepicker object.");h[u]=this,Object.defineProperty(this,"rangepicker",{get:function(){return r}})}this.dates=[];var f=ry(this,l);f&&f.length>0&&(this.dates=f),o&&(o.value=ny(this.dates,i));var g=this.picker=new $I(this);if(s)this.show();else{var y=zI.bind(null,this),S=[[o,"keydown",BI.bind(null,this)],[o,"focus",jI.bind(null,this)],[o,"mousedown",UI.bind(null,this)],[o,"click",HI.bind(null,this)],[o,"paste",qI.bind(null,this)],[document,"mousedown",y],[document,"touchstart",y],[window,"resize",g.place.bind(g)]];Rh(this,S)}}return Wr(t,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(n){var r=this.picker,i=Ec(n,this);Object.assign(this._options,n),Object.assign(this.config,i),r.setOptions(i),za(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),Yv(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=r?function(s){return Ys(s,r,n.config.locale)}:function(s){return new Date(s)};if(this.config.multidate)return this.dates.map(i);if(this.dates.length>0)return i(this.dates[0])}},{key:"setDate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=[].concat(r),o={},l=Ch(r);$a(l)==="object"&&!Array.isArray(l)&&!(l instanceof Date)&&l&&Object.assign(o,s.pop());var c=Array.isArray(s[0])?s[0]:s;yp(this,c,o)}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var r={clear:!0,autohide:!!(n&&n.autohide)},i=vc(this.inputField.value,this.config.dateDelimiter);yp(this,i,r)}}},{key:"refresh",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&typeof n!="string"&&(r=n,n=void 0);var i;n==="picker"?i=2:n==="input"?i=1:i=3,za(this,i,!r)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var r=Object.assign({update:!1},n);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),r.update&&this.update(r)}}}],[{key:"formatDate",value:function(n,r,i){return Ys(n,r,i&&ds[i]||ds.en)}},{key:"parseDate",value:function(n,r,i){return Qs(n,r,i&&ds[i]||ds.en)}},{key:"locales",get:function(){return ds}}])}();function _p(t){var e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function wp(t,e,n,r){Rh(t,[[n,"changeDate",e]]),new oa(n,r,t)}function fs(t,e){if(!t._updating){t._updating=!0;var n=e.target;if(n.datepicker!==void 0){var r=t.datepickers,i={render:!1},s=t.inputs.indexOf(n),o=s===0?1:0,l=r[s].dates[0],c=r[o].dates[0];l!==void 0&&c!==void 0?s===0&&l>c?(r[0].setDate(c,i),r[1].setDate(l,i)):s===1&&l<c&&(r[0].setDate(l,i),r[1].setDate(c,i)):t.allowOneSidedRange||(l!==void 0||c!==void 0)&&(i.clear=!0,r[o].setDate(r[s].dates,i)),r[0].picker.update().render(),r[1].picker.update().render(),delete t._updating}}}var Ic=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Kr(this,t);var r=Array.isArray(n.inputs)?n.inputs:Array.from(e.querySelectorAll("input"));if(!(r.length<2)){e.rangepicker=this,this.element=e,this.inputs=r.slice(0,2),this.allowOneSidedRange=!!n.allowOneSidedRange;var i=fs.bind(null,this),s=_p(n),o=[];Object.defineProperty(this,"datepickers",{get:function(){return o}}),wp(this,i,this.inputs[0],s),wp(this,i,this.inputs[1],s),Object.freeze(o),o[0].dates.length>0?fs(this,{target:this.inputs[0]}):o[1].dates.length>0&&fs(this,{target:this.inputs[1]})}}return Wr(t,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(n){this.allowOneSidedRange=!!n.allowOneSidedRange;var r=_p(n);this.datepickers[0].setOptions(r),this.datepickers[1].setOptions(r)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),Yv(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=r?function(s){return Ys(s,r,n.datepickers[0].config.locale)}:function(s){return new Date(s)};return this.dates.map(function(s){return s===void 0?s:i(s)})}},{key:"setDates",value:function(n,r){var i=$t(this.datepickers,2),s=i[0],o=i[1],l=this.dates;this._updating=!0,s.setDate(n),o.setDate(r),delete this._updating,o.dates[0]!==l[1]?fs(this,{target:this.inputs[1]}):s.dates[0]!==l[0]&&fs(this,{target:this.inputs[0]})}}])}(),Ka=function(){return Ka=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ka.apply(this,arguments)},zt={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},KI={id:null,override:!0},iy=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=zt),r===void 0&&(r=KI),this._instanceId=r.id?r.id:e.id,this._datepickerEl=e,this._datepickerInstance=null,this._options=Ka(Ka({},zt),n),this._initialized=!1,this.init(),Ie.addInstance("Datepicker",this,this._instanceId,r.override)}return t.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new Ic(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new oa(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},t.prototype.removeInstance=function(){this.destroy(),Ie.removeInstance("Datepicker",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getDatepickerInstance=function(){return this._datepickerInstance},t.prototype.getDate=function(){if(this._options.rangePicker&&this._datepickerInstance instanceof Ic)return this._datepickerInstance.getDates();if(!this._options.rangePicker&&this._datepickerInstance instanceof oa)return this._datepickerInstance.getDate()},t.prototype.setDate=function(e){if(this._options.rangePicker&&this._datepickerInstance instanceof Ic)return this._datepickerInstance.setDates(e);if(!this._options.rangePicker&&this._datepickerInstance instanceof oa)return this._datepickerInstance.setDate(e)},t.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},t.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},t.prototype._getDatepickerOptions=function(e){var n={};return e.buttons&&(n.todayBtn=!0,n.clearBtn=!0,e.autoSelectToday&&(n.todayBtnMode=1)),e.autohide&&(n.autohide=!0),e.format&&(n.format=e.format),e.maxDate&&(n.maxDate=e.maxDate),e.minDate&&(n.minDate=e.minDate),e.orientation&&(n.orientation=e.orientation),e.title&&(n.title=e.title),e.language&&(n.language=e.language),n},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t}();function Dh(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach(function(t){if(t){var e=t.hasAttribute("datepicker-buttons"),n=t.hasAttribute("datepicker-autoselect-today"),r=t.hasAttribute("datepicker-autohide"),i=t.getAttribute("datepicker-format"),s=t.getAttribute("datepicker-max-date"),o=t.getAttribute("datepicker-min-date"),l=t.getAttribute("datepicker-orientation"),c=t.getAttribute("datepicker-title"),u=t.getAttribute("datepicker-language"),h=t.hasAttribute("date-rangepicker");new iy(t,{buttons:e||zt.buttons,autoSelectToday:n||zt.autoSelectToday,autohide:r||zt.autohide,format:i||zt.format,maxDate:s||zt.maxDate,minDate:o||zt.minDate,orientation:l||zt.orientation,title:c||zt.title,language:u||zt.language,rangePicker:h||zt.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")})}typeof window<"u"&&(window.Datepicker=iy,window.initDatepickers=Dh);function Ph(){rh(),ih(),sh(),oh(),gh(),mh(),vh(),yh(),_h(),wh(),bh(),Eh(),Th(),Dh()}typeof window<"u"&&(window.initFlowbite=Ph);var WI=new jE("load",[rh,ih,sh,oh,gh,mh,vh,yh,_h,wh,bh,Eh,Th,Dh]);WI.init();const it=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},GI={name:"FlowBite",mounted(){Ph()},emits:["select-component"],data(){return{baseLinkClass:"block py-2 px-3 md:p-0 rounded-sm",activeLinkClass:"text-white bg-blue-700 md:bg-transparent md:text-blue-700 dark:text-white md:dark:text-blue-500",inactiveLinkClass:"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"}},props:{selectedComponent:{required:!1}},methods:{handleComponentSelection(t){this.$emit("select-component",t)},getLinkClasses(t){const e=this.selectedComponent===t;return[this.baseLinkClass,e?this.activeLinkClass:this.inactiveLinkClass]}}},QI={class:"pl-4 flex items-center gap-2"};function YI(t,e,n,r,i,s){return re(),ye("div",QI,e[0]||(e[0]=[L("img",{src:"https://flowbite.com/docs/images/logo.svg",class:"h-8",alt:"Flowbite Logo"},null,-1),L("span",{class:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white"},"Flowbite",-1)]))}const XI=it(GI,[["render",YI]]),JI="/find-a-coach/assets/light-mode-background-LtbTSl5w.png",ZI="/find-a-coach/assets/dark-mode-background-C6-_r_bY.png",eA=xt({name:"App",components:{FlowBite:XI},data(){return{isDarkMode:!1,lightBackground:JI,darkBackground:ZI}},methods:{...zr("Request",["fetchRequests"]),toggleTheme(){this.isDarkMode=!this.isDarkMode;const t=this.isDarkMode?"dark":"light";document.documentElement.setAttribute("data-theme",t),document.body.style.backgroundImage=`url(${this.isDarkMode?this.darkBackground:this.lightBackground})`,localStorage.setItem("theme",t)}},mounted(){this.fetchRequests();const t=localStorage.getItem("theme");t&&(this.isDarkMode=t==="dark",document.documentElement.setAttribute("data-theme",t),document.body.style.backgroundImage=`url(${this.isDarkMode?this.darkBackground:this.lightBackground})`)}}),tA={class:"nav-bar"},nA={class:"nav-links"},rA={key:0},iA={key:1};function sA(t,e,n,r,i,s){const o=Ne("FlowBite"),l=Ne("router-link"),c=Ne("router-view");return re(),ye(Ye,null,[L("header",null,[L("nav",tA,[_e(o),L("nav",nA,[_e(l,{to:"/"},{default:Qe(()=>e[1]||(e[1]=[nn("All Coaches")])),_:1}),e[3]||(e[3]=nn(" | ")),_e(l,{to:"/requests"},{default:Qe(()=>e[2]||(e[2]=[nn("Requests")])),_:1}),L("button",{class:"theme-toggle",onClick:e[0]||(e[0]=(...u)=>t.toggleTheme&&t.toggleTheme(...u))},[t.isDarkMode?(re(),ye("span",rA,"")):(re(),ye("span",iA,""))])])])]),_e(c,null,{default:Qe(u=>[_e(sv,{name:"route",mode:"out-in"},{default:Qe(()=>[(re(),Bt(Nw(u.Component)))]),_:2},1024)]),_:1})],64)}const oA=it(eA,[["render",sA]]),aA=()=>{};var bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,f=(s&3)<<4|l>>4;let g=(l&15)<<2|u>>6,y=u&63;c||(y=64,o||(g=64)),r.push(n[h],n[f],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new cA;const g=s<<2|l>>4;if(r.push(g),u!==64){const y=l<<4&240|u>>2;if(r.push(y),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(t){const e=sy(t);return oy.encodeByteArray(e,!0)},Wa=function(t){return uA(t).replace(/\./g,"")},hA=function(t){try{return oy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=()=>dA().__FIREBASE_DEFAULTS__,pA=()=>{if(typeof process>"u"||typeof bp>"u")return;const t=bp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hA(t[1]);return e&&JSON.parse(e)},Oh=()=>{try{return aA()||fA()||pA()||gA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mA=t=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vA=t=>{const e=mA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ay=()=>{var t;return(t=Oh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wa(JSON.stringify(n)),Wa(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){var t;const e=(t=Oh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EA(){return!bA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TA(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="FirebaseError";class qi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AA,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ly.prototype.create)}}class ly{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CA(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new qi(i,l,r)}}function CA(t,e){return t.replace(SA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SA=/\{\$([^}]+)}/g;function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ep(s)&&Ep(o)){if(!Ga(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ep(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xA(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RA(t){return t===Sr?void 0:t}function xA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const PA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},OA=ke.INFO,VA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},LA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cy{constructor(e){this.name=e,this._logLevel=OA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const MA=(t,e)=>e.some(n=>t instanceof n);let Tp,Ip;function NA(){return Tp||(Tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return Ip||(Ip=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uy=new WeakMap,su=new WeakMap,hy=new WeakMap,Ac=new WeakMap,Vh=new WeakMap;function $A(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(nr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uy.set(n,t)}).catch(()=>{}),Vh.set(e,t),e}function BA(t){if(su.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});su.set(t,e)}let ou={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return su.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jA(t){ou=t(ou)}function UA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cc(this),e,...n);return hy.set(r,e.sort?e.sort():[e]),nr(r)}:FA().includes(t)?function(...e){return t.apply(Cc(this),e),nr(uy.get(this))}:function(...e){return nr(t.apply(Cc(this),e))}}function HA(t){return typeof t=="function"?UA(t):(t instanceof IDBTransaction&&BA(t),MA(t,NA())?new Proxy(t,ou):t)}function nr(t){if(t instanceof IDBRequest)return $A(t);if(Ac.has(t))return Ac.get(t);const e=HA(t);return e!==t&&(Ac.set(t,e),Vh.set(e,t)),e}const Cc=t=>Vh.get(t);function qA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=nr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(nr(o.result),c.oldVersion,c.newVersion,nr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const zA=["get","getKey","getAll","getAllKeys","count"],KA=["put","add","delete","clear"],Sc=new Map;function Ap(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sc.get(e))return Sc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zA.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Sc.set(e,s),s}jA(t=>({...t,get:(e,n,r)=>Ap(e,n)||t.get(e,n,r),has:(e,n)=>!!Ap(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const au="@firebase/app",Cp="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new cy("@firebase/app"),QA="@firebase/app-compat",YA="@firebase/analytics-compat",XA="@firebase/analytics",JA="@firebase/app-check-compat",ZA="@firebase/app-check",eC="@firebase/auth",tC="@firebase/auth-compat",nC="@firebase/database",rC="@firebase/data-connect",iC="@firebase/database-compat",sC="@firebase/functions",oC="@firebase/functions-compat",aC="@firebase/installations",lC="@firebase/installations-compat",cC="@firebase/messaging",uC="@firebase/messaging-compat",hC="@firebase/performance",dC="@firebase/performance-compat",fC="@firebase/remote-config",pC="@firebase/remote-config-compat",gC="@firebase/storage",mC="@firebase/storage-compat",vC="@firebase/firestore",yC="@firebase/vertexai",_C="@firebase/firestore-compat",wC="firebase",bC="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="[DEFAULT]",EC={[au]:"fire-core",[QA]:"fire-core-compat",[XA]:"fire-analytics",[YA]:"fire-analytics-compat",[ZA]:"fire-app-check",[JA]:"fire-app-check-compat",[eC]:"fire-auth",[tC]:"fire-auth-compat",[nC]:"fire-rtdb",[rC]:"fire-data-connect",[iC]:"fire-rtdb-compat",[sC]:"fire-fn",[oC]:"fire-fn-compat",[aC]:"fire-iid",[lC]:"fire-iid-compat",[cC]:"fire-fcm",[uC]:"fire-fcm-compat",[hC]:"fire-perf",[dC]:"fire-perf-compat",[fC]:"fire-rc",[pC]:"fire-rc-compat",[gC]:"fire-gcs",[mC]:"fire-gcs-compat",[vC]:"fire-fst",[_C]:"fire-fst-compat",[yC]:"fire-vertex","fire-js":"fire-js",[wC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Map,TC=new Map,cu=new Map;function Sp(t,e){try{t.container.addComponent(e)}catch(n){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ya(t){const e=t.name;if(cu.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;cu.set(e,t);for(const n of Qa.values())Sp(n,t);for(const n of TC.values())Sp(n,t);return!0}function IC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function AC(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new ly("app","Firebase",CC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=bC;function dy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rr.create("bad-app-name",{appName:String(i)});if(n||(n=ay()),!n)throw rr.create("no-options");const s=Qa.get(i);if(s){if(Ga(n,s.options)&&Ga(r,s.config))return s;throw rr.create("duplicate-app",{appName:i})}const o=new DA(i);for(const c of cu.values())o.addComponent(c);const l=new SC(n,r,o);return Qa.set(i,l),l}function RC(t=lu){const e=Qa.get(t);if(!e&&t===lu&&ay())return dy();if(!e)throw rr.create("no-app",{appName:t});return e}function Ii(t,e,n){var r;let i=(r=EC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(l.join(" "));return}Ya(new Js(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebase-heartbeat-database",DC=1,Zs="firebase-heartbeat-store";let kc=null;function fy(){return kc||(kc=qA(xC,DC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zs)}catch(n){console.warn(n)}}}}).catch(t=>{throw rr.create("idb-open",{originalErrorMessage:t.message})})),kc}async function PC(t){try{const n=(await fy()).transaction(Zs),r=await n.objectStore(Zs).get(py(t));return await n.done,r}catch(e){if(e instanceof qi)Pn.warn(e.message);else{const n=rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pn.warn(n.message)}}}async function kp(t,e){try{const r=(await fy()).transaction(Zs,"readwrite");await r.objectStore(Zs).put(e,py(t)),await r.done}catch(n){if(n instanceof qi)Pn.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pn.warn(r.message)}}}function py(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=1024,VC=30;class LC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>VC){const o=FC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rp(),{heartbeatsToSend:r,unsentEntries:i}=MC(this._heartbeatsCache.heartbeats),s=Wa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Pn.warn(n),""}}}function Rp(){return new Date().toISOString().substring(0,10)}function MC(t,e=OC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TA()?IA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xp(t){return Wa(JSON.stringify({version:2,heartbeats:t})).length}function FC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){Ya(new Js("platform-logger",e=>new WA(e),"PRIVATE")),Ya(new Js("heartbeat",e=>new LC(e),"PRIVATE")),Ii(au,Cp,t),Ii(au,Cp,"esm2017"),Ii("fire-js","")}$C("");var Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ir,gy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,_){function v(){}v.prototype=_.prototype,A.D=_.prototype,A.prototype=new v,A.prototype.constructor=A,A.C=function(w,I,T){for(var b=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)b[pe-2]=arguments[pe];return _.prototype[I].apply(w,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,_,v){v||(v=0);var w=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)w[I]=_.charCodeAt(v++)|_.charCodeAt(v++)<<8|_.charCodeAt(v++)<<16|_.charCodeAt(v++)<<24;else for(I=0;16>I;++I)w[I]=_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24;_=A.g[0],v=A.g[1],I=A.g[2];var T=A.g[3],b=_+(T^v&(I^T))+w[0]+3614090360&4294967295;_=v+(b<<7&4294967295|b>>>25),b=T+(I^_&(v^I))+w[1]+3905402710&4294967295,T=_+(b<<12&4294967295|b>>>20),b=I+(v^T&(_^v))+w[2]+606105819&4294967295,I=T+(b<<17&4294967295|b>>>15),b=v+(_^I&(T^_))+w[3]+3250441966&4294967295,v=I+(b<<22&4294967295|b>>>10),b=_+(T^v&(I^T))+w[4]+4118548399&4294967295,_=v+(b<<7&4294967295|b>>>25),b=T+(I^_&(v^I))+w[5]+1200080426&4294967295,T=_+(b<<12&4294967295|b>>>20),b=I+(v^T&(_^v))+w[6]+2821735955&4294967295,I=T+(b<<17&4294967295|b>>>15),b=v+(_^I&(T^_))+w[7]+4249261313&4294967295,v=I+(b<<22&4294967295|b>>>10),b=_+(T^v&(I^T))+w[8]+1770035416&4294967295,_=v+(b<<7&4294967295|b>>>25),b=T+(I^_&(v^I))+w[9]+2336552879&4294967295,T=_+(b<<12&4294967295|b>>>20),b=I+(v^T&(_^v))+w[10]+4294925233&4294967295,I=T+(b<<17&4294967295|b>>>15),b=v+(_^I&(T^_))+w[11]+2304563134&4294967295,v=I+(b<<22&4294967295|b>>>10),b=_+(T^v&(I^T))+w[12]+1804603682&4294967295,_=v+(b<<7&4294967295|b>>>25),b=T+(I^_&(v^I))+w[13]+4254626195&4294967295,T=_+(b<<12&4294967295|b>>>20),b=I+(v^T&(_^v))+w[14]+2792965006&4294967295,I=T+(b<<17&4294967295|b>>>15),b=v+(_^I&(T^_))+w[15]+1236535329&4294967295,v=I+(b<<22&4294967295|b>>>10),b=_+(I^T&(v^I))+w[1]+4129170786&4294967295,_=v+(b<<5&4294967295|b>>>27),b=T+(v^I&(_^v))+w[6]+3225465664&4294967295,T=_+(b<<9&4294967295|b>>>23),b=I+(_^v&(T^_))+w[11]+643717713&4294967295,I=T+(b<<14&4294967295|b>>>18),b=v+(T^_&(I^T))+w[0]+3921069994&4294967295,v=I+(b<<20&4294967295|b>>>12),b=_+(I^T&(v^I))+w[5]+3593408605&4294967295,_=v+(b<<5&4294967295|b>>>27),b=T+(v^I&(_^v))+w[10]+38016083&4294967295,T=_+(b<<9&4294967295|b>>>23),b=I+(_^v&(T^_))+w[15]+3634488961&4294967295,I=T+(b<<14&4294967295|b>>>18),b=v+(T^_&(I^T))+w[4]+3889429448&4294967295,v=I+(b<<20&4294967295|b>>>12),b=_+(I^T&(v^I))+w[9]+568446438&4294967295,_=v+(b<<5&4294967295|b>>>27),b=T+(v^I&(_^v))+w[14]+3275163606&4294967295,T=_+(b<<9&4294967295|b>>>23),b=I+(_^v&(T^_))+w[3]+4107603335&4294967295,I=T+(b<<14&4294967295|b>>>18),b=v+(T^_&(I^T))+w[8]+1163531501&4294967295,v=I+(b<<20&4294967295|b>>>12),b=_+(I^T&(v^I))+w[13]+2850285829&4294967295,_=v+(b<<5&4294967295|b>>>27),b=T+(v^I&(_^v))+w[2]+4243563512&4294967295,T=_+(b<<9&4294967295|b>>>23),b=I+(_^v&(T^_))+w[7]+1735328473&4294967295,I=T+(b<<14&4294967295|b>>>18),b=v+(T^_&(I^T))+w[12]+2368359562&4294967295,v=I+(b<<20&4294967295|b>>>12),b=_+(v^I^T)+w[5]+4294588738&4294967295,_=v+(b<<4&4294967295|b>>>28),b=T+(_^v^I)+w[8]+2272392833&4294967295,T=_+(b<<11&4294967295|b>>>21),b=I+(T^_^v)+w[11]+1839030562&4294967295,I=T+(b<<16&4294967295|b>>>16),b=v+(I^T^_)+w[14]+4259657740&4294967295,v=I+(b<<23&4294967295|b>>>9),b=_+(v^I^T)+w[1]+2763975236&4294967295,_=v+(b<<4&4294967295|b>>>28),b=T+(_^v^I)+w[4]+1272893353&4294967295,T=_+(b<<11&4294967295|b>>>21),b=I+(T^_^v)+w[7]+4139469664&4294967295,I=T+(b<<16&4294967295|b>>>16),b=v+(I^T^_)+w[10]+3200236656&4294967295,v=I+(b<<23&4294967295|b>>>9),b=_+(v^I^T)+w[13]+681279174&4294967295,_=v+(b<<4&4294967295|b>>>28),b=T+(_^v^I)+w[0]+3936430074&4294967295,T=_+(b<<11&4294967295|b>>>21),b=I+(T^_^v)+w[3]+3572445317&4294967295,I=T+(b<<16&4294967295|b>>>16),b=v+(I^T^_)+w[6]+76029189&4294967295,v=I+(b<<23&4294967295|b>>>9),b=_+(v^I^T)+w[9]+3654602809&4294967295,_=v+(b<<4&4294967295|b>>>28),b=T+(_^v^I)+w[12]+3873151461&4294967295,T=_+(b<<11&4294967295|b>>>21),b=I+(T^_^v)+w[15]+530742520&4294967295,I=T+(b<<16&4294967295|b>>>16),b=v+(I^T^_)+w[2]+3299628645&4294967295,v=I+(b<<23&4294967295|b>>>9),b=_+(I^(v|~T))+w[0]+4096336452&4294967295,_=v+(b<<6&4294967295|b>>>26),b=T+(v^(_|~I))+w[7]+1126891415&4294967295,T=_+(b<<10&4294967295|b>>>22),b=I+(_^(T|~v))+w[14]+2878612391&4294967295,I=T+(b<<15&4294967295|b>>>17),b=v+(T^(I|~_))+w[5]+4237533241&4294967295,v=I+(b<<21&4294967295|b>>>11),b=_+(I^(v|~T))+w[12]+1700485571&4294967295,_=v+(b<<6&4294967295|b>>>26),b=T+(v^(_|~I))+w[3]+2399980690&4294967295,T=_+(b<<10&4294967295|b>>>22),b=I+(_^(T|~v))+w[10]+4293915773&4294967295,I=T+(b<<15&4294967295|b>>>17),b=v+(T^(I|~_))+w[1]+2240044497&4294967295,v=I+(b<<21&4294967295|b>>>11),b=_+(I^(v|~T))+w[8]+1873313359&4294967295,_=v+(b<<6&4294967295|b>>>26),b=T+(v^(_|~I))+w[15]+4264355552&4294967295,T=_+(b<<10&4294967295|b>>>22),b=I+(_^(T|~v))+w[6]+2734768916&4294967295,I=T+(b<<15&4294967295|b>>>17),b=v+(T^(I|~_))+w[13]+1309151649&4294967295,v=I+(b<<21&4294967295|b>>>11),b=_+(I^(v|~T))+w[4]+4149444226&4294967295,_=v+(b<<6&4294967295|b>>>26),b=T+(v^(_|~I))+w[11]+3174756917&4294967295,T=_+(b<<10&4294967295|b>>>22),b=I+(_^(T|~v))+w[2]+718787259&4294967295,I=T+(b<<15&4294967295|b>>>17),b=v+(T^(I|~_))+w[9]+3951481745&4294967295,A.g[0]=A.g[0]+_&4294967295,A.g[1]=A.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+T&4294967295}r.prototype.u=function(A,_){_===void 0&&(_=A.length);for(var v=_-this.blockSize,w=this.B,I=this.h,T=0;T<_;){if(I==0)for(;T<=v;)i(this,A,T),T+=this.blockSize;if(typeof A=="string"){for(;T<_;)if(w[I++]=A.charCodeAt(T++),I==this.blockSize){i(this,w),I=0;break}}else for(;T<_;)if(w[I++]=A[T++],I==this.blockSize){i(this,w),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var _=1;_<A.length-8;++_)A[_]=0;var v=8*this.o;for(_=A.length-8;_<A.length;++_)A[_]=v&255,v/=256;for(this.u(A),A=Array(16),_=v=0;4>_;++_)for(var w=0;32>w;w+=8)A[v++]=this.g[_]>>>w&255;return A};function s(A,_){var v=l;return Object.prototype.hasOwnProperty.call(v,A)?v[A]:v[A]=_(A)}function o(A,_){this.h=_;for(var v=[],w=!0,I=A.length-1;0<=I;I--){var T=A[I]|0;w&&T==_||(v[I]=T,w=!1)}this.g=v}var l={};function c(A){return-128<=A&&128>A?s(A,function(_){return new o([_|0],0>_?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return x(u(-A));for(var _=[],v=1,w=0;A>=v;w++)_[w]=A/v|0,v*=4294967296;return new o(_,0)}function h(A,_){if(A.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(A.charAt(0)=="-")return x(h(A.substring(1),_));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=u(Math.pow(_,8)),w=f,I=0;I<A.length;I+=8){var T=Math.min(8,A.length-I),b=parseInt(A.substring(I,I+T),_);8>T?(T=u(Math.pow(_,T)),w=w.j(T).add(u(b))):(w=w.j(v),w=w.add(u(b)))}return w}var f=c(0),g=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(R(this))return-x(this).m();for(var A=0,_=1,v=0;v<this.g.length;v++){var w=this.i(v);A+=(0<=w?w:4294967296+w)*_,_*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(R(this))return"-"+x(this).toString(A);for(var _=u(Math.pow(A,6)),v=this,w="";;){var I=O(v,_).g;v=V(v,I.j(_));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(A);if(v=I,S(v))return T+w;for(;6>T.length;)T="0"+T;w=T+w}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(var _=0;_<A.g.length;_++)if(A.g[_]!=0)return!1;return!0}function R(A){return A.h==-1}t.l=function(A){return A=V(this,A),R(A)?-1:S(A)?0:1};function x(A){for(var _=A.g.length,v=[],w=0;w<_;w++)v[w]=~A.g[w];return new o(v,~A.h).add(g)}t.abs=function(){return R(this)?x(this):this},t.add=function(A){for(var _=Math.max(this.g.length,A.g.length),v=[],w=0,I=0;I<=_;I++){var T=w+(this.i(I)&65535)+(A.i(I)&65535),b=(T>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);w=b>>>16,T&=65535,b&=65535,v[I]=b<<16|T}return new o(v,v[v.length-1]&-2147483648?-1:0)};function V(A,_){return A.add(x(_))}t.j=function(A){if(S(this)||S(A))return f;if(R(this))return R(A)?x(this).j(x(A)):x(x(this).j(A));if(R(A))return x(this.j(x(A)));if(0>this.l(y)&&0>A.l(y))return u(this.m()*A.m());for(var _=this.g.length+A.g.length,v=[],w=0;w<2*_;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<A.g.length;I++){var T=this.i(w)>>>16,b=this.i(w)&65535,pe=A.i(I)>>>16,be=A.i(I)&65535;v[2*w+2*I]+=b*be,N(v,2*w+2*I),v[2*w+2*I+1]+=T*be,N(v,2*w+2*I+1),v[2*w+2*I+1]+=b*pe,N(v,2*w+2*I+1),v[2*w+2*I+2]+=T*pe,N(v,2*w+2*I+2)}for(w=0;w<_;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=_;w<2*_;w++)v[w]=0;return new o(v,0)};function N(A,_){for(;(A[_]&65535)!=A[_];)A[_+1]+=A[_]>>>16,A[_]&=65535,_++}function U(A,_){this.g=A,this.h=_}function O(A,_){if(S(_))throw Error("division by zero");if(S(A))return new U(f,f);if(R(A))return _=O(x(A),_),new U(x(_.g),x(_.h));if(R(_))return _=O(A,x(_)),new U(x(_.g),_.h);if(30<A.g.length){if(R(A)||R(_))throw Error("slowDivide_ only works with positive integers.");for(var v=g,w=_;0>=w.l(A);)v=W(v),w=W(w);var I=K(v,1),T=K(w,1);for(w=K(w,2),v=K(v,2);!S(w);){var b=T.add(w);0>=b.l(A)&&(I=I.add(v),T=b),w=K(w,1),v=K(v,1)}return _=V(A,I.j(_)),new U(I,_)}for(I=f;0<=A.l(_);){for(v=Math.max(1,Math.floor(A.m()/_.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),T=u(v),b=T.j(_);R(b)||0<b.l(A);)v-=w,T=u(v),b=T.j(_);S(T)&&(T=g),I=I.add(T),A=V(A,b)}return new U(I,A)}t.A=function(A){return O(this,A).h},t.and=function(A){for(var _=Math.max(this.g.length,A.g.length),v=[],w=0;w<_;w++)v[w]=this.i(w)&A.i(w);return new o(v,this.h&A.h)},t.or=function(A){for(var _=Math.max(this.g.length,A.g.length),v=[],w=0;w<_;w++)v[w]=this.i(w)|A.i(w);return new o(v,this.h|A.h)},t.xor=function(A){for(var _=Math.max(this.g.length,A.g.length),v=[],w=0;w<_;w++)v[w]=this.i(w)^A.i(w);return new o(v,this.h^A.h)};function W(A){for(var _=A.g.length+1,v=[],w=0;w<_;w++)v[w]=A.i(w)<<1|A.i(w-1)>>>31;return new o(v,A.h)}function K(A,_){var v=_>>5;_%=32;for(var w=A.g.length-v,I=[],T=0;T<w;T++)I[T]=0<_?A.i(T+v)>>>_|A.i(T+v+1)<<32-_:A.i(T+v);return new o(I,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gy=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ir=o}).apply(typeof Dp<"u"?Dp:typeof self<"u"?self:typeof window<"u"?window:{});var Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var my,ms,vy,aa,uu,yy,_y,wy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Go=="object"&&Go];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var p=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var k=a[m];if(!(k in p))break e;p=p[k]}a=a[a.length-1],m=p[a],d=d(m),d!=m&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var p=0,m=!1,k={next:function(){if(!m&&p<a.length){var P=p++;return{value:d(P,a[P]),done:!1}}return m=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,p){return a.call.apply(a.bind,arguments)}function f(a,d,p){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,m),a.apply(d,k)}}return function(){return a.apply(d,arguments)}}function g(a,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function y(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function S(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(m,k,P){for(var Y=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Y[Fe-2]=arguments[Fe];return d.prototype[k].apply(m,Y)}}function R(a){const d=a.length;if(0<d){const p=Array(d);for(let m=0;m<d;m++)p[m]=a[m];return p}return[]}function x(a,d){for(let p=1;p<arguments.length;p++){const m=arguments[p];if(c(m)){const k=a.length||0,P=m.length||0;a.length=k+P;for(let Y=0;Y<P;Y++)a[k+Y]=m[Y]}else a.push(m)}}class V{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function N(a){return/^[\s\xa0]*$/.test(a)}function U(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var W=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function K(a,d,p){for(const m in a)d.call(p,a[m],m,a)}function A(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function _(a){const d={};for(const p in a)d[p]=a[p];return d}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let p,m;for(let k=1;k<arguments.length;k++){m=arguments[k];for(p in m)a[p]=m[p];for(let P=0;P<v.length;P++)p=v[P],Object.prototype.hasOwnProperty.call(m,p)&&(a[p]=m[p])}}function I(a){var d=1;a=a.split(":");const p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function T(a){l.setTimeout(()=>{throw a},0)}function b(){var a=Ke;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class pe{constructor(){this.h=this.g=null}add(d,p){const m=be.get();m.set(d,p),this.h?this.h.next=m:this.g=m,this.h=m}}var be=new V(()=>new we,a=>a.reset());class we{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Ee=!1,Ke=new pe,At=()=>{const a=l.Promise.resolve(void 0);he=()=>{a.then(at)}};var at=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(p){T(p)}var d=be;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ee=!1};function Le(){this.s=this.s,this.C=this.C}Le.prototype.s=!1,Le.prototype.ma=function(){this.s||(this.s=!0,this.N())},Le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Me(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var Jt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return a}();function M(a,d){if(Me.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(W){e:{try{O(d.nodeName);var k=!0;break e}catch{}k=!1}k||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Z[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&M.aa.h.call(this)}}S(M,Me);var Z={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),te=0;function Re(a,d,p,m,k){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!m,this.ha=k,this.key=++te,this.da=this.fa=!1}function De(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ve(a){this.src=a,this.g={},this.h=0}ve.prototype.add=function(a,d,p,m,k){var P=a.toString();a=this.g[P],a||(a=this.g[P]=[],this.h++);var Y=C(a,d,m,k);return-1<Y?(d=a[Y],p||(d.fa=!1)):(d=new Re(d,this.src,P,!!m,k),d.fa=p,a.push(d)),d};function E(a,d){var p=d.type;if(p in a.g){var m=a.g[p],k=Array.prototype.indexOf.call(m,d,void 0),P;(P=0<=k)&&Array.prototype.splice.call(m,k,1),P&&(De(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function C(a,d,p,m){for(var k=0;k<a.length;++k){var P=a[k];if(!P.da&&P.listener==d&&P.capture==!!p&&P.ha==m)return k}return-1}var D="closure_lm_"+(1e6*Math.random()|0),F={};function B(a,d,p,m,k){if(Array.isArray(d)){for(var P=0;P<d.length;P++)B(a,d[P],p,m,k);return null}return p=ce(p),a&&a[Q]?a.K(d,p,u(m)?!!m.capture:!1,k):H(a,d,p,!1,m,k)}function H(a,d,p,m,k,P){if(!d)throw Error("Invalid event type");var Y=u(k)?!!k.capture:!!k,Fe=J(a);if(Fe||(a[D]=Fe=new ve(a)),p=Fe.add(d,p,m,Y,P),p.proxy)return p;if(m=X(),p.proxy=m,m.src=a,m.listener=p,a.addEventListener)Jt||(k=Y),k===void 0&&(k=!1),a.addEventListener(d.toString(),m,k);else if(a.attachEvent)a.attachEvent(j(d.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return p}function X(){function a(p){return d.call(a.src,a.listener,p)}const d=ie;return a}function G(a,d,p,m,k){if(Array.isArray(d))for(var P=0;P<d.length;P++)G(a,d[P],p,m,k);else m=u(m)?!!m.capture:!!m,p=ce(p),a&&a[Q]?(a=a.i,d=String(d).toString(),d in a.g&&(P=a.g[d],p=C(P,p,m,k),-1<p&&(De(P[p]),Array.prototype.splice.call(P,p,1),P.length==0&&(delete a.g[d],a.h--)))):a&&(a=J(a))&&(d=a.g[d.toString()],a=-1,d&&(a=C(d,p,m,k)),(p=-1<a?d[a]:null)&&z(p))}function z(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Q])E(d.i,a);else{var p=a.type,m=a.proxy;d.removeEventListener?d.removeEventListener(p,m,a.capture):d.detachEvent?d.detachEvent(j(p),m):d.addListener&&d.removeListener&&d.removeListener(m),(p=J(d))?(E(p,a),p.h==0&&(p.src=null,d[D]=null)):De(a)}}}function j(a){return a in F?F[a]:F[a]="on"+a}function ie(a,d){if(a.da)a=!0;else{d=new M(d,this);var p=a.listener,m=a.ha||a.src;a.fa&&z(a),a=p.call(m,d)}return a}function J(a){return a=a[D],a instanceof ve?a:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(a){return typeof a=="function"?a:(a[ne]||(a[ne]=function(d){return a.handleEvent(d)}),a[ne])}function se(){Le.call(this),this.i=new ve(this),this.M=this,this.F=null}S(se,Le),se.prototype[Q]=!0,se.prototype.removeEventListener=function(a,d,p,m){G(this,a,d,p,m)};function de(a,d){var p,m=a.F;if(m)for(p=[];m;m=m.F)p.push(m);if(a=a.M,m=d.type||d,typeof d=="string")d=new Me(d,a);else if(d instanceof Me)d.target=d.target||a;else{var k=d;d=new Me(m,a),w(d,k)}if(k=!0,p)for(var P=p.length-1;0<=P;P--){var Y=d.g=p[P];k=Ae(Y,m,!0,d)&&k}if(Y=d.g=a,k=Ae(Y,m,!0,d)&&k,k=Ae(Y,m,!1,d)&&k,p)for(P=0;P<p.length;P++)Y=d.g=p[P],k=Ae(Y,m,!1,d)&&k}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],m=0;m<p.length;m++)De(p[m]);delete a.g[d],a.h--}}this.F=null},se.prototype.K=function(a,d,p,m){return this.i.add(String(a),d,!1,p,m)},se.prototype.L=function(a,d,p,m){return this.i.add(String(a),d,!0,p,m)};function Ae(a,d,p,m){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var k=!0,P=0;P<d.length;++P){var Y=d[P];if(Y&&!Y.da&&Y.capture==p){var Fe=Y.listener,ut=Y.ha||Y.src;Y.fa&&E(a.i,Y),k=Fe.call(ut,m)!==!1&&k}}return k&&!m.defaultPrevented}function mt(a,d,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function lt(a){a.g=mt(()=>{a.g=null,a.i&&(a.i=!1,lt(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Ut extends Le{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(a){Le.call(this),this.h=a,this.g={}}S(vt,Le);var Mn=[];function Yi(a){K(a.g,function(d,p){this.g.hasOwnProperty(p)&&z(d)},a),a.g={}}vt.prototype.N=function(){vt.aa.N.call(this),Yi(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=l.JSON.stringify,Ht=l.JSON.parse,Eo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Hl(){}Hl.prototype.h=null;function fd(a){return a.h||(a.h=a.i())}function pd(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ql(){Me.call(this,"d")}S(ql,Me);function zl(){Me.call(this,"c")}S(zl,Me);var yr={},gd=null;function To(){return gd=gd||new se}yr.La="serverreachability";function md(a){Me.call(this,yr.La,a)}S(md,Me);function Ji(a){const d=To();de(d,new md(d))}yr.STAT_EVENT="statevent";function vd(a,d){Me.call(this,yr.STAT_EVENT,a),this.stat=d}S(vd,Me);function Ct(a){const d=To();de(d,new vd(d,a))}yr.Ma="timingevent";function yd(a,d){Me.call(this,yr.Ma,a),this.size=d}S(yd,Me);function Zi(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function es(){this.g=!0}es.prototype.xa=function(){this.g=!1};function a0(a,d,p,m,k,P){a.info(function(){if(a.g)if(P)for(var Y="",Fe=P.split("&"),ut=0;ut<Fe.length;ut++){var Pe=Fe[ut].split("=");if(1<Pe.length){var yt=Pe[0];Pe=Pe[1];var _t=yt.split("_");Y=2<=_t.length&&_t[1]=="type"?Y+(yt+"="+Pe+"&"):Y+(yt+"=redacted&")}}else Y=null;else Y=P;return"XMLHTTP REQ ("+m+") [attempt "+k+"]: "+d+`
`+p+`
`+Y})}function l0(a,d,p,m,k,P,Y){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+k+"]: "+d+`
`+p+`
`+P+" "+Y})}function Zr(a,d,p,m){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+u0(a,p)+(m?" "+m:"")})}function c0(a,d){a.info(function(){return"TIMEOUT: "+d})}es.prototype.info=function(){};function u0(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var m=p[a];if(!(2>m.length)){var k=m[1];if(Array.isArray(k)&&!(1>k.length)){var P=k[0];if(P!="noop"&&P!="stop"&&P!="close")for(var Y=1;Y<k.length;Y++)k[Y]=""}}}}return ct(p)}catch{return d}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_d={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kl;function Ao(){}S(Ao,Hl),Ao.prototype.g=function(){return new XMLHttpRequest},Ao.prototype.i=function(){return{}},Kl=new Ao;function Nn(a,d,p,m){this.j=a,this.i=d,this.l=p,this.R=m||1,this.U=new vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wd}function wd(){this.i=null,this.g="",this.h=!1}var bd={},Wl={};function Gl(a,d,p){a.L=1,a.v=Ro(En(d)),a.m=p,a.P=!0,Ed(a,null)}function Ed(a,d){a.F=Date.now(),Co(a),a.A=En(a.v);var p=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Md(p.i,"t",m),a.C=0,p=a.j.J,a.h=new wd,a.g=ef(a.j,p?d:null,!a.m),0<a.O&&(a.M=new Ut(g(a.Y,a,a.g),a.O)),d=a.U,p=a.g,m=a.ca;var k="readystatechange";Array.isArray(k)||(k&&(Mn[0]=k.toString()),k=Mn);for(var P=0;P<k.length;P++){var Y=B(p,k[P],m||d.handleEvent,!1,d.h||d);if(!Y)break;d.g[Y.key]=Y}d=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Ji(),a0(a.i,a.u,a.A,a.l,a.R,a.m)}Nn.prototype.ca=function(a){a=a.target;const d=this.M;d&&Tn(a)==3?d.j():this.Y(a)},Nn.prototype.Y=function(a){try{if(a==this.g)e:{const _t=Tn(this.g);var d=this.g.Ba();const ni=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Hd(this.g)))){this.J||_t!=4||d==7||(d==8||0>=ni?Ji(3):Ji(2)),Ql(this);var p=this.g.Z();this.X=p;t:if(Td(this)){var m=Hd(this.g);a="";var k=m.length,P=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),ts(this);var Y="";break t}this.h.i=new l.TextDecoder}for(d=0;d<k;d++)this.h.h=!0,a+=this.h.i.decode(m[d],{stream:!(P&&d==k-1)});m.length=0,this.h.g+=a,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=p==200,l0(this.i,this.u,this.A,this.l,this.R,_t,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ut=this.g;if((Fe=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Fe)){var Pe=Fe;break t}}Pe=null}if(p=Pe)Zr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yl(this,p);else{this.o=!1,this.s=3,Ct(12),_r(this),ts(this);break e}}if(this.P){p=!0;let Zt;for(;!this.J&&this.C<Y.length;)if(Zt=h0(this,Y),Zt==Wl){_t==4&&(this.s=4,Ct(14),p=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==bd){this.s=4,Ct(15),Zr(this.i,this.l,Y,"[Invalid Chunk]"),p=!1;break}else Zr(this.i,this.l,Zt,null),Yl(this,Zt);if(Td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||Y.length!=0||this.h.h||(this.s=1,Ct(16),p=!1),this.o=this.o&&p,!p)Zr(this.i,this.l,Y,"[Invalid Chunked Response]"),_r(this),ts(this);else if(0<Y.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),nc(yt),yt.M=!0,Ct(11))}}else Zr(this.i,this.l,Y,null),Yl(this,Y);_t==4&&_r(this),this.o&&!this.J&&(_t==4?Yd(this.j,this):(this.o=!1,Co(this)))}else k0(this.g),p==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),_r(this),ts(this)}}}catch{}finally{}};function Td(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function h0(a,d){var p=a.C,m=d.indexOf(`
`,p);return m==-1?Wl:(p=Number(d.substring(p,m)),isNaN(p)?bd:(m+=1,m+p>d.length?Wl:(d=d.slice(m,m+p),a.C=m+p,d)))}Nn.prototype.cancel=function(){this.J=!0,_r(this)};function Co(a){a.S=Date.now()+a.I,Id(a,a.I)}function Id(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Zi(g(a.ba,a),d)}function Ql(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Nn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(c0(this.i,this.A),this.L!=2&&(Ji(),Ct(17)),_r(this),this.s=2,ts(this)):Id(this,this.S-a)};function ts(a){a.j.G==0||a.J||Yd(a.j,a)}function _r(a){Ql(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Yi(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Yl(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||Xl(p.h,a))){if(!a.K&&Xl(p.h,a)&&p.G==3){try{var m=p.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var k=m;if(k[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Lo(p),Oo(p);else break e;tc(p),Ct(18)}}else p.za=k[1],0<p.za-p.T&&37500>k[2]&&p.F&&p.v==0&&!p.C&&(p.C=Zi(g(p.Za,p),6e3));if(1>=Sd(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else br(p,11)}else if((a.K||p.g==a)&&Lo(p),!N(d))for(k=p.Da.g.parse(d),d=0;d<k.length;d++){let Pe=k[d];if(p.T=Pe[0],Pe=Pe[1],p.G==2)if(Pe[0]=="c"){p.K=Pe[1],p.ia=Pe[2];const yt=Pe[3];yt!=null&&(p.la=yt,p.j.info("VER="+p.la));const _t=Pe[4];_t!=null&&(p.Aa=_t,p.j.info("SVER="+p.Aa));const ni=Pe[5];ni!=null&&typeof ni=="number"&&0<ni&&(m=1.5*ni,p.L=m,p.j.info("backChannelRequestTimeoutMs_="+m)),m=p;const Zt=a.g;if(Zt){const No=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var P=m.h;P.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Jl(P,P.h),P.h=null))}if(m.D){const rc=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;rc&&(m.ya=rc,qe(m.I,m.D,rc))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),m=p;var Y=a;if(m.qa=Zd(m,m.J?m.ia:null,m.W),Y.K){kd(m.h,Y);var Fe=Y,ut=m.L;ut&&(Fe.I=ut),Fe.B&&(Ql(Fe),Co(Fe)),m.g=Y}else Gd(m);0<p.i.length&&Vo(p)}else Pe[0]!="stop"&&Pe[0]!="close"||br(p,7);else p.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?br(p,7):ec(p):Pe[0]!="noop"&&p.l&&p.l.ta(Pe),p.v=0)}}Ji(4)}catch{}}var d0=class{constructor(a,d){this.g=a,this.map=d}};function Ad(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cd(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Sd(a){return a.h?1:a.g?a.g.size:0}function Xl(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Jl(a,d){a.g?a.g.add(d):a.h=d}function kd(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Ad.prototype.cancel=function(){if(this.i=Rd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Rd(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.D);return d}return R(a.i)}function f0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],p=a.length,m=0;m<p;m++)d.push(a[m]);return d}d=[],p=0;for(m in a)d[p++]=a[m];return d}function p0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(const m in a)d[p++]=m;return d}}}function xd(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=p0(a),m=f0(a),k=m.length,P=0;P<k;P++)d.call(void 0,m[P],p&&p[P],a)}var Dd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g0(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var m=a[p].indexOf("="),k=null;if(0<=m){var P=a[p].substring(0,m);k=a[p].substring(m+1)}else P=a[p];d(P,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function wr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof wr){this.h=a.h,So(this,a.j),this.o=a.o,this.g=a.g,ko(this,a.s),this.l=a.l;var d=a.i,p=new is;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Pd(this,p),this.m=a.m}else a&&(d=String(a).match(Dd))?(this.h=!1,So(this,d[1]||"",!0),this.o=ns(d[2]||""),this.g=ns(d[3]||"",!0),ko(this,d[4]),this.l=ns(d[5]||"",!0),Pd(this,d[6]||"",!0),this.m=ns(d[7]||"")):(this.h=!1,this.i=new is(null,this.h))}wr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(rs(d,Od,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(rs(d,Od,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(rs(p,p.charAt(0)=="/"?y0:v0,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",rs(p,w0)),a.join("")};function En(a){return new wr(a)}function So(a,d,p){a.j=p?ns(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ko(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Pd(a,d,p){d instanceof is?(a.i=d,b0(a.i,a.h)):(p||(d=rs(d,_0)),a.i=new is(d,a.h))}function qe(a,d,p){a.i.set(d,p)}function Ro(a){return qe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ns(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function rs(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,m0),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function m0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Od=/[#\/\?@]/g,v0=/[#\?:]/g,y0=/[#\?]/g,_0=/[#\?@]/g,w0=/#/g;function is(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Fn(a){a.g||(a.g=new Map,a.h=0,a.i&&g0(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=is.prototype,t.add=function(a,d){Fn(this),this.i=null,a=ei(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function Vd(a,d){Fn(a),d=ei(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Ld(a,d){return Fn(a),d=ei(a,d),a.g.has(d)}t.forEach=function(a,d){Fn(this),this.g.forEach(function(p,m){p.forEach(function(k){a.call(d,k,m,this)},this)},this)},t.na=function(){Fn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let m=0;m<d.length;m++){const k=a[m];for(let P=0;P<k.length;P++)p.push(d[m])}return p},t.V=function(a){Fn(this);let d=[];if(typeof a=="string")Ld(this,a)&&(d=d.concat(this.g.get(ei(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},t.set=function(a,d){return Fn(this),this.i=null,a=ei(this,a),Ld(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Md(a,d,p){Vd(a,d),0<p.length&&(a.i=null,a.g.set(ei(a,d),R(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var m=d[p];const P=encodeURIComponent(String(m)),Y=this.V(m);for(m=0;m<Y.length;m++){var k=P;Y[m]!==""&&(k+="="+encodeURIComponent(String(Y[m]))),a.push(k)}}return this.i=a.join("&")};function ei(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function b0(a,d){d&&!a.j&&(Fn(a),a.i=null,a.g.forEach(function(p,m){var k=m.toLowerCase();m!=k&&(Vd(this,m),Md(this,k,p))},a)),a.j=d}function E0(a,d){const p=new es;if(l.Image){const m=new Image;m.onload=y($n,p,"TestLoadImage: loaded",!0,d,m),m.onerror=y($n,p,"TestLoadImage: error",!1,d,m),m.onabort=y($n,p,"TestLoadImage: abort",!1,d,m),m.ontimeout=y($n,p,"TestLoadImage: timeout",!1,d,m),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else d(!1)}function T0(a,d){const p=new es,m=new AbortController,k=setTimeout(()=>{m.abort(),$n(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:m.signal}).then(P=>{clearTimeout(k),P.ok?$n(p,"TestPingServer: ok",!0,d):$n(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(k),$n(p,"TestPingServer: error",!1,d)})}function $n(a,d,p,m,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),m(p)}catch{}}function I0(){this.g=new Eo}function A0(a,d,p){const m=p||"";try{xd(a,function(k,P){let Y=k;u(k)&&(Y=ct(k)),d.push(m+P+"="+encodeURIComponent(Y))})}catch(k){throw d.push(m+"type="+encodeURIComponent("_badmap")),k}}function xo(a){this.l=a.Ub||null,this.j=a.eb||!1}S(xo,Hl),xo.prototype.g=function(){return new Do(this.l,this.j)},xo.prototype.i=function(a){return function(){return a}}({});function Do(a,d){se.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Do,se),t=Do.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,os(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nd(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nd(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ss(this):os(this),this.readyState==3&&Nd(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ss(this))},t.Qa=function(a){this.g&&(this.response=a,ss(this))},t.ga=function(){this.g&&ss(this)};function ss(a){a.readyState=4,a.l=null,a.j=null,a.v=null,os(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function os(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Fd(a){let d="";return K(a,function(p,m){d+=m,d+=":",d+=p,d+=`\r
`}),d}function Zl(a,d,p){e:{for(m in p){var m=!1;break e}m=!0}m||(p=Fd(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):qe(a,d,p))}function Ge(a){se.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ge,se);var C0=/^https?$/i,S0=["POST","PUT"];t=Ge.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,p,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kl.g(),this.v=this.o?fd(this.o):fd(Kl),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(P){$d(this,P);return}if(a=p||"",p=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var k in m)p.set(k,m[k]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const P of m.keys())p.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),k=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(S0,d,void 0))||m||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,Y]of p)this.g.setRequestHeader(P,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ud(this),this.u=!0,this.g.send(a),this.u=!1}catch(P){$d(this,P)}};function $d(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Bd(a),Po(a)}function Bd(a){a.A||(a.A=!0,de(a,"complete"),de(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,de(this,"complete"),de(this,"abort"),Po(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Po(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jd(this):this.bb())},t.bb=function(){jd(this)};function jd(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Tn(a)!=4||a.Z()!=2)){if(a.u&&Tn(a)==4)mt(a.Ea,0,a);else if(de(a,"readystatechange"),Tn(a)==4){a.h=!1;try{const Y=a.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var m;if(m=Y===0){var k=String(a.D).match(Dd)[1]||null;!k&&l.self&&l.self.location&&(k=l.self.location.protocol.slice(0,-1)),m=!C0.test(k?k.toLowerCase():"")}p=m}if(p)de(a,"complete"),de(a,"success");else{a.m=6;try{var P=2<Tn(a)?a.g.statusText:""}catch{P=""}a.l=P+" ["+a.Z()+"]",Bd(a)}}finally{Po(a)}}}}function Po(a,d){if(a.g){Ud(a);const p=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||de(a,"ready");try{p.onreadystatechange=m}catch{}}}function Ud(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Tn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Ht(d)}};function Hd(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function k0(a){const d={};a=(a.g&&2<=Tn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(N(a[m]))continue;var p=I(a[m]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=d[k]||[];d[k]=P,P.push(p)}A(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function qd(a){this.Aa=0,this.i=[],this.j=new es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,a),this.cb=as("retryDelaySeedMs",1e4,a),this.Wa=as("forwardChannelMaxRetries",2,a),this.wa=as("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ad(a&&a.concurrentRequestLimit),this.Da=new I0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qd.prototype,t.la=8,t.G=1,t.connect=function(a,d,p,m){Ct(0),this.W=a,this.H=d||{},p&&m!==void 0&&(this.H.OSID=p,this.H.OAID=m),this.F=this.X,this.I=Zd(this,null,this.W),Vo(this)};function ec(a){if(zd(a),a.G==3){var d=a.U++,p=En(a.I);if(qe(p,"SID",a.K),qe(p,"RID",d),qe(p,"TYPE","terminate"),ls(a,p),d=new Nn(a,a.j,d),d.L=2,d.v=Ro(En(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=ef(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Co(d)}Jd(a)}function Oo(a){a.g&&(nc(a),a.g.cancel(),a.g=null)}function zd(a){Oo(a),a.u&&(l.clearTimeout(a.u),a.u=null),Lo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Vo(a){if(!Cd(a.h)&&!a.s){a.s=!0;var d=a.Ga;he||At(),Ee||(he(),Ee=!0),Ke.add(d,a),a.B=0}}function R0(a,d){return Sd(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Zi(g(a.Ga,a,d),Xd(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const k=new Nn(this,this.j,a);let P=this.o;if(this.S&&(P?(P=_(P),w(P,this.S)):P=this.S),this.m!==null||this.O||(k.H=P,P=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var m=this.i[p];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Wd(this,k,d),p=En(this.I),qe(p,"RID",a),qe(p,"CVER",22),this.D&&qe(p,"X-HTTP-Session-Id",this.D),ls(this,p),P&&(this.O?d="headers="+encodeURIComponent(String(Fd(P)))+"&"+d:this.m&&Zl(p,this.m,P)),Jl(this.h,k),this.Ua&&qe(p,"TYPE","init"),this.P?(qe(p,"$req",d),qe(p,"SID","null"),k.T=!0,Gl(k,p,null)):Gl(k,p,d),this.G=2}}else this.G==3&&(a?Kd(this,a):this.i.length==0||Cd(this.h)||Kd(this))};function Kd(a,d){var p;d?p=d.l:p=a.U++;const m=En(a.I);qe(m,"SID",a.K),qe(m,"RID",p),qe(m,"AID",a.T),ls(a,m),a.m&&a.o&&Zl(m,a.m,a.o),p=new Nn(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Wd(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Jl(a.h,p),Gl(p,m,d)}function ls(a,d){a.H&&K(a.H,function(p,m){qe(d,m,p)}),a.l&&xd({},function(p,m){qe(d,m,p)})}function Wd(a,d,p){p=Math.min(a.i.length,p);var m=a.l?g(a.l.Na,a.l,a):null;e:{var k=a.i;let P=-1;for(;;){const Y=["count="+p];P==-1?0<p?(P=k[0].g,Y.push("ofs="+P)):P=0:Y.push("ofs="+P);let Fe=!0;for(let ut=0;ut<p;ut++){let Pe=k[ut].g;const yt=k[ut].map;if(Pe-=P,0>Pe)P=Math.max(0,k[ut].g-100),Fe=!1;else try{A0(yt,Y,"req"+Pe+"_")}catch{m&&m(yt)}}if(Fe){m=Y.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,m}function Gd(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;he||At(),Ee||(he(),Ee=!0),Ke.add(d,a),a.v=0}}function tc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Zi(g(a.Fa,a),Xd(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Qd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Zi(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Oo(this),Qd(this))};function nc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Qd(a){a.g=new Nn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=En(a.qa);qe(d,"RID","rpc"),qe(d,"SID",a.K),qe(d,"AID",a.T),qe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&qe(d,"TO",a.ja),qe(d,"TYPE","xmlhttp"),ls(a,d),a.m&&a.o&&Zl(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Ro(En(d)),p.m=null,p.P=!0,Ed(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Oo(this),tc(this),Ct(19))};function Lo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Yd(a,d){var p=null;if(a.g==d){Lo(a),nc(a),a.g=null;var m=2}else if(Xl(a.h,d))p=d.D,kd(a.h,d),m=1;else return;if(a.G!=0){if(d.o)if(m==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var k=a.B;m=To(),de(m,new yd(m,p)),Vo(a)}else Gd(a);else if(k=d.s,k==3||k==0&&0<d.X||!(m==1&&R0(a,d)||m==2&&tc(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),k){case 1:br(a,5);break;case 4:br(a,10);break;case 3:br(a,6);break;default:br(a,2)}}}function Xd(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function br(a,d){if(a.j.info("Error code "+d),d==2){var p=g(a.fb,a),m=a.Xa;const k=!m;m=new wr(m||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||So(m,"https"),Ro(m),k?E0(m.toString(),p):T0(m.toString(),p)}else Ct(2);a.G=0,a.l&&a.l.sa(d),Jd(a),zd(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Jd(a){if(a.G=0,a.ka=[],a.l){const d=Rd(a.h);(d.length!=0||a.i.length!=0)&&(x(a.ka,d),x(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function Zd(a,d,p){var m=p instanceof wr?En(p):new wr(p);if(m.g!="")d&&(m.g=d+"."+m.g),ko(m,m.s);else{var k=l.location;m=k.protocol,d=d?d+"."+k.hostname:k.hostname,k=+k.port;var P=new wr(null);m&&So(P,m),d&&(P.g=d),k&&ko(P,k),p&&(P.l=p),m=P}return p=a.D,d=a.ya,p&&d&&qe(m,p,d),qe(m,"VER",a.la),ls(a,m),m}function ef(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ge(new xo({eb:p})):new Ge(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tf(){}t=tf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mo(){}Mo.prototype.g=function(a,d){return new Lt(a,d)};function Lt(a,d){se.call(this),this.g=new qd(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!N(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!N(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ti(this)}S(Lt,se),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){ec(this.g)},Lt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=ct(a),a=p);d.i.push(new d0(d.Ya++,a)),d.G==3&&Vo(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,ec(this.g),delete this.g,Lt.aa.N.call(this)};function nf(a){ql.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(nf,ql);function rf(){zl.call(this),this.status=1}S(rf,zl);function ti(a){this.g=a}S(ti,tf),ti.prototype.ua=function(){de(this.g,"a")},ti.prototype.ta=function(a){de(this.g,new nf(a))},ti.prototype.sa=function(a){de(this.g,new rf)},ti.prototype.ra=function(){de(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,wy=function(){return new Mo},_y=function(){return To()},yy=yr,uu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,aa=Io,_d.COMPLETE="complete",vy=_d,pd.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",se.prototype.listen=se.prototype.K,ms=pd,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,my=Ge}).apply(typeof Go<"u"?Go:typeof self<"u"?self:typeof window<"u"?window:{});const Pp="@firebase/firestore",Op="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zi="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new cy("@firebase/firestore");function li(){return jr.logLevel}function ee(t,...e){if(jr.logLevel<=ke.DEBUG){const n=e.map(Lh);jr.debug(`Firestore (${zi}): ${t}`,...n)}}function On(t,...e){if(jr.logLevel<=ke.ERROR){const n=e.map(Lh);jr.error(`Firestore (${zi}): ${t}`,...n)}}function Oi(t,...e){if(jr.logLevel<=ke.WARN){const n=e.map(Lh);jr.warn(`Firestore (${zi}): ${t}`,...n)}}function Lh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,by(t,r,n)}function by(t,e,n){let r=`FIRESTORE (${zi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw On(r),new Error(r)}function Ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||by(e,i,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class jC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UC{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new Ey(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new bt(e)}}class HC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new HC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,AC(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=KC(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function hu(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Te(r,i);{const s=Ty(),o=WC(s.encode(Lp(t,n)),s.encode(Lp(e,n)));return o!==0?o:Te(r,i)}}n+=r>65535?2:1}return Te(t.length,e.length)}function Lp(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function WC(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Te(t[n],e[n]);return Te(t.length,e.length)}function Vi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-62135596800,Np=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Np);return new et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mp)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Np}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Mp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new et(0,0))}static max(){return new fe(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="__name__";class hn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=hn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Te(e.length,n.length)}static compareSegments(e,n){const r=hn.isNumericId(e),i=hn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?hn.extractNumericId(e).compare(hn.extractNumericId(n)):hu(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ir.fromString(e.substring(4,e.length-2))}}class ze extends hn{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const GC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends hn{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return GC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fp}static keyField(){return new ft([Fp])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new oe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new oe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new oe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(ze.fromString(e))}static fromName(e){return new le(ze.fromString(e).popFirst(5))}static empty(){return new le(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function QC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new cr(i,le.empty(),e)}function YC(t){return new cr(t.readTime,t.key,eo)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(fe.min(),le.empty(),eo)}static max(){return new cr(fe.max(),le.empty(),eo)}}function XC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ki(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==JC)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++l,l===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function eS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Cl.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function Sl(t){return t==null}function Xa(t){return t===0&&1/t==-1/0}function tS(t){return typeof t=="number"&&Number.isInteger(t)&&!Xa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="";function nS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$p(e)),e=rS(t.get(n),e);return $p(e)}function rS(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Ay:n+="";break;default:n+=s}}return n}function $p(t){return t+Ay+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Cy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qo(this.root,e,this.comparator,!0)}}class Qo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jp(this.data.getIterator())}getIteratorFrom(e){return new jp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class jp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new en([])}unionWith(e){let n=new nt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Sy("Invalid base64 string: "+s):s}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const iS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=iS.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hr(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="server_timestamp",Ry="__type__",xy="__previous_value__",Dy="__local_write_time__";function Nh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ry])===null||n===void 0?void 0:n.stringValue)===ky}function kl(t){const e=t.mapValue.fields[xy];return Nh(e)?kl(e):e}function to(t){const e=ur(t.mapValue.fields[Dy].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}const Ja="(default)";class no{constructor(e,n){this.projectId=e,this.database=n||Ja}static empty(){return new no("","")}get isDefaultDatabase(){return this.database===Ja}isEqual(e){return e instanceof no&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="__type__",oS="__max__",Yo={mapValue:{}},Oy="__vector__",Za="value";function dr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nh(t)?4:lS(t)?9007199254740991:aS(t)?10:11:ue(28295,{value:t})}function wn(t,e){if(t===e)return!0;const n=dr(t);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return to(t).isEqual(to(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ur(i.timestampValue),l=ur(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return hr(i.bytesValue).isEqual(hr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Je(i.geoPointValue.latitude)===Je(s.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Je(i.integerValue)===Je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Je(i.doubleValue),l=Je(s.doubleValue);return o===l?Xa(o)===Xa(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Vi(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Bp(o)!==Bp(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!wn(o[c],l[c])))return!1;return!0}(t,e);default:return ue(52216,{left:t})}}function ro(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function Li(t,e){if(t===e)return 0;const n=dr(t),r=dr(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Je(s.integerValue||s.doubleValue),c=Je(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Up(t.timestampValue,e.timestampValue);case 4:return Up(to(t),to(e));case 5:return hu(t.stringValue,e.stringValue);case 6:return function(s,o){const l=hr(s),c=hr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=Te(l[u],c[u]);if(h!==0)return h}return Te(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Te(Je(s.latitude),Je(o.latitude));return l!==0?l:Te(Je(s.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hp(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,h;const f=s.fields||{},g=o.fields||{},y=(l=f[Za])===null||l===void 0?void 0:l.arrayValue,S=(c=g[Za])===null||c===void 0?void 0:c.arrayValue,R=Te(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:Hp(y,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Yo.mapValue&&o===Yo.mapValue)return 0;if(s===Yo.mapValue)return 1;if(o===Yo.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const g=hu(c[f],h[f]);if(g!==0)return g;const y=Li(l[c[f]],u[h[f]]);if(y!==0)return y}return Te(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ue(23264,{Pe:n})}}function Up(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=ur(t),r=ur(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Hp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Li(n[i],r[i]);if(s)return s}return Te(n.length,r.length)}function Mi(t){return du(t)}function du(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=du(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${du(n.fields[o])}`;return i+"}"}(t.mapValue):ue(61005,{value:t})}function la(t){switch(dr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kl(t);return e?16+la(e):16;case 5:return 2*t.stringValue.length;case 6:return hr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+la(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Qr(r.fields,(s,o)=>{i+=s.length+la(o)}),i}(t.mapValue);default:throw ue(13486,{value:t})}}function fu(t){return!!t&&"integerValue"in t}function Fh(t){return!!t&&"arrayValue"in t}function qp(t){return!!t&&"nullValue"in t}function zp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ca(t){return!!t&&"mapValue"in t}function aS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Py])===null||n===void 0?void 0:n.stringValue)===Oy}function Rs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ca(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rs(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Rs(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ca(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ca(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(Rs(this.value))}}function Vy(t){const e=[];return Qr(t.fields,(n,r)=>{const i=new ft([n]);if(ca(r)){const s=Vy(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new It(e,0,fe.min(),fe.min(),fe.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new It(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new It(e,2,n,fe.min(),fe.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,fe.min(),fe.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.position=e,this.inclusive=n}}function Kp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Li(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function cS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{}class tt extends Ly{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hS(e,n,r):n==="array-contains"?new pS(e,r):n==="in"?new gS(e,r):n==="not-in"?new mS(e,r):n==="array-contains-any"?new vS(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dS(e,r):new fS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Li(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(Li(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends Ly{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new bn(e,n)}matches(e){return My(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function My(t){return t.op==="and"}function Ny(t){return uS(t)&&My(t)}function uS(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function pu(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+Mi(t.value);if(Ny(t))return t.filters.map(e=>pu(e)).join(",");{const e=t.filters.map(n=>pu(n)).join(",");return`${t.op}(${e})`}}function Fy(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(t,e):t instanceof bn?function(r,i){return i instanceof bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Fy(o,i.filters[l]),!0):!1}(t,e):void ue(19439)}function $y(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Mi(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map($y).join(" ,")+"}"}(t):"Filter"}class hS extends tt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class dS extends tt{constructor(e,n){super(e,"in",n),this.keys=By("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fS extends tt{constructor(e,n){super(e,"not-in",n),this.keys=By("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function By(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class pS extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fh(n)&&ro(n.arrayValue,this.value)}}class gS extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ro(this.value.arrayValue,n)}}class mS extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ro(this.value.arrayValue,n)}}class vS extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ro(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Ie=null}}function Gp(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yS(t,e,n,r,i,s,o)}function $h(t){const e=me(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pu(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mi(r)).join(",")),e.Ie=n}return e.Ie}function Bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wp(t.startAt,e.startAt)&&Wp(t.endAt,e.endAt)}function gu(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function _S(t,e,n,r,i,s,o,l){return new Rl(t,e,n,r,i,s,o,l)}function jy(t){return new Rl(t)}function Qp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wS(t){return t.collectionGroup!==null}function xs(t){const e=me(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new nt(ft.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new tl(s,r))}),n.has(ft.keyField().canonicalString())||e.Ee.push(new tl(ft.keyField(),r))}return e.Ee}function vn(t){const e=me(t);return e.de||(e.de=bS(e,xs(t))),e.de}function bS(t,e){if(t.limitType==="F")return Gp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new tl(i.field,s)});const n=t.endAt?new el(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new el(t.startAt.position,t.startAt.inclusive):null;return Gp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mu(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xl(t,e){return Bh(vn(t),vn(e))&&t.limitType===e.limitType}function Uy(t){return`${$h(vn(t))}|lt:${t.limitType}`}function ci(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$y(i)).join(", ")}]`),Sl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mi(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function Dl(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of xs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=Kp(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,xs(r),i)||r.endAt&&!function(o,l,c){const u=Kp(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,xs(r),i))}(t,e)}function ES(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hy(t){return(e,n)=>{let r=!1;for(const i of xs(t)){const s=TS(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function TS(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Li(c,u):ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Cy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new We(le.comparator);function Vn(){return IS}const qy=new We(le.comparator);function vs(...t){let e=qy;for(const n of t)e=e.insert(n.key,n);return e}function zy(t){let e=qy;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Or(){return Ds()}function Ky(){return Ds()}function Ds(){return new Yr(t=>t.toString(),(t,e)=>t.isEqual(e))}const AS=new We(le.comparator),CS=new nt(le.comparator);function Ce(...t){let e=CS;for(const n of t)e=e.add(n);return e}const SS=new nt(Te);function kS(){return SS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xa(e)?"-0":e}}function Wy(t){return{integerValue:""+t}}function RS(t,e){return tS(e)?Wy(e):jh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this._=void 0}}function xS(t,e,n){return t instanceof nl?function(i,s){const o={fields:{[Ry]:{stringValue:ky},[Dy]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Nh(s)&&(s=kl(s)),s&&(o.fields[xy]=s),{mapValue:o}}(n,e):t instanceof io?Qy(t,e):t instanceof so?Yy(t,e):function(i,s){const o=Gy(i,s),l=Yp(o)+Yp(i.Re);return fu(o)&&fu(i.Re)?Wy(l):jh(i.serializer,l)}(t,e)}function DS(t,e,n){return t instanceof io?Qy(t,e):t instanceof so?Yy(t,e):n}function Gy(t,e){return t instanceof rl?function(r){return fu(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class nl extends Pl{}class io extends Pl{constructor(e){super(),this.elements=e}}function Qy(t,e){const n=Xy(e);for(const r of t.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}class so extends Pl{constructor(e){super(),this.elements=e}}function Yy(t,e){let n=Xy(e);for(const r of t.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}class rl extends Pl{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Yp(t){return Je(t.integerValue||t.doubleValue)}function Xy(t){return Fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function PS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof io&&i instanceof io||r instanceof so&&i instanceof so?Vi(r.elements,i.elements,wn):r instanceof rl&&i instanceof rl?wn(r.Re,i.Re):r instanceof nl&&i instanceof nl}(t.transform,e.transform)}class OS{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ua(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ol{}function Jy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new e_(t.key,kn.none()):new vo(t.key,t.data,kn.none());{const n=t.data,r=Kt.empty();let i=new nt(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xr(t.key,r,new en(i.toArray()),kn.none())}}function VS(t,e,n){t instanceof vo?function(i,s,o){const l=i.value.clone(),c=Jp(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(i,s,o){if(!ua(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Jp(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Zy(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ps(t,e,n,r){return t instanceof vo?function(s,o,l,c){if(!ua(s.precondition,o))return l;const u=s.value.clone(),h=Zp(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(s,o,l,c){if(!ua(s.precondition,o))return l;const u=Zp(s.fieldTransforms,c,o),h=o.data;return h.setAll(Zy(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return ua(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function LS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Gy(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function Xp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vi(r,i,(s,o)=>PS(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vo extends Ol{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xr extends Ol{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Zy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Jp(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,DS(o,l,n[i]))}return r}function Zp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,xS(s,o,e))}return r}class e_ extends Ol{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MS extends Ol{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ky();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=Jy(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Vi(this.mutations,e.mutations,(n,r)=>Xp(n,r))&&Vi(this.baseMutations,e.baseMutations,(n,r)=>Xp(n,r))}}class Uh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return AS}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Uh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,Se;function BS(t){switch(t){case q.OK:return ue(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ue(15467,{code:t})}}function t_(t){if(t===void 0)return On("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ze.OK:return q.OK;case Ze.CANCELLED:return q.CANCELLED;case Ze.UNKNOWN:return q.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return q.INTERNAL;case Ze.UNAVAILABLE:return q.UNAVAILABLE;case Ze.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ze.NOT_FOUND:return q.NOT_FOUND;case Ze.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ze.ABORTED:return q.ABORTED;case Ze.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ze.DATA_LOSS:return q.DATA_LOSS;default:return ue(39323,{code:t})}}(Se=Ze||(Ze={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new ir([4294967295,4294967295],0);function eg(t){const e=Ty().encode(t),n=new gy;return n.update(e),new Uint8Array(n.digest())}function tg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ir([n,r],0),new ir([i,s],0)]}class Hh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ys(`Invalid padding: ${n}`);if(r<0)throw new ys(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ys(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ys(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ir.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ir.fromNumber(r)));return i.compare(jS)===1&&(i=new ir([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=eg(e),[r,i]=tg(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Hh(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=eg(e),[r,i]=tg(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ys extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vl(fe.min(),i,new We(Te),Vn(),Ce())}}class yo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yo(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class n_{constructor(e,n){this.targetId=e,this.Ce=n}}class r_{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ng{constructor(){this.Fe=0,this.Me=rg(),this.xe=gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ce(),n=Ce(),r=Ce();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue(38017,{changeType:s})}}),new yo(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=rg()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class US{constructor(e){this.ze=e,this.je=new Map,this.He=Vn(),this.Je=Xo(),this.Ye=Xo(),this.Ze=new We(Te)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(gu(s))if(r===0){const o=new le(s.path);this.tt(n,o,It.newNoDocument(o,fe.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=hr(r).toUint8Array()}catch(c){if(c instanceof Sy)return Oi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Hh(o,i,s)}catch(c){return Oi(c instanceof ys?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const l=this._t(o);if(l){if(s.current&&gu(l.target)){const c=new le(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,It.newNoDocument(c,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Ce();this.Ye.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Vl(e,n,this.Ze,this.He,r);return this.He=Vn(),this.Je=Xo(),this.Ye=Xo(),this.Ze=new We(Te),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new ng,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new nt(Te),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new nt(Te),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ng),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Xo(){return new We(le.comparator)}function rg(){return new We(le.comparator)}const HS={asc:"ASCENDING",desc:"DESCENDING"},qS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zS={and:"AND",or:"OR"};class KS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vu(t,e){return t.useProto3Json||Sl(e)?e:{value:e}}function il(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WS(t,e){return il(t,e.toTimestamp())}function yn(t){return Ve(!!t,49232),fe.fromTimestamp(function(n){const r=ur(n);return new et(r.seconds,r.nanos)}(t))}function qh(t,e){return yu(t,e).canonicalString()}function yu(t,e){const n=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function s_(t){const e=ze.fromString(t);return Ve(u_(e),10190,{key:e.toString()}),e}function _u(t,e){return qh(t.databaseId,e.path)}function Rc(t,e){const n=s_(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(a_(n))}function o_(t,e){return qh(t.databaseId,e)}function GS(t){const e=s_(t);return e.length===4?ze.emptyPath():a_(e)}function wu(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a_(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ig(t,e,n){return{name:_u(t,e),fields:n.value.mapValue.fields}}function QS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?q.UNKNOWN:t_(u.code);return new oe(h,u.message||"")}(o);n=new r_(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rc(t,r.document.name),s=yn(r.document.updateTime),o=r.document.createTime?yn(r.document.createTime):fe.min(),l=new Kt({mapValue:{fields:r.document.fields}}),c=It.newFoundDocument(i,s,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new ha(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rc(t,r.document),s=r.readTime?yn(r.readTime):fe.min(),o=It.newNoDocument(i,s),l=r.removedTargetIds||[];n=new ha([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rc(t,r.document),s=r.removedTargetIds||[];n=new ha([],s,i,null)}else{if(!("filter"in e))return ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new $S(i,s),l=r.targetId;n=new n_(l,o)}}return n}function YS(t,e){let n;if(e instanceof vo)n={update:ig(t,e.key,e.value)};else if(e instanceof e_)n={delete:_u(t,e.key)};else if(e instanceof Xr)n={update:ig(t,e.key,e.data),updateMask:s1(e.fieldMask)};else{if(!(e instanceof MS))return ue(16599,{ft:e.type});n={verify:_u(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof nl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof io)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof so)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof rl)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw ue(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:WS(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue(27497)}(t,e.precondition)),n}function XS(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?yn(i.updateTime):yn(s);return o.isEqual(fe.min())&&(o=yn(s)),new OS(o,i.transformResults||[])}(n,e))):[]}function JS(t,e){return{documents:[o_(t,e.path)]}}function ZS(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=o_(t,i);const s=function(u){if(u.length!==0)return c_(bn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:ui(g.field),direction:n1(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=vu(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function e1(t){let e=GS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const g=l_(f);return g instanceof bn&&Ny(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(S){return new tl(hi(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(f){let g;return g=typeof f=="object"?f.value:f,Sl(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){const g=!!f.before,y=f.values||[];return new el(y,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,y=f.values||[];return new el(y,g)}(n.endAt)),_S(e,i,o,s,l,"F",c,u)}function t1(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function l_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hi(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hi(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hi(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hi(n.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return tt.create(hi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(r=>l_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(n.compositeFilter.op))}(t):ue(30097,{filter:t})}function n1(t){return HS[t]}function r1(t){return qS[t]}function i1(t){return zS[t]}function ui(t){return{fieldPath:t.canonicalString()}}function hi(t){return ft.fromServerFormat(t.fieldPath)}function c_(t){return t instanceof tt?function(n){if(n.op==="=="){if(zp(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NAN"}};if(qp(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zp(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NOT_NAN"}};if(qp(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ui(n.field),op:r1(n.op),value:n.value}}}(t):t instanceof bn?function(n){const r=n.getFilters().map(i=>c_(i));return r.length===1?r[0]:{compositeFilter:{op:i1(n.op),filters:r}}}(t):ue(54877,{filter:t})}function s1(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function u_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,i,s=fe.min(),o=fe.min(),l=gt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.wt=e}}function a1(t){const e=e1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.yn=new c1}addToCollectionParentIndex(e,n){return this.yn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(cr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class c1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h_=41943040;class Dt{static withCacheSize(e){return new Dt(e,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt.DEFAULT_COLLECTION_PERCENTILE=10,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dt.DEFAULT=new Dt(h_,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dt.DISABLED=new Dt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ni(0)}static ir(){return new Ni(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LruGarbageCollector",u1=1048576;function ag([t,e],[n,r]){const i=Te(t,n);return i===0?Te(e,r):i}class h1{constructor(e){this.cr=e,this.buffer=new nt(ag),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ag(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d1{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ee(og,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wi(n)?ee(og,"Ignoring IndexedDB error during garbage collection: ",n):await Ki(n)}await this.Ir(3e5)})}}class f1{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Cl.le);const r=new h1(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(sg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sg):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,o,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),li()<=ke.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function p1(t,e){return new f1(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.changes=new Yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ps(r.mutation,i,en.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vs();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Vn();const o=Ds(),l=function(){return Ds()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Xr)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Ps(h.mutation,u,h.mutation.getFieldMask(),et.now())):o.set(u.key,en.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return l.set(u,new m1(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ds();let i=new We((o,l)=>o-l),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||en.empty();h=l.applyToLocalView(u,h),r.set(c,h);const f=(i.get(l.batchId)||Ce()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=Ky();h.forEach(g=>{if(!s.has(g)){const y=Jy(n.get(g),r.get(g));y!==null&&f.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Or());let l=eo,c=s;return o.next(u=>$.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ce())).next(h=>({batchId:l,changes:zy(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=vs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=vs();return this.indexManager.getCollectionParents(e,s).next(l=>$.forEach(l,c=>{const u=function(f,g){return new Rl(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,It.newInvalidDocument(h)))});let l=vs();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&Ps(h.mutation,u,en.empty(),et.now()),Dl(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return $.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yn(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:a1(i.bundledQuery),readTime:yn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.overlays=new We(le.comparator),this.Or=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Or();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Or(),s=n.length+1,o=new le(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Or(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Or(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=i)););return $.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FS(n,r));let s=this.Or.get(n);s===void 0&&(s=Ce(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.Nr=new nt(st.Br),this.Lr=new nt(st.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new st(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new st(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new le(new ze([])),r=new st(n,e),i=new st(n,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new le(new ze([])),r=new st(n,e),i=new st(n,e+1);let s=Ce();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new st(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return le.comparator(e.key,n.key)||Te(e.Gr,n.Gr)}static kr(e,n){return Te(e.Gr,n.Gr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new nt(st.Br)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new NS(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.zr=this.zr.add(new st(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Mh:this.Jn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const l=this.jr(o.Gr);s.push(l)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(Te);return n.forEach(i=>{const s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],l=>{r=r.add(l.Gr)})}),$.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new st(new le(s),0);let l=new nt(Te);return this.zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Gr)),!0)},o),$.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return $.forEach(n.mutations,i=>{const s=new st(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new st(n,0),i=this.zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.Zr=e,this.docs=function(){return new We(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vn();const o=n.path,l=new le(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||XC(YC(h),r)<=0||(i.has(h.key)||Dl(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue(9500)}Xr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T1(this)}getSize(e){return $.resolve(this.size)}}class T1 extends g1{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.persistence=e,this.ei=new Yr(n=>$h(n),Bh),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.ti=0,this.ni=new zh,this.targetCount=0,this.ri=Ni.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),$.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Ni(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.ar(n),$.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n){this.ii={},this.overlays={},this.si=new Cl(0),this.oi=!1,this.oi=!0,this._i=new w1,this.referenceDelegate=e(this),this.ai=new I1(this),this.indexManager=new l1,this.remoteDocumentCache=function(i){return new E1(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new o1(n),this.ci=new y1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new b1(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new A1(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return $.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class A1 extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class Kh{constructor(e){this.persistence=e,this.Ti=new zh,this.Ii=null}static Ei(e){return new Kh(e)}get di(){if(this.Ii)return this.Ii;throw ue(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,r=>{const i=le.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return $.or([()=>$.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class sl{constructor(e,n){this.persistence=e,this.Ri=new Yr(r=>nS(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=p1(this,n)}static Ei(e,n){return new sl(e,n)}li(){}hi(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return $.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,fe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),$.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=la(e.data.value)),n}gr(e,n,r){return $.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Wh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return EA()?8:eS(wA())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new C1;return this.fs(e,n,o).next(l=>{if(s.result=l,this.Is)return this.gs(e,n,o,l.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(li()<=ke.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",ci(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),$.resolve()):(li()<=ke.DEBUG&&ee("QueryEngine","Query:",ci(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(li()<=ke.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",ci(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):$.resolve())}Rs(e,n){if(Qp(n))return $.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mu(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ce(...s);return this.As.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ps(n,l);return this.ys(n,u,o,c.readTime)?this.Rs(e,mu(n,null,"F")):this.ws(e,u,n,c)}))})))}Vs(e,n,r,i){return Qp(n)||i.isEqual(fe.min())?$.resolve(null):this.As.getDocuments(e,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?$.resolve(null):(li()<=ke.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ci(n)),this.ws(e,o,n,QC(i,eo)).next(l=>l))})}ps(e,n){let r=new nt(Hy(e));return n.forEach((i,s)=>{Dl(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return li()<=ke.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",ci(n)),this.As.getDocumentsMatchingQuery(e,n,cr.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="LocalStore",k1=3e8;class R1{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new We(Te),this.Ds=new Yr(s=>$h(s),Bh),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v1(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function x1(t,e,n,r){return new R1(t,e,n,r)}async function f_(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Ce();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:l}))})})}function D1(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,g=f.keys();let y=$.resolve();return g.forEach(S=>{y=y.next(()=>h.getEntry(c,S)).next(R=>{const x=u.docVersions.get(S);Ve(x!==null,48541),R.version.compareTo(x)<0&&(f.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),h.addEntry(R)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ce();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function p_(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function P1(t,e){const n=me(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const l=[];e.targetChanges.forEach((h,f)=>{const g=i.get(f);if(!g)return;l.push(n.ai.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.ai.addMatchingKeys(s,h.addedDocuments,f)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(gt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),function(R,x,V){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=k1?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,h)&&l.push(n.ai.updateTargetData(s,y))});let c=Vn(),u=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(O1(s,o,e.documentUpdates).next(h=>{c=h.xs,u=h.Os})),!r.isEqual(fe.min())){const h=n.ai.getLastRemoteSnapshotVersion(s).next(f=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(h)}return $.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ss=i,s))}function O1(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vn();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ee(Gh,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{xs:o,Os:i}})}function V1(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L1(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new Zn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function bu(t,e,n){const r=me(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wi(o))throw o;ee(Gh,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function lg(t,e,n){const r=me(t);let i=fe.min(),s=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=me(c),g=f.Ds.get(h);return g!==void 0?$.resolve(f.Ss.get(g)):f.ai.getTargetData(u,h)}(r,o,vn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?s:Ce())).next(l=>(M1(r,ES(e),l),{documents:l,Ns:s})))}function M1(t,e,n){let r=t.vs.get(e)||fe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class cg{constructor(){this.activeTargetIds=kS()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N1{constructor(){this.So=new cg,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new cg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="ConnectivityMonitor";class hg{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ee(ug,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ee(ug,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo=null;function Eu(){return Jo===null?Jo=function(){return 268435456+Math.round(2147483648*Math.random())}():Jo++,"0x"+Jo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="RestConnection",$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B1{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Ja?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const o=Eu(),l=this.$o(e,n.toUriEncodedString());ee(xc,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,i,s),this.Ko(e,l,c,r).then(u=>(ee(xc,`Received RPC '${e}' ${o}: `,u),u),u=>{throw Oi(xc,`RPC '${e}' ${o} failed with error: `,u,"url: ",l,"request:",r),u})}Wo(e,n,r,i,s,o){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=$1[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class U1 extends B1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const s=Eu();return new Promise((o,l)=>{const c=new my;c.setWithCredentials(!0),c.listenOnce(vy.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case aa.NO_ERROR:const h=c.getResponseJson();ee(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case aa.TIMEOUT:ee(wt,`RPC '${e}' ${s} timed out`),l(new oe(q.DEADLINE_EXCEEDED,"Request time out"));break;case aa.HTTP_ERROR:const f=c.getStatus();if(ee(wt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const S=function(x){const V=x.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(V)>=0?V:q.UNKNOWN}(y.status);l(new oe(S,y.message))}else l(new oe(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new oe(q.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{s_:e,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{ee(wt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(wt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}a_(e,n,r){const i=Eu(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wy(),l=_y(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");ee(wt,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=o.createWebChannel(h,c);let g=!1,y=!1;const S=new j1({Go:x=>{y?ee(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(ee(wt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),ee(wt,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},zo:()=>f.close()}),R=(x,V,N)=>{x.listen(V,U=>{try{N(U)}catch(O){setTimeout(()=>{throw O},0)}})};return R(f,ms.EventType.OPEN,()=>{y||(ee(wt,`RPC '${e}' stream ${i} transport opened.`),S.t_())}),R(f,ms.EventType.CLOSE,()=>{y||(y=!0,ee(wt,`RPC '${e}' stream ${i} transport closed`),S.r_())}),R(f,ms.EventType.ERROR,x=>{y||(y=!0,Oi(wt,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),S.r_(new oe(q.UNAVAILABLE,"The operation could not be completed")))}),R(f,ms.EventType.MESSAGE,x=>{var V;if(!y){const N=x.data[0];Ve(!!N,16349);const U=N,O=(U==null?void 0:U.error)||((V=U[0])===null||V===void 0?void 0:V.error);if(O){ee(wt,`RPC '${e}' stream ${i} received error:`,O);const W=O.status;let K=function(v){const w=Ze[v];if(w!==void 0)return t_(w)}(W),A=O.message;K===void 0&&(K=q.INTERNAL,A="Unknown error status: "+W+" with message "+O.message),y=!0,S.r_(new oe(K,A)),f.close()}else ee(wt,`RPC '${e}' stream ${i} received:`,N),S.i_(N)}}),R(l,yy.STAT_EVENT,x=>{x.stat===uu.PROXY?ee(wt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===uu.NOPROXY&&ee(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function Dc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){return new KS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="PersistentStream";class m_{constructor(e,n,r,i,s,o,l,c){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new g_(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new oe(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ee(dg,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ee(dg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H1 extends m_{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=QS(this.serializer,e),r=function(s){if(!("targetChange"in s))return fe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?yn(o.readTime):fe.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=wu(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=gu(c)?{documents:JS(s,c)}:{query:ZS(s,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=i_(s,o.resumeToken);const u=vu(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){l.readTime=il(s,o.snapshotVersion.toTimestamp());const u=vu(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=t1(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=wu(this.serializer),n.removeTarget=e,this.F_(n)}}class q1 extends m_{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=XS(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=wu(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YS(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{}class K1 extends z1{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,yu(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(q.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,yu(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(q.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class W1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(On(n),this.ea=!1):ee("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="RemoteStore";class G1{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Jr(this)&&(ee(Ur,"Restarting streams for network reachability change."),await async function(c){const u=me(c);u.aa.add(4),await _o(u),u.la.set("Unknown"),u.aa.delete(4),await Ml(u)}(this))})}),this.la=new W1(r,i)}}async function Ml(t){if(Jr(t))for(const e of t.ua)await e(!0)}async function _o(t){for(const e of t.ua)await e(!1)}function v_(t,e){const n=me(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Jh(n)?Xh(n):Gi(n).b_()&&Yh(n,e))}function Qh(t,e){const n=me(t),r=Gi(n);n._a.delete(e),r.b_()&&y_(n,e),n._a.size===0&&(r.b_()?r.v_():Jr(n)&&n.la.set("Unknown"))}function Yh(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gi(t).U_(e)}function y_(t,e){t.ha.Ke(e),Gi(t).K_(e)}function Xh(t){t.ha=new US({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Gi(t).start(),t.la.ta()}function Jh(t){return Jr(t)&&!Gi(t).w_()&&t._a.size>0}function Jr(t){return me(t).aa.size===0}function __(t){t.ha=void 0}async function Q1(t){t.la.set("Online")}async function Y1(t){t._a.forEach((e,n)=>{Yh(t,e)})}async function X1(t,e){__(t),Jh(t)?(t.la.ia(e),Xh(t)):t.la.set("Unknown")}async function J1(t,e,n){if(t.la.set("Online"),e instanceof r_&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i._a.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i._a.delete(l),i.ha.removeTarget(l))}(t,e)}catch(r){ee(Ur,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ol(t,r)}else if(e instanceof ha?t.ha.Xe(e):e instanceof n_?t.ha.ot(e):t.ha.nt(e),!n.isEqual(fe.min()))try{const r=await p_(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.ha.It(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s._a.get(u);h&&s._a.set(u,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const h=s._a.get(c);if(!h)return;s._a.set(c,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),y_(s,c);const f=new Zn(h.target,c,u,h.sequenceNumber);Yh(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ee(Ur,"Failed to raise snapshot:",r),await ol(t,r)}}async function ol(t,e,n){if(!Wi(e))throw e;t.aa.add(1),await _o(t),t.la.set("Offline"),n||(n=()=>p_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(Ur,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Ml(t)})}function w_(t,e){return e().catch(n=>ol(t,n,e))}async function Nl(t){const e=me(t),n=fr(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Mh;for(;Z1(e);)try{const i=await V1(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,ek(e,i)}catch(i){await ol(e,i)}b_(e)&&E_(e)}function Z1(t){return Jr(t)&&t.oa.length<10}function ek(t,e){t.oa.push(e);const n=fr(t);n.b_()&&n.W_&&n.G_(e.mutations)}function b_(t){return Jr(t)&&!fr(t).w_()&&t.oa.length>0}function E_(t){fr(t).start()}async function tk(t){fr(t).H_()}async function nk(t){const e=fr(t);for(const n of t.oa)e.G_(n.mutations)}async function rk(t,e,n){const r=t.oa.shift(),i=Uh.from(r,e,n);await w_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nl(t)}async function ik(t,e){e&&fr(t).W_&&await async function(r,i){if(function(o){return BS(o)&&o!==q.ABORTED}(i.code)){const s=r.oa.shift();fr(r).D_(),await w_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nl(r)}}(t,e),b_(t)&&E_(t)}async function fg(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),ee(Ur,"RemoteStore received new credentials");const r=Jr(n);n.aa.add(3),await _o(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Ml(n)}async function sk(t,e){const n=me(t);e?(n.aa.delete(2),await Ml(n)):e||(n.aa.add(2),await _o(n),n.la.set("Unknown"))}function Gi(t){return t.Pa||(t.Pa=function(n,r,i){const s=me(n);return s.Y_(),new H1(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:Q1.bind(null,t),Jo:Y1.bind(null,t),Zo:X1.bind(null,t),Q_:J1.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Jh(t)?Xh(t):t.la.set("Unknown")):(await t.Pa.stop(),__(t))})),t.Pa}function fr(t){return t.Ta||(t.Ta=function(n,r,i){const s=me(n);return s.Y_(),new q1(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:tk.bind(null,t),Zo:ik.bind(null,t),z_:nk.bind(null,t),j_:rk.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Nl(t)):(await t.Ta.stop(),t.oa.length>0&&(ee(Ur,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Zh(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ed(t,e){if(On("AsyncQueue",`${e}: ${t}`),Wi(t))return new oe(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{static emptySet(e){return new Ai(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=vs(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ai;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Ia=new We(le.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ue(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fi{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Fi(e,n,Ai.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class ak{constructor(){this.queries=gg(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=me(n),s=i.queries;i.queries=gg(),s.forEach((o,l)=>{for(const c of l.Ra)c.onError(r)})})(this,new oe(q.ABORTED,"Firestore shutting down"))}}function gg(){return new Yr(t=>Uy(t),xl)}async function lk(t,e){const n=me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new ok,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=ed(o,`Initialization of query '${ci(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&td(n)}async function ck(t,e){const n=me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uk(t,e){const n=me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Ra)l.pa(i)&&(r=!0);o.Aa=i}}r&&td(n)}function hk(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function td(t){t.fa.forEach(e=>{e.next()})}var Tu,mg;(mg=Tu||(Tu={})).ya="default",mg.Cache="cache";class dk{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Fi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Tu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.key=e}}class I_{constructor(e){this.key=e}}class fk{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ce(),this.mutatedKeys=Ce(),this.Ua=Hy(e),this.Ka=new Ai(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new pg,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const g=i.get(h),y=Dl(this.query,f)?f:null,S=!!g&&this.mutatedKeys.has(g.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;g&&y?g.data.isEqual(y.data)?S!==R&&(r.track({type:3,doc:y}),x=!0):this.ja(g,y)||(r.track({type:2,doc:y}),x=!0,(c&&this.Ua(y,c)>0||u&&this.Ua(y,u)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),x=!0):g&&!y&&(r.track({type:1,doc:g}),x=!0,(c||u)&&(l=!0)),x&&(y?(o=o.add(y),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ka:o,za:r,ys:l,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((h,f)=>function(y,S){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Vt:x})}};return R(y)-R(S)}(h.type,f.type)||this.Ua(h.doc,f.doc)),this.Ha(r),i=i!=null&&i;const l=n&&!i?this.Ja():[],c=this.$a.size===0&&this.current&&!i?1:0,u=c!==this.Qa;return this.Qa=c,o.length!==0||u?{snapshot:new Fi(this.query,e.Ka,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new pg,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ce(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new I_(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new T_(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Ce();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Fi.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const nd="SyncEngine";class pk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gk{constructor(e){this.key=e,this.tu=!1}}class mk{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Yr(l=>Uy(l),xl),this.iu=new Map,this.su=new Set,this.ou=new We(le.comparator),this._u=new Map,this.au=new zh,this.uu={},this.cu=new Map,this.lu=Ni.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function vk(t,e,n=!0){const r=x_(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await A_(r,e,n,!0),i}async function yk(t,e){const n=x_(t);await A_(n,e,!0,!1)}async function A_(t,e,n,r){const i=await L1(t.localStore,vn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await _k(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&v_(t.remoteStore,i),l}async function _k(t,e,n,r,i){t.Pu=(f,g,y)=>async function(R,x,V,N){let U=x.view.Ga(V);U.ys&&(U=await lg(R.localStore,x.query,!1).then(({documents:A})=>x.view.Ga(A,U)));const O=N&&N.targetChanges.get(x.targetId),W=N&&N.targetMismatches.get(x.targetId)!=null,K=x.view.applyChanges(U,R.isPrimaryClient,O,W);return yg(R,x.targetId,K.Ya),K.snapshot}(t,f,g,y);const s=await lg(t.localStore,e,!0),o=new fk(e,s.Ns),l=o.Ga(s.documents),c=yo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);yg(t,n,u.Ya);const h=new pk(e,n,o);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function wk(t,e,n){const r=me(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!xl(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qh(r.remoteStore,i.targetId),Iu(r,i.targetId)}).catch(Ki)):(Iu(r,i.targetId),await bu(r.localStore,i.targetId,!0))}async function bk(t,e){const n=me(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qh(n.remoteStore,r.targetId))}async function Ek(t,e,n){const r=Rk(t);try{const i=await function(o,l){const c=me(o),u=et.now(),h=l.reduce((y,S)=>y.add(S.key),Ce());let f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Vn(),R=Ce();return c.Cs.getEntries(y,h).next(x=>{S=x,S.forEach((V,N)=>{N.isValidDocument()||(R=R.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,S)).next(x=>{f=x;const V=[];for(const N of l){const U=LS(N,f.get(N.key).overlayedDocument);U!=null&&V.push(new Xr(N.key,U,Vy(U.value.mapValue),kn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,V,l)}).next(x=>{g=x;const V=x.applyToLocalDocumentSet(f,R);return c.documentOverlayCache.saveOverlays(y,x.batchId,V)})}).then(()=>({batchId:g.batchId,changes:zy(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.uu[o.currentUser.toKey()];u||(u=new We(Te)),u=u.insert(l,c),o.uu[o.currentUser.toKey()]=u}(r,i.batchId,n),await wo(r,i.changes),await Nl(r.remoteStore)}catch(i){const s=ed(i,"Failed to persist write");n.reject(s)}}async function C_(t,e){const n=me(t);try{const r=await P1(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Ve(o.tu,14607):i.removedDocuments.size>0&&(Ve(o.tu,42227),o.tu=!1))}),await wo(n,r,e)}catch(r){await Ki(r)}}function vg(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const l=o.view.ga(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=me(o);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const g of f.Ra)g.ga(l)&&(u=!0)}),u&&td(c)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tk(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let o=new We(le.comparator);o=o.insert(s,It.newNoDocument(s,fe.min()));const l=Ce().add(s),c=new Vl(fe.min(),new Map,new We(Te),o,l);await C_(r,c),r.ou=r.ou.remove(s),r._u.delete(e),rd(r)}else await bu(r.localStore,e,!1).then(()=>Iu(r,e,n)).catch(Ki)}async function Ik(t,e){const n=me(t),r=e.batch.batchId;try{const i=await D1(n.localStore,e);k_(n,r,null),S_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wo(n,i)}catch(i){await Ki(i)}}async function Ak(t,e,n){const r=me(t);try{const i=await function(o,l){const c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ve(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);k_(r,e,n),S_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wo(r,i)}catch(i){await Ki(i)}}function S_(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function k_(t,e,n){const r=me(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Iu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||R_(t,r)})}function R_(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Qh(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),rd(t))}function yg(t,e,n){for(const r of n)r instanceof T_?(t.au.addReference(r.key,e),Ck(t,r)):r instanceof I_?(ee(nd,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||R_(t,r.key)):ue(19791,{Iu:r})}function Ck(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(ee(nd,"New document in limbo: "+n),t.su.add(r),rd(t))}function rd(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new le(ze.fromString(e)),r=t.lu.next();t._u.set(r,new gk(n)),t.ou=t.ou.insert(n,r),v_(t.remoteStore,new Zn(vn(jy(n.path)),r,"TargetPurposeLimboResolution",Cl.le))}}async function wo(t,e,n){const r=me(t),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((l,c)=>{o.push(r.Pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Wh.Ps(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(c,u){const h=me(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,g=>$.forEach(g.ls,y=>h.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>$.forEach(g.hs,y=>h.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!Wi(f))throw f;ee(Gh,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const y=h.Ss.get(g),S=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(S);h.Ss=h.Ss.insert(g,R)}}}(r.localStore,s))}async function Sk(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){ee(nd,"User change. New user:",e.toKey());const r=await f_(n.localStore,e);n.currentUser=e,function(s,o){s.cu.forEach(l=>{l.forEach(c=>{c.reject(new oe(q.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wo(n,r.Ms)}}function kk(t,e){const n=me(t),r=n._u.get(e);if(r&&r.tu)return Ce().add(r.key);{let i=Ce();const s=n.iu.get(e);if(!s)return i;for(const o of s){const l=n.ru.get(o);i=i.unionWith(l.view.Wa)}return i}}function x_(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tk.bind(null,e),e.nu.Q_=uk.bind(null,e.eventManager),e.nu.Tu=hk.bind(null,e.eventManager),e}function Rk(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ak.bind(null,e),e}class al{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ll(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return x1(this.persistence,new S1,e.initialUser,this.serializer)}Ru(e){return new d_(Kh.Ei,this.serializer)}Au(e){return new N1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}al.provider={build:()=>new al};class xk extends al{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ve(this.persistence.referenceDelegate instanceof sl,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new d1(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Dt.withCacheSize(this.cacheSizeBytes):Dt.DEFAULT;return new d_(r=>sl.Ei(r,n),this.serializer)}}class Au{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sk.bind(null,this.syncEngine),await sk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ak}()}createDatastore(e){const n=Ll(e.databaseInfo.databaseId),r=function(s){return new U1(s)}(e.databaseInfo);return function(s,o,l,c){return new K1(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new G1(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>vg(this.syncEngine,n,0),function(){return hg.C()?new hg:new F1}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,h){const f=new mk(i,s,o,l,c,u);return h&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=me(i);ee(Ur,"RemoteStore shutting down."),s.aa.add(5),await _o(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Au.provider={build:()=>new Au};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class Pk{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=Iy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ee(pr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee(pr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ed(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pc(t,e){t.asyncQueue.verifyOperationInProgress(),ee(pr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await f_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _g(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ok(t);ee(pr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fg(e.remoteStore,i)),t._onlineComponents=e}async function Ok(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(pr,"Using user provided OfflineComponentProvider");try{await Pc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Oi("Error using user provided cache. Falling back to memory cache: "+n),await Pc(t,new al)}}else ee(pr,"Using default OfflineComponentProvider"),await Pc(t,new xk(void 0));return t._offlineComponents}async function D_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(pr,"Using user provided OnlineComponentProvider"),await _g(t,t._uninitializedComponentsProvider._online)):(ee(pr,"Using default OnlineComponentProvider"),await _g(t,new Au))),t._onlineComponents}function Vk(t){return D_(t).then(e=>e.syncEngine)}async function Lk(t){const e=await D_(t),n=e.eventManager;return n.onListen=vk.bind(null,e.syncEngine),n.onUnlisten=wk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bk.bind(null,e.syncEngine),n}function Mk(t,e,n={}){const r=new sr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const h=new Dk({next:g=>{h.yu(),o.enqueueAndForget(()=>ck(s,f)),g.fromCache&&c.source==="server"?u.reject(new oe(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new dk(l,h,{includeMetadataChanges:!0,Fa:!0});return lk(s,f)}(await Lk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e,n){if(!n)throw new oe(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Nk(t,e,n,r){if(e===!0&&r===!0)throw new oe(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bg(t){if(!le.isDocumentKey(t))throw new oe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Eg(t){if(le.isDocumentKey(t))throw new oe(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue(12329,{type:typeof t})}function ll(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=id(t);throw new oe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="firestore.googleapis.com",Tg=!0;class Ig{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V_,this.ssl=Tg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Tg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=h_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u1)throw new oe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ig({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ig(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BC;switch(r.type){case"firstParty":return new qC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wg.get(n);r&&(ee("ComponentProvider","Removing Datastore"),wg.delete(n),r.terminate())}(this),Promise.resolve()}}function Fk(t,e,n,r={}){var i;const s=(t=ll(t,Fl))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s.host!==V_&&s.host!==l&&Oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:!1,emulatorOptions:r});if(!Ga(c,o)&&(t._setSettings(c),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=bt.MOCK_USER;else{u=_A(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new oe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new bt(f)}t._authCredentials=new jC(new Ey(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $l(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class or extends $l{constructor(e,n,r){super(e,n,jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new le(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function Os(t,e,...n){if(t=Xs(t),O_("collection","path",e),t instanceof Fl){const r=ze.fromString(e,...n);return Eg(r),new or(t,null,r)}{if(!(t instanceof rn||t instanceof or))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return Eg(r),new or(t.firestore,null,r)}}function $k(t,e,...n){if(t=Xs(t),arguments.length===1&&(e=Iy.newId()),O_("doc","path",e),t instanceof Fl){const r=ze.fromString(e,...n);return bg(r),new rn(t,null,new le(r))}{if(!(t instanceof rn||t instanceof or))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return bg(r),new rn(t.firestore,t instanceof or?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="AsyncQueue";class Cg{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new g_(this,"async_queue_retry"),this.ju=()=>{const r=Dc();r&&ee(Ag,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Dc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Dc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new sr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Wi(e))throw e;ee(Ag,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,On("INTERNAL UNHANDLED ERROR: ",Sg(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=Zh.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&ue(47125,{ec:Sg(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Sg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class sd extends Fl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cg,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cg(e),this._firestoreClient=void 0,await e}}}function Vs(t,e){const n=typeof t=="object"?t:RC(),r=typeof t=="string"?t:Ja,i=IC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vA("firestore");s&&Fk(i,...s)}return i}function L_(t){if(t._terminated)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Bk(t),t._firestoreClient}function Bk(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,h){return new sS(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,P_(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Pk(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $i(gt.fromBase64String(e))}catch(n){throw new oe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $i(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=/^__.*__$/;class Uk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new vo(e,this.data,n,this.fieldTransforms)}}function N_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{oc:t})}}class cd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new cd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return cl(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(N_(this.oc)&&jk.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Hk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ll(e)}dc(e,n,r,i=!1){return new cd({oc:e,methodName:n,Ec:r,path:ft.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qk(t){const e=t._freezeSettings(),n=Ll(t._databaseId);return new Hk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zk(t,e,n,r,i,s={}){const o=t.dc(s.merge||s.mergeFields?2:0,e,n,i);j_("Data must be an object, but it was:",o,r);const l=$_(r,o);let c,u;if(s.merge)c=new en(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const g=Kk(e,f,n);if(!o.contains(g))throw new oe(q.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Gk(h,g)||h.push(g)}c=new en(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new Uk(new Kt(l),c,u)}function F_(t,e){if(B_(t=Xs(t)))return j_("Unsupported field value:",e,t),$_(t,e);if(t instanceof M_)return function(r,i){if(!N_(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=F_(l,i.Pc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Xs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=et.fromDate(r);return{timestampValue:il(i.serializer,s)}}if(r instanceof et){const s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:il(i.serializer,s)}}if(r instanceof ad)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $i)return{bytesValue:i_(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qh(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ld)return function(o,l){return{mapValue:{fields:{[Py]:{stringValue:Oy},[Za]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Tc("VectorValues must only contain numeric values.");return jh(l.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${id(r)}`)}(t,e)}function $_(t,e){const n={};return Cy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,(r,i)=>{const s=F_(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function B_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof ad||t instanceof $i||t instanceof rn||t instanceof M_||t instanceof ld)}function j_(t,e,n){if(!B_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=id(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Kk(t,e,n){if((e=Xs(e))instanceof od)return e._internalPath;if(typeof e=="string")return U_(t,e);throw cl("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wk=new RegExp("[~\\*/\\[\\]]");function U_(t,e,n){if(e.search(Wk)>=0)throw cl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new od(...e.split("."))._internalPath}catch{throw cl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new oe(q.INVALID_ARGUMENT,l+t+c)}function Gk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(q_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qk extends H_{data(){return super.data()}}function q_(t,e){return typeof e=="string"?U_(t,e):e instanceof od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xk{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Za].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Je(o.doubleValue));return new ld(s)}convertGeoPoint(e){return new ad(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(to(e));default:return null}}convertTimestamp(e){const n=ur(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);Ve(u_(r),9688,{name:e});const i=new no(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||On(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zk extends H_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new da(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(q_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class da extends Zk{data(e={}){return super.data(e)}}class eR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new da(this._firestore,this._userDataWriter,r.key,r,new Zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new da(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new da(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:tR(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:t})}}class nR extends Xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function Cu(t){t=ll(t,$l);const e=ll(t.firestore,sd),n=L_(e),r=new nR(e);return Yk(t._query),Mk(n,t._query).then(i=>new eR(e,r,t,i))}function z_(t,e){const n=ll(t.firestore,sd),r=$k(t),i=Jk(t.converter,e);return rR(n,[zk(qk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function rR(t,e){return function(r,i){const s=new sr;return r.asyncQueue.enqueueAndForget(async()=>Ek(await Vk(r),i,s)),s.promise}(L_(t),e)}(function(e,n=!0){(function(i){zi=i})(kC),Ya(new Js("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new sd(new UC(r.getProvider("auth-internal")),new zC(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new no(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ii(Pp,Op,e),Ii(Pp,Op,"esm2017")})();var iR="firebase",sR="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(iR,sR,"app");const oR={apiKey:"AIzaSyDAVmdqQvzFruNpOYJO-ViqP9sP1K-XmtE",authDomain:"find-a-coach-2b9ed.firebaseapp.com",projectId:"find-a-coach-2b9ed",storageBucket:"find-a-coach-2b9ed.appspot.com",messagingSenderId:"662261321598",appId:"1:662261321598:web:ca10ac19431a6046bf6d2f"},Ls=dy(oR),aR={namespaced:!0,state:{coaches:[],selectedProfessions:[],isLoading:!1,error:null,shouldAnimateInitialLoad:!0,selectedCoach:null,isLoaded:!1},mutations:{SET_COACHES(t,e){t.coaches=e,t.isLoaded=!0},SET_SELECTED_COACH(t,e){t.selectedCoach=e},SET_SELECTED_PROFESSIONS(t,e){t.selectedProfessions=e},SET_LOADING(t,e){t.isLoading=e},SET_ERROR(t,e){t.error&&(console.log("Error state changed:",{previous:t.error,new:e,timestamp:new Date().toISOString()}),t.error=e)},DISABLE_INITIAL_LOAD_ANIMATION(t){t.shouldAnimateInitialLoad=!1},ADD_COACH(t,e){t.coaches.push(e)}},actions:{async fetchCoaches({commit:t,state:e}){var n;if(!(e.isLoaded&&e.coaches.length>0&&!e.selectedCoach)){t("SET_SELECTED_PROFESSIONS",["Frontend","Backend","Full stack"]),t("SET_LOADING",!0),t("SET_ERROR",null);try{const r=Vs(Ls),s=(await Cu(Os(r,"coaches"))).docs.map(o=>o.data());if(t("SET_COACHES",s),(n=e.selectedCoach)!=null&&n.id){const o=s.find(l=>{var c;return String(l.id)===String((c=e.selectedCoach)==null?void 0:c.id)});o&&t("SET_SELECTED_COACH",o)}}catch(r){console.error("Error fetching coaches:",r),t("SET_ERROR","Failed to fetch coaches")}finally{t("SET_LOADING",!1)}}},updateSelectedProfessions({commit:t},e){t("SET_SELECTED_PROFESSIONS",e)},async fetchCoachById({commit:t,state:e},n){t("SET_LOADING",!0),t("SET_ERROR",null);try{let r=e.coaches.find(i=>String(i.id)===n);if(!r){const i=Vs(Ls),o=(await Cu(Os(i,"coaches"))).docs.map(l=>l.data());if(o.length===0)throw new Error("No coaches found");if(t("SET_COACHES",o),r=o.find(l=>String(l.id)===n),!r)throw new Error("Coach not found")}t("SET_SELECTED_COACH",r),t("SET_ERROR",null)}catch(r){console.error("Error finding/fetching coach:",r),console.log("error",r),t("SET_ERROR",r instanceof Error?r.message:"Failed to find/fetch coach details"),t("SET_SELECTED_COACH",null)}finally{t("SET_LOADING",!1)}},disableInitialLoadAnimation({commit:t}){t("DISABLE_INITIAL_LOAD_ANIMATION")},async registerCoach({commit:t},e){t("SET_LOADING",!0),t("SET_ERROR",null);try{const n=Vs(Ls),r=Os(n,"coaches"),s={id:Math.floor(Math.random()*1e6),firstName:e.firstName,lastName:e.lastName,description:e.description,pricePerHour:e.hourlyRate,skills:e.skills},o=await z_(r,s);return console.log("docRef",o),t("ADD_COACH",s),s}catch(n){throw console.error("Error registering coach:",n),t("SET_ERROR",n instanceof Error?n.message:"Failed to register coach"),n}finally{t("SET_LOADING",!1)}}},getters:{allCoaches:t=>t.coaches,selectedCoach:t=>t.selectedCoach,filteredCoaches:t=>t.isLoaded?t.coaches.filter(e=>e.skills.some(r=>t.selectedProfessions.some(i=>i.toLowerCase()===r.toLowerCase()))):[],isCoachesLoaded:t=>t.isLoaded,shouldAnimateInitialLoad:t=>t.shouldAnimateInitialLoad}},kg=t=>new Date(t.seconds*1e3+t.nanoseconds/1e6),lR={namespaced:!0,state:{requests:[],isLoading:!1,error:null},mutations:{SET_REQUESTS(t,e){t.requests=e.map(n=>{const r=kg(n.requestDate),i=r.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return{...n,requestDate:r,formattedDate:i}})},SET_LOADING(t,e){t.isLoading=e},SET_ERROR(t,e){t.error=e},ADD_REQUEST(t,e){const n=kg(e.requestDate),r=n.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),i={...e,requestDate:n,formattedDate:r};t.requests.push(i)}},actions:{async fetchRequests({commit:t,state:e}){if(e.requests.length>0){console.log("Requests already loaded, skipping fetch");return}t("SET_LOADING",!0);try{const n=Vs(Ls),i=(await Cu(Os(n,"requests"))).docs.map(s=>s.data());t("SET_REQUESTS",i)}catch(n){t("SET_ERROR",n instanceof Error?n.message:"Failed to fetch requests")}finally{t("SET_LOADING",!1)}},async createRequest({commit:t,state:e},n){t("SET_LOADING",!0),t("SET_ERROR",null);try{const r=Vs(Ls),i=Os(r,"requests"),s={id:e.requests.length+1,firstname:n.firstname,lastname:n.lastname,email:n.email,message:n.message,requestDate:et.fromDate(new Date),requestedBy:n.fullname},o=await z_(i,s),l={...s,id:o.id};return t("ADD_REQUEST",l),l}catch(r){throw console.error("Error creating request:",r),t("SET_ERROR",r instanceof Error?r.message:"Failed to create request"),r}finally{t("SET_LOADING",!1)}}},getters:{requests:t=>t.requests,isLoading:t=>t.isLoading,error:t=>t.error,hasRequests:t=>t.requests.length>0,requestsCount:t=>t.requests.length,sortedRequests:t=>[...t.requests].sort((e,n)=>n.requestDate.getTime()-e.requestDate.getTime())}},cR=$E({modules:{Coach:aR,Request:lR}});/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const K_=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Qi=t=>K_?Symbol(t):"_vr_"+t,uR=Qi("rvlm"),Rg=Qi("rvd"),Bl=Qi("r"),W_=Qi("rl"),Su=Qi("rvl"),di=typeof window<"u";function hR(t){return t.__esModule||K_&&t[Symbol.toStringTag]==="Module"}const $e=Object.assign;function Oc(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}const Ms=()=>{},dR=/\/$/,fR=t=>t.replace(dR,"");function Vc(t,e,n="/"){let r,i={},s="",o="";const l=e.indexOf("?"),c=e.indexOf("#",l>-1?l:0);return l>-1&&(r=e.slice(0,l),s=e.slice(l+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=vR(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function pR(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function xg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function gR(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Bi(e.matched[r],n.matched[i])&&G_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Bi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function G_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!mR(t[n],e[n]))return!1;return!0}function mR(t,e){return Array.isArray(t)?Dg(t,e):Array.isArray(e)?Dg(e,t):t===e}function Dg(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function vR(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],!(i===1||o==="."))if(o==="..")i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var oo;(function(t){t.pop="pop",t.push="push"})(oo||(oo={}));var Ns;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ns||(Ns={}));function yR(t){if(!t)if(di){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fR(t)}const _R=/^[^#]+#/;function wR(t,e){return t.replace(_R,"#")+e}function bR(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const jl=()=>({left:window.pageXOffset,top:window.pageYOffset});function ER(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=bR(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Pg(t,e){return(history.state?history.state.position-e:-1)+t}const ku=new Map;function TR(t,e){ku.set(t,e)}function IR(t){const e=ku.get(t);return ku.delete(t),e}let AR=()=>location.protocol+"//"+location.host;function Q_(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let l=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),xg(c,"")}return xg(n,t)+r+i}function CR(t,e,n,r){let i=[],s=[],o=null;const l=({state:g})=>{const y=Q_(t,location),S=n.value,R=e.value;let x=0;if(g){if(n.value=y,e.value=g,o&&o===S){o=null;return}x=R?g.position-R.position:0}else r(y);i.forEach(V=>{V(n.value,S,{delta:x,type:oo.pop,direction:x?x>0?Ns.forward:Ns.back:Ns.unknown})})};function c(){o=n.value}function u(g){i.push(g);const y=()=>{const S=i.indexOf(g);S>-1&&i.splice(S,1)};return s.push(y),y}function h(){const{history:g}=window;g.state&&g.replaceState($e({},g.state,{scroll:jl()}),"")}function f(){for(const g of s)g();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:u,destroy:f}}function Og(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?jl():null}}function SR(t){const{history:e,location:n}=window,r={value:Q_(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,u,h){const f=t.indexOf("#"),g=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:AR()+t+c;try{e[h?"replaceState":"pushState"](u,"",g),i.value=u}catch(y){console.error(y),n[h?"replace":"assign"](g)}}function o(c,u){const h=$e({},e.state,Og(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});s(c,h,!0),r.value=c}function l(c,u){const h=$e({},i.value,e.state,{forward:c,scroll:jl()});s(h.current,h,!0);const f=$e({},Og(r.value,c,null),{position:h.position+1},u);s(c,f,!1),r.value=c}return{location:r,state:i,push:l,replace:o}}function kR(t){t=yR(t);const e=SR(t),n=CR(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=$e({location:"",base:t,go:r,createHref:wR.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function RR(t){return typeof t=="string"||t&&typeof t=="object"}function Y_(t){return typeof t=="string"||typeof t=="symbol"}const jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},X_=Qi("nf");var Vg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Vg||(Vg={}));function ji(t,e){return $e(new Error,{type:t,[X_]:!0},e)}function Un(t,e){return t instanceof Error&&X_ in t&&(e==null||!!(t.type&e))}const Lg="[^/]+?",xR={sensitive:!1,strict:!1,start:!0,end:!0},DR=/[.+*?^${}()[\]/\\]/g;function PR(t,e){const n=$e({},xR,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const g=u[f];let y=40+(n.sensitive?.25:0);if(g.type===0)f||(i+="/"),i+=g.value.replace(DR,"\\$&"),y+=40;else if(g.type===1){const{value:S,repeatable:R,optional:x,regexp:V}=g;s.push({name:S,repeatable:R,optional:x});const N=V||Lg;if(N!==Lg){y+=10;try{new RegExp(`(${N})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${S}" (${N}): `+O.message)}}let U=R?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;f||(U=x&&u.length<2?`(?:/${U})`:"/"+U),x&&(U+="?"),i+=U,y+=20,x&&(y+=-8),R&&(y+=-20),N===".*"&&(y+=-50)}h.push(y)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(u){const h=u.match(o),f={};if(!h)return null;for(let g=1;g<h.length;g++){const y=h[g]||"",S=s[g-1];f[S.name]=y&&S.repeatable?y.split("/"):y}return f}function c(u){let h="",f=!1;for(const g of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const y of g)if(y.type===0)h+=y.value;else if(y.type===1){const{value:S,repeatable:R,optional:x}=y,V=S in u?u[S]:"";if(Array.isArray(V)&&!R)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const N=Array.isArray(V)?V.join("/"):V;if(!N)if(x)g.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${S}"`);h+=N}}return h}return{re:o,score:r,keys:s,parse:l,stringify:c}}function OR(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function VR(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=OR(r[n],i[n]);if(s)return s;n++}return i.length-r.length}const LR={type:0,value:""},MR=/[a-zA-Z0-9_]/;function NR(t){if(!t)return[[]];if(t==="/")return[[LR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${u}": ${y}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let l=0,c,u="",h="";function f(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function g(){u+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(u&&f(),o()):c===":"?(f(),n=1):g();break;case 4:g(),n=r;break;case 1:c==="("?n=2:MR.test(c)?g():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}function FR(t,e,n){const r=PR(NR(t.path),n),i=$e(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function $R(t,e){const n=[],r=new Map;e=Ng({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,g){const y=!g,S=jR(h);S.aliasOf=g&&g.record;const R=Ng(e,h),x=[S];if("alias"in h){const U=typeof h.alias=="string"?[h.alias]:h.alias;for(const O of U)x.push($e({},S,{components:g?g.record.components:S.components,path:O,aliasOf:g?g.record:S}))}let V,N;for(const U of x){const{path:O}=U;if(f&&O[0]!=="/"){const W=f.record.path,K=W[W.length-1]==="/"?"":"/";U.path=f.record.path+(O&&K+O)}if(V=FR(U,f,R),g?g.alias.push(V):(N=N||V,N!==V&&N.alias.push(V),y&&h.name&&!Mg(V)&&o(h.name)),"children"in S){const W=S.children;for(let K=0;K<W.length;K++)s(W[K],V,g&&g.children[K])}g=g||V,c(V)}return N?()=>{o(N)}:Ms}function o(h){if(Y_(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function l(){return n}function c(h){let f=0;for(;f<n.length&&VR(h,n[f])>=0&&(h.record.path!==n[f].record.path||!J_(h,n[f]));)f++;n.splice(f,0,h),h.record.name&&!Mg(h)&&r.set(h.record.name,h)}function u(h,f){let g,y={},S,R;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw ji(1,{location:h});R=g.record.name,y=$e(BR(f.params,g.keys.filter(N=>!N.optional).map(N=>N.name)),h.params),S=g.stringify(y)}else if("path"in h)S=h.path,g=n.find(N=>N.re.test(S)),g&&(y=g.parse(S),R=g.record.name);else{if(g=f.name?r.get(f.name):n.find(N=>N.re.test(f.path)),!g)throw ji(1,{location:h,currentLocation:f});R=g.record.name,y=$e({},f.params,h.params),S=g.stringify(y)}const x=[];let V=g;for(;V;)x.unshift(V.record),V=V.parent;return{name:R,path:S,params:y,matched:x,meta:HR(x)}}return t.forEach(h=>s(h)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:l,getRecordMatcher:i}}function BR(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function jR(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:UR(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function UR(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Mg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function HR(t){return t.reduce((e,n)=>$e(e,n.meta),{})}function Ng(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function J_(t,e){return e.children.some(n=>n===t||J_(t,n))}const Z_=/#/g,qR=/&/g,zR=/\//g,KR=/=/g,WR=/\?/g,e0=/\+/g,GR=/%5B/g,QR=/%5D/g,t0=/%5E/g,YR=/%60/g,n0=/%7B/g,XR=/%7C/g,r0=/%7D/g,JR=/%20/g;function ud(t){return encodeURI(""+t).replace(XR,"|").replace(GR,"[").replace(QR,"]")}function ZR(t){return ud(t).replace(n0,"{").replace(r0,"}").replace(t0,"^")}function Ru(t){return ud(t).replace(e0,"%2B").replace(JR,"+").replace(Z_,"%23").replace(qR,"%26").replace(YR,"`").replace(n0,"{").replace(r0,"}").replace(t0,"^")}function ex(t){return Ru(t).replace(KR,"%3D")}function tx(t){return ud(t).replace(Z_,"%23").replace(WR,"%3F")}function nx(t){return t==null?"":tx(t).replace(zR,"%2F")}function ul(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function rx(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(e0," "),o=s.indexOf("="),l=ul(o<0?s:s.slice(0,o)),c=o<0?null:ul(s.slice(o+1));if(l in e){let u=e[l];Array.isArray(u)||(u=e[l]=[u]),u.push(c)}else e[l]=c}return e}function Fg(t){let e="";for(let n in t){const r=t[n];if(n=ex(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map(s=>s&&Ru(s)):[r&&Ru(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function ix(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Array.isArray(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}function ps(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Xn(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const c=f=>{f===!1?l(ji(4,{from:n,to:e})):f instanceof Error?l(f):RR(f)?l(ji(2,{from:e,to:f})):(s&&r.enterCallbacks[i]===s&&typeof f=="function"&&s.push(f),o())},u=t.call(r&&r.instances[i],e,n,c);let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function Lc(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let l=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(sx(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Xn(u,n,r,s,o))}else{let c=l();i.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const h=hR(u)?u.default:u;s.components[o]=h;const g=(h.__vccOpts||h)[e];return g&&Xn(g,n,r,s,o)()}))}}return i}function sx(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $g(t){const e=gn(Bl),n=gn(W_),r=fn(()=>e.resolve(mi(t.to))),i=fn(()=>{const{matched:c}=r.value,{length:u}=c,h=c[u-1],f=n.matched;if(!h||!f.length)return-1;const g=f.findIndex(Bi.bind(null,h));if(g>-1)return g;const y=Bg(c[u-2]);return u>1&&Bg(h)===y&&f[f.length-1].path!==y?f.findIndex(Bi.bind(null,c[u-2])):g}),s=fn(()=>i.value>-1&&cx(n.params,r.value.params)),o=fn(()=>i.value>-1&&i.value===n.matched.length-1&&G_(n.params,r.value.params));function l(c={}){return lx(c)?e[mi(t.replace)?"replace":"push"](mi(t.to)).catch(Ms):Promise.resolve()}return{route:r,href:fn(()=>r.value.href),isActive:s,isExactActive:o,navigate:l}}const ox=xt({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$g,setup(t,{slots:e}){const n=Ui($g(t)),{options:r}=gn(Bl),i=fn(()=>({[jg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[jg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Gu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),ax=ox;function lx(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function cx(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Bg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const jg=(t,e,n)=>t??e??n,ux=xt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=gn(Su),i=fn(()=>t.route||r.value),s=gn(Rg,0),o=fn(()=>i.value.matched[s]);ta(Rg,s+1),ta(uR,o),ta(Su,i);const l=jc();return Lr(()=>[l.value,o.value,t.name],([c,u,h],[f,g,y])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!Bi(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(S=>S(c))},{flush:"post"}),()=>{const c=i.value,u=o.value,h=u&&u.components[t.name],f=t.name;if(!h)return Ug(n.default,{Component:h,route:c});const g=u.props[t.name],y=g?g===!0?c.params:typeof g=="function"?g(c):g:null,R=Gu(h,$e({},y,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(u.instances[f]=null)},ref:l}));return Ug(n.default,{Component:R,route:c})||R}}});function Ug(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const hx=ux;function dx(t){const e=$R(t.routes,t),n=t.parseQuery||rx,r=t.stringifyQuery||Fg,i=t.history,s=ps(),o=ps(),l=ps(),c=dw(jn);let u=jn;di&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Oc.bind(null,M=>""+M),f=Oc.bind(null,nx),g=Oc.bind(null,ul);function y(M,Z){let Q,te;return Y_(M)?(Q=e.getRecordMatcher(M),te=Z):te=M,e.addRoute(te,Q)}function S(M){const Z=e.getRecordMatcher(M);Z&&e.removeRoute(Z)}function R(){return e.getRoutes().map(M=>M.record)}function x(M){return!!e.getRecordMatcher(M)}function V(M,Z){if(Z=$e({},Z||c.value),typeof M=="string"){const E=Vc(n,M,Z.path),C=e.resolve({path:E.path},Z),D=i.createHref(E.fullPath);return $e(E,C,{params:g(C.params),hash:ul(E.hash),redirectedFrom:void 0,href:D})}let Q;if("path"in M)Q=$e({},M,{path:Vc(n,M.path,Z.path).path});else{const E=$e({},M.params);for(const C in E)E[C]==null&&delete E[C];Q=$e({},M,{params:f(M.params)}),Z.params=f(Z.params)}const te=e.resolve(Q,Z),Re=M.hash||"";te.params=h(g(te.params));const De=pR(r,$e({},M,{hash:ZR(Re),path:te.path})),ve=i.createHref(De);return $e({fullPath:De,hash:Re,query:r===Fg?ix(M.query):M.query||{}},te,{redirectedFrom:void 0,href:ve})}function N(M){return typeof M=="string"?Vc(n,M,c.value.path):$e({},M)}function U(M,Z){if(u!==M)return ji(8,{from:Z,to:M})}function O(M){return A(M)}function W(M){return O($e(N(M),{replace:!0}))}function K(M){const Z=M.matched[M.matched.length-1];if(Z&&Z.redirect){const{redirect:Q}=Z;let te=typeof Q=="function"?Q(M):Q;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=N(te):{path:te},te.params={}),$e({query:M.query,hash:M.hash,params:M.params},te)}}function A(M,Z){const Q=u=V(M),te=c.value,Re=M.state,De=M.force,ve=M.replace===!0,E=K(Q);if(E)return A($e(N(E),{state:Re,force:De,replace:ve}),Z||Q);const C=Q;C.redirectedFrom=Z;let D;return!De&&gR(r,te,Q)&&(D=ji(16,{to:C,from:te}),At(te,te,!0,!1)),(D?Promise.resolve(D):v(C,te)).catch(F=>Un(F)?Un(F,2)?F:Ke(F):he(F,C,te)).then(F=>{if(F){if(Un(F,2))return A($e(N(F.to),{state:Re,force:De,replace:ve}),Z||C)}else F=I(C,te,!0,ve,Re);return w(C,te,F),F})}function _(M,Z){const Q=U(M,Z);return Q?Promise.reject(Q):Promise.resolve()}function v(M,Z){let Q;const[te,Re,De]=fx(M,Z);Q=Lc(te.reverse(),"beforeRouteLeave",M,Z);for(const E of te)E.leaveGuards.forEach(C=>{Q.push(Xn(C,M,Z))});const ve=_.bind(null,M,Z);return Q.push(ve),oi(Q).then(()=>{Q=[];for(const E of s.list())Q.push(Xn(E,M,Z));return Q.push(ve),oi(Q)}).then(()=>{Q=Lc(Re,"beforeRouteUpdate",M,Z);for(const E of Re)E.updateGuards.forEach(C=>{Q.push(Xn(C,M,Z))});return Q.push(ve),oi(Q)}).then(()=>{Q=[];for(const E of M.matched)if(E.beforeEnter&&!Z.matched.includes(E))if(Array.isArray(E.beforeEnter))for(const C of E.beforeEnter)Q.push(Xn(C,M,Z));else Q.push(Xn(E.beforeEnter,M,Z));return Q.push(ve),oi(Q)}).then(()=>(M.matched.forEach(E=>E.enterCallbacks={}),Q=Lc(De,"beforeRouteEnter",M,Z),Q.push(ve),oi(Q))).then(()=>{Q=[];for(const E of o.list())Q.push(Xn(E,M,Z));return Q.push(ve),oi(Q)}).catch(E=>Un(E,8)?E:Promise.reject(E))}function w(M,Z,Q){for(const te of l.list())te(M,Z,Q)}function I(M,Z,Q,te,Re){const De=U(M,Z);if(De)return De;const ve=Z===jn,E=di?history.state:{};Q&&(te||ve?i.replace(M.fullPath,$e({scroll:ve&&E&&E.scroll},Re)):i.push(M.fullPath,Re)),c.value=M,At(M,Z,Q,ve),Ke()}let T;function b(){T=i.listen((M,Z,Q)=>{const te=V(M),Re=K(te);if(Re){A($e(Re,{replace:!0}),te).catch(Ms);return}u=te;const De=c.value;di&&TR(Pg(De.fullPath,Q.delta),jl()),v(te,De).catch(ve=>Un(ve,12)?ve:Un(ve,2)?(A(ve.to,te).then(E=>{Un(E,20)&&!Q.delta&&Q.type===oo.pop&&i.go(-1,!1)}).catch(Ms),Promise.reject()):(Q.delta&&i.go(-Q.delta,!1),he(ve,te,De))).then(ve=>{ve=ve||I(te,De,!1),ve&&(Q.delta?i.go(-Q.delta,!1):Q.type===oo.pop&&Un(ve,20)&&i.go(-1,!1)),w(te,De,ve)}).catch(Ms)})}let pe=ps(),be=ps(),we;function he(M,Z,Q){Ke(M);const te=be.list();return te.length?te.forEach(Re=>Re(M,Z,Q)):console.error(M),Promise.reject(M)}function Ee(){return we&&c.value!==jn?Promise.resolve():new Promise((M,Z)=>{pe.add([M,Z])})}function Ke(M){return we||(we=!M,b(),pe.list().forEach(([Z,Q])=>M?Q(M):Z()),pe.reset()),M}function At(M,Z,Q,te){const{scrollBehavior:Re}=t;if(!di||!Re)return Promise.resolve();const De=!Q&&IR(Pg(M.fullPath,0))||(te||!Q)&&history.state&&history.state.scroll||null;return ju().then(()=>Re(M,Z,De)).then(ve=>ve&&ER(ve)).catch(ve=>he(ve,M,Z))}const at=M=>i.go(M);let Le;const Me=new Set;return{currentRoute:c,addRoute:y,removeRoute:S,hasRoute:x,getRoutes:R,resolve:V,options:t,push:O,replace:W,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:s.add,beforeResolve:o.add,afterEach:l.add,onError:be.add,isReady:Ee,install(M){const Z=this;M.component("RouterLink",ax),M.component("RouterView",hx),M.config.globalProperties.$router=Z,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>mi(c)}),di&&!Le&&c.value===jn&&(Le=!0,O(i.location).catch(Re=>{}));const Q={};for(const Re in jn)Q[Re]=fn(()=>c.value[Re]);M.provide(Bl,Z),M.provide(W_,Ui(Q)),M.provide(Su,c);const te=M.unmount;Me.add(M),M.unmount=function(){Me.delete(M),Me.size<1&&(u=jn,T&&T(),c.value=jn,Le=!1,we=!1),te()}}}}function oi(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function fx(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const l=e.matched[o];l&&(t.matched.find(u=>Bi(u,l))?r.push(l):n.push(l));const c=t.matched[o];c&&(e.matched.find(u=>Bi(u,c))||i.push(c))}return[n,r,i]}function px(){return gn(Bl)}const gx={name:"BaseCard",props:{customClass:{type:String,default:""},roundedClass:{type:String,default:"rounded-sm"}}},mx={class:"hover:shadow-md hover:shadow-gray-700/30 transition-all duration-300"};function vx(t,e,n,r,i,s){return re(),ye("div",{class:lo(["mx-2 mt-2 bg-gray-800 shadow-md hover:shadow-lg hover:shadow-gray-700/50 hover:bg-gray-700 transition-all duration-300 p-4",n.roundedClass,n.customClass])},[L("div",mx,[ya(t.$slots,"default")])],2)}const hd=it(gx,[["render",vx]]),yx=xt({name:"BaseButton",props:{variant:{type:String,default:"primary",validator:t=>["primary","success","danger","warning","info"].includes(t)},disabled:{type:Boolean,default:!1}},emits:["click"],computed:{colorClasses(){return{primary:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 ",success:"bg-green-600 hover:bg-green-700 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",danger:"bg-red-600 hover:bg-red-700 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",warning:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-300 dark:bg-yellow-600 dark:hover:bg-yellow-700 dark:focus:ring-yellow-800",info:"bg-gray-500 hover:bg-gray-600 focus:ring-gray-300 dark:bg-gray-500 dark:hover:bg-gray-600 dark:focus:ring-gray-800"}[this.variant]}}}),_x=["disabled"];function wx(t,e,n,r,i,s){return re(),ye("button",{class:lo(["mx-2 inline-flex items-center px-4 py-2 text-sm font-medium text-white rounded-lg focus:ring-4 focus:outline-none transition-all duration-200",t.colorClasses,{"opacity-50 cursor-not-allowed":t.disabled}]),disabled:t.disabled,onClick:e[0]||(e[0]=o=>t.$emit("click",o))},[ya(t.$slots,"icon",{},void 0,!0),ya(t.$slots,"default",{},void 0,!0)],10,_x)}const dd=it(yx,[["render",wx],["__scopeId","data-v-3a9e9d61"]]),bx={name:"Loading"},Ex={role:"status",class:"flex justify-center items-center"};function Tx(t,e,n,r,i,s){return re(),ye("div",Ex,e[0]||(e[0]=[L("svg",{"aria-hidden":"true",class:"inline w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-green-500",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[L("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),L("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1),L("span",{class:"sr-only"},"Loading...",-1)]))}const Ul=it(bx,[["render",Tx]]),Ix={name:"Skills",props:{skills:{type:Array,required:!0},isTitle:{type:Boolean,default:!1}}},Ax={class:"mb-8"},Cx={key:0,class:"text-xl font-medium text-white mb-4"},Sx={class:"flex flex-wrap gap-2"};function kx(t,e,n,r,i,s){return re(),ye("div",Ax,[n.isTitle?(re(),ye("h4",Cx," Expertise ")):uo("",!0),L("div",Sx,[(re(!0),ye(Ye,null,Ci(n.skills,o=>(re(),ye("span",{key:o,class:"relative bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-purple-400 border border-purple-400 hover:scale-105 transition-transform duration-200"},He(o),1))),128))])])}const i0=it(Ix,[["render",kx],["__scopeId","data-v-3aa106f5"]]),Rx=xt({name:"ContactCoachModal",components:{Loading:Ul},inject:["showSuccessToast"],props:{isOpen:{type:Boolean,required:!0},coachFirstName:{type:String,required:!0},coachLastName:{type:String,required:!0}},data(){return{formData:{fullname:"",email:"",message:"",firstname:this.coachFirstName,lastname:this.coachLastName},isSubmitting:!1}},methods:{...zr("Request",["createRequest"]),closeModal(){this.clearForm(),this.$emit("close")},clearForm(){this.formData={fullname:"",email:"",message:"",firstname:this.coachFirstName,lastname:this.coachLastName}},async handleContactSubmit(){this.isSubmitting=!0;try{await this.createRequest(this.formData),this.showSuccessToast("Message sent successfully!"),this.clearForm(),this.closeModal(),this.$route.path.includes("coaches/")&&this.$router.go(-1)}catch(t){console.error("Error sending message:",t),this.showSuccessToast("Failed to send message. Please try again.")}finally{this.isSubmitting=!1}}}}),xx={key:0,class:"fixed inset-0 bg-gray-700/30 backdrop-blur-3xl flex items-center justify-center z-50"},Dx={key:0,class:"loading"},Px={key:1,class:"bg-gray-900/90 backdrop-blur-sm rounded-lg p-6 w-full max-w-md border-2 border-gray-800 shadow-xl"},Ox={class:"flex justify-between items-center mb-4"},Vx={class:"flex justify-end space-x-3"},Lx=["disabled"];function Mx(t,e,n,r,i,s){const o=Ne("Loading");return t.isOpen?(re(),ye("div",xx,[t.isSubmitting?(re(),ye("div",Dx,[_e(o)])):(re(),ye("div",Px,[L("div",Ox,[e[7]||(e[7]=L("h3",{class:"text-xl font-semibold text-white"},"Contact Coach",-1)),L("button",{onClick:e[0]||(e[0]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"text-gray-400 hover:text-white"},e[6]||(e[6]=[L("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),L("form",{onSubmit:e[5]||(e[5]=hv((...l)=>t.handleContactSubmit&&t.handleContactSubmit(...l),["prevent"])),class:"space-y-4"},[L("div",null,[e[8]||(e[8]=L("label",{for:"fullname",class:"block text-sm font-medium text-gray-300 mb-1"},"Full Name",-1)),Jn(L("input",{type:"text",id:"fullname","onUpdate:modelValue":e[1]||(e[1]=l=>t.formData.fullname=l),class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[Pr,t.formData.fullname]])]),L("div",null,[e[9]||(e[9]=L("label",{for:"email",class:"block text-sm font-medium text-gray-300 mb-1"},"Email",-1)),Jn(L("input",{type:"email",id:"email","onUpdate:modelValue":e[2]||(e[2]=l=>t.formData.email=l),class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[Pr,t.formData.email]])]),L("div",null,[e[10]||(e[10]=L("label",{for:"message",class:"block text-sm font-medium text-gray-300 mb-1"},"Message",-1)),Jn(L("textarea",{id:"message","onUpdate:modelValue":e[3]||(e[3]=l=>t.formData.message=l),rows:"4",class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[Pr,t.formData.message]])]),L("div",Vx,[L("button",{type:"button",onClick:e[4]||(e[4]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Cancel "),L("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:t.isSubmitting},He(t.isSubmitting?"Sending...":"Send Message"),9,Lx)])],32)]))])):uo("",!0)}const s0=it(Rx,[["render",Mx],["__scopeId","data-v-07e3ca74"]]),Nx=xt({name:"Toast",props:{message:{type:String,required:!0},isVisible:{type:Boolean,default:!1},id:{type:String,default:"toast-success"}},emits:["hide"],methods:{hide(){this.$emit("hide")}},mounted(){Ph()}}),Fx=["id"],$x={class:"ml-3 text-sm font-normal"};function Bx(t,e,n,r,i,s){return t.isVisible?(re(),ye("div",{key:0,id:t.id,class:"fixed top-5 right-5 flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800",role:"alert"},[e[2]||(e[2]=L("div",{class:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"},[L("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[L("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})]),L("span",{class:"sr-only"},"Success icon")],-1)),L("div",$x,He(t.message),1),L("button",{type:"button",class:"ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700",onClick:e[0]||(e[0]=(...o)=>t.hide&&t.hide(...o)),"aria-label":"Close"},e[1]||(e[1]=[L("span",{class:"sr-only"},"Close",-1),L("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[L("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)]))],8,Fx)):uo("",!0)}const o0=it(Nx,[["render",Bx]]),jx=xt({name:"CoachDetail",components:{BaseCard:hd,BaseButton:dd,Loading:Ul,Skills:i0,ContactCoachModal:s0,Toast:o0},props:{id:{type:String,required:!0}},data(){return{isContactModalOpen:!1,showToast:!1,toastMessage:""}},computed:{...Ju("Coach",["isLoading","error"]),...Zu("Coach",["selectedCoach"])},methods:{...zr("Coach",["fetchCoachById"]),goBack(){this.$router.push("/coaches")},openContactModal(){this.isContactModalOpen=!0},closeContactModal(){this.isContactModalOpen=!1},showSuccessToast(t){this.toastMessage=t,this.showToast=!0,setTimeout(()=>{this.showToast=!1},5e3)}},provide(){return{showSuccessToast:this.showSuccessToast}},created(){this.fetchCoachById(this.id)}}),Ux={class:"container mx-auto px-4 py-6 space-y-6 max-w-3xl"},Hx={class:"mb-6"},qx={key:0,class:"loading"},zx={key:1,class:"error"},Kx={class:"flex flex-col items-center p-8"},Wx={class:"w-32 h-32 mb-4 rounded-full bg-gray-500 hover:bg-gray-600 flex items-center justify-center"},Gx={class:"text-4xl text-white"},Qx={class:"text-3xl font-bold text-white mb-2"},Yx={class:"text-xl text-gray-300"},Xx={class:"p-8"},Jx={class:"text-gray-300 mb-8 leading-relaxed"},Zx={class:"flex justify-center"},eD={key:3,class:"error"};function tD(t,e,n,r,i,s){var g,y;const o=Ne("BaseButton"),l=Ne("Loading"),c=Ne("BaseCard"),u=Ne("Skills"),h=Ne("ContactCoachModal"),f=Ne("Toast");return re(),ye("div",Ux,[L("div",Hx,[_e(o,{variant:"info",onClick:t.goBack},{icon:Qe(()=>e[1]||(e[1]=[L("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])),default:Qe(()=>[e[2]||(e[2]=nn(" Back to Coaches "))]),_:1},8,["onClick"])]),t.isLoading?(re(),ye("div",qx,[_e(l)])):t.error?(re(),ye("div",zx,He(t.error),1)):t.selectedCoach?(re(),ye(Ye,{key:2},[_e(c,null,{default:Qe(()=>[L("div",Kx,[L("div",Wx,[L("span",Gx,He(t.selectedCoach.firstName[0])+He(t.selectedCoach.lastName[0]),1)]),L("h2",Qx,He(t.selectedCoach.firstName)+" "+He(t.selectedCoach.lastName),1),L("span",Yx," $"+He(t.selectedCoach.pricePerHour)+"/hour ",1)])]),_:1}),_e(c,null,{default:Qe(()=>[L("div",Xx,[e[5]||(e[5]=L("h3",{class:"text-2xl font-semibold text-white mb-6"}," About Me ",-1)),L("p",Jx,He(t.selectedCoach.description||"No description available."),1),_e(u,{skills:t.selectedCoach.skills,isTitle:!0},null,8,["skills"]),L("div",Zx,[_e(o,{variant:"success",onClick:t.openContactModal},{icon:Qe(()=>e[3]||(e[3]=[L("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)])),default:Qe(()=>[e[4]||(e[4]=nn(" Contact Coach "))]),_:1},8,["onClick"])])])]),_:1})],64)):(re(),ye("div",eD,"Coach not found")),_e(h,{"is-open":t.isContactModalOpen,onClose:t.closeContactModal,coachFirstName:(g=t.selectedCoach)==null?void 0:g.firstName,coachLastName:(y=t.selectedCoach)==null?void 0:y.lastName},null,8,["is-open","onClose","coachFirstName","coachLastName"]),_e(f,{"is-visible":t.showToast,message:t.toastMessage,onHide:e[0]||(e[0]=S=>t.showToast=!1)},null,8,["is-visible","message"])])}const nD=it(jx,[["render",tD],["__scopeId","data-v-7c62fa27"]]),rD=xt({name:"CoachesFilter",props:{professions:{type:Array,required:!0}},emits:["filter-professions"],methods:{toggleProfession(t){t.selected=!t.selected,this.$emit("filter-professions",this.professions)}}}),iD={class:"mx-auto"},sD={class:"items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg md:flex dark:bg-gray-700 dark:border-gray-600 dark:text-white"},oD={class:"flex items-center ps-3"},aD=["id","checked","onChange"],lD=["for"];function cD(t,e,n,r,i,s){return re(),ye("div",iD,[(re(),ye("div",{key:t.professions.map(o=>o.selected).join(","),class:"block p-6 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"},[e[0]||(e[0]=L("h3",{class:"mb-2 font-semibold text-gray-900 dark:text-white"}," Filter by Profession ",-1)),L("ul",sD,[(re(!0),ye(Ye,null,Ci(t.professions,o=>(re(),ye("li",{key:o.id,class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},[L("div",oD,[L("input",{id:o.name.toLowerCase()+"-checkbox-list",type:"checkbox",checked:o.selected,onChange:l=>t.toggleProfession(o),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,40,aD),L("label",{for:o.name.toLowerCase()+"-checkbox-list",class:"w-full py-3 ms-2 font-medium text-gray-900 dark:text-gray-300"},He(o.name),9,lD)])]))),128))])]))])}const uD=it(rD,[["render",cD]]),hD={name:"CoachCard",components:{BaseCard:hd,Skills:i0,BaseButton:dd,ContactCoachModal:s0},props:{coach:{type:Object,required:!0}},data(){return{isContactModalOpen:!1}},methods:{openContactModal(){this.isContactModalOpen=!0},closeContactModal(){this.isContactModalOpen=!1},viewDetails(){this.$router.push({name:"coach-detail",params:{id:this.coach.id}})}}},dD={class:"flex justify-center"},fD={class:"w-full max-w-sm"},pD={class:"flex flex-col items-center p-6"},gD={class:"mb-1 text-xl font-medium text-gray-900 dark:text-white"},mD={class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},vD={class:"flex flex-wrap gap-2 mb-4 w-max"},yD={class:"flex gap-3"};function _D(t,e,n,r,i,s){const o=Ne("Skills"),l=Ne("BaseButton"),c=Ne("ContactCoachModal"),u=Ne("BaseCard");return re(),Bt(u,{class:"coach-item"},{default:Qe(()=>[L("div",dD,[L("div",fD,[L("div",pD,[L("h5",gD,He(n.coach.firstName)+" "+He(n.coach.lastName),1),L("span",mD," $"+He(n.coach.pricePerHour)+"/hour ",1),L("div",vD,[L("span",null,[_e(o,{skills:n.coach.skills,title:!0},null,8,["skills"])])]),L("div",yD,[_e(l,{variant:"success",onClick:s.openContactModal},{default:Qe(()=>e[0]||(e[0]=[nn(" Contact ")])),_:1},8,["onClick"]),_e(l,{variant:"info",onClick:s.viewDetails},{default:Qe(()=>e[1]||(e[1]=[nn(" Info ")])),_:1},8,["onClick"])])])])]),_e(c,{isOpen:i.isContactModalOpen,coachFirstName:n.coach.firstName,coachLastName:n.coach.lastName,onClose:s.closeContactModal},null,8,["isOpen","coachFirstName","coachLastName","onClose"])]),_:1})}const wD=it(hD,[["render",_D],["__scopeId","data-v-5d50e0b0"]]),bD=xt({name:"CoachesList",components:{CoachCard:wD},props:{coaches:{type:Array,required:!0}}}),ED={class:"container mx-auto px-4 rounded-lg max-w-5/6"};function TD(t,e,n,r,i,s){const o=Ne("CoachCard");return re(),ye("div",ED,[_e(Qb,{name:"list",tag:"div",class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 p-2 xl:grid-cols-4 gap-4 border-2 border-gray-800 rounded-lg"},{default:Qe(()=>[(re(!0),ye(Ye,null,Ci(t.coaches,l=>(re(),Bt(o,{key:l.id,coach:l,class:"coach-item"},null,8,["coach"]))),128))]),_:1})])}const ID=it(bD,[["render",TD],["__scopeId","data-v-3c7e4cc8"]]),AD=xt({name:"CoachesContent",components:{CoachesList:ID,Loading:Ul},props:{isLoading:{type:Boolean,required:!0},error:{type:String,default:null},coaches:{type:Array,required:!0},refreshKey:{type:Number,required:!0}}}),CD={key:1,class:"error"};function SD(t,e,n,r,i,s){const o=Ne("Loading"),l=Ne("CoachesList");return re(),ye("div",null,[_e(sv,{name:"fade",mode:"out-in"},{default:Qe(()=>[t.isLoading?(re(),Bt(o,{key:0})):t.error?(re(),ye("div",CD,He(t.error),1)):t.coaches&&t.coaches.length>0?(re(),Bt(l,{key:t.refreshKey,coaches:t.coaches},null,8,["coaches"])):uo("",!0)]),_:1})])}const kD=it(AD,[["render",SD],["__scopeId","data-v-cd852900"]]),RD=xt({name:"CoachesActions",emits:["register-coach","refresh"],methods:{...zr("Coach",["fetchCoaches"]),refreshCoaches(){this.$emit("refresh")},registerCoach(){this.$emit("register-coach")}}}),xD={class:"flex justify-between w-full gap-4 items-center"};function DD(t,e,n,r,i,s){const o=Ne("BaseButton");return re(),ye("div",xD,[_e(o,{variant:"primary",onClick:t.refreshCoaches,class:"flex-1 justify-center"},{icon:Qe(()=>e[0]||(e[0]=[L("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])),default:Qe(()=>[e[1]||(e[1]=nn(" Refresh "))]),_:1},8,["onClick"]),_e(o,{variant:"success",onClick:t.registerCoach,class:"flex-1 justify-center"},{icon:Qe(()=>e[2]||(e[2]=[L("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])),default:Qe(()=>[e[3]||(e[3]=nn(" Register Coach "))]),_:1},8,["onClick"])])}const PD=it(RD,[["render",DD],["__scopeId","data-v-26277612"]]),OD=xt({name:"CreateCoach",components:{Loading:Ul},props:{isOpen:{type:Boolean,required:!0}},emits:["close","success"],data(){return{formData:{firstName:"",lastName:"",description:"",hourlyRate:0,skills:[]},isSubmitting:!1,availableSkills:["Frontend","Backend","Full Stack"]}},methods:{...zr("Coach",["registerCoach"]),clearForm(){this.formData={firstName:"",lastName:"",description:"",hourlyRate:0,skills:[]}},closeModal(){this.$emit("close")},async submitForm(){this.isSubmitting=!0;try{await this.registerCoach({...this.formData,fullName:`${this.formData.firstName} ${this.formData.lastName}`}),this.clearForm(),this.closeModal(),this.$emit("success","Coach registered successfully!")}catch(t){console.error("Error registering coach:",t),this.$emit("success","Failed to register coach. Please try again.")}finally{this.isSubmitting=!1}}}}),VD={key:0,class:"fixed inset-0 bg-gray-700/30 backdrop-blur-3xl flex items-center justify-center z-50"},LD={class:"bg-gray-900/90 backdrop-blur-sm rounded-lg p-6 w-full max-w-md border-2 border-gray-800 shadow-xl"},MD={class:"flex justify-between items-center mb-4"},ND=["disabled"],FD={key:1},$D=["disabled"],BD=["disabled"],jD=["disabled"],UD=["disabled"],HD={class:"space-y-2"},qD=["value","disabled"],zD={class:"text-gray-300"},KD={class:"flex justify-end space-x-3"},WD=["disabled"],GD=["disabled"];function QD(t,e,n,r,i,s){const o=Ne("Loading");return t.isOpen?(re(),ye("div",VD,[L("div",LD,[L("div",MD,[e[9]||(e[9]=L("h3",{class:"text-xl font-semibold text-white"},"Register as a Coach",-1)),L("button",{onClick:e[0]||(e[0]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"text-gray-400 hover:text-white",disabled:t.isSubmitting},e[8]||(e[8]=[L("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ND)]),L("form",{onSubmit:e[7]||(e[7]=hv((...l)=>t.submitForm&&t.submitForm(...l),["prevent"])),class:"space-y-4"},[t.isSubmitting?(re(),Bt(o,{key:0})):(re(),ye("div",FD,[L("div",null,[e[10]||(e[10]=L("label",{for:"firstName",class:"block text-sm font-medium text-gray-300 mb-1"},"First Name",-1)),Jn(L("input",{type:"text",id:"firstName","onUpdate:modelValue":e[1]||(e[1]=l=>t.formData.firstName=l),class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",disabled:t.isSubmitting},null,8,$D),[[Pr,t.formData.firstName]])]),L("div",null,[e[11]||(e[11]=L("label",{for:"lastName",class:"block text-sm font-medium text-gray-300 mb-1"},"Last Name",-1)),Jn(L("input",{type:"text",id:"lastName","onUpdate:modelValue":e[2]||(e[2]=l=>t.formData.lastName=l),class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",disabled:t.isSubmitting},null,8,BD),[[Pr,t.formData.lastName]])]),L("div",null,[e[12]||(e[12]=L("label",{for:"description",class:"block text-sm font-medium text-gray-300 mb-1"},"Description",-1)),Jn(L("textarea",{id:"description","onUpdate:modelValue":e[3]||(e[3]=l=>t.formData.description=l),rows:"4",class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",disabled:t.isSubmitting},null,8,jD),[[Pr,t.formData.description]])]),L("div",null,[e[13]||(e[13]=L("label",{for:"hourlyRate",class:"block text-sm font-medium text-gray-300 mb-1"},"Hourly Rate ($)",-1)),Jn(L("input",{type:"number",id:"hourlyRate","onUpdate:modelValue":e[4]||(e[4]=l=>t.formData.hourlyRate=l),min:"0",class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",disabled:t.isSubmitting},null,8,UD),[[Pr,t.formData.hourlyRate,void 0,{number:!0}]])]),L("div",null,[e[14]||(e[14]=L("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Areas of Expertise",-1)),L("div",HD,[(re(!0),ye(Ye,null,Ci(t.availableSkills,l=>(re(),ye("label",{key:l,class:"flex items-center space-x-2"},[Jn(L("input",{type:"checkbox",value:l,"onUpdate:modelValue":e[5]||(e[5]=c=>t.formData.skills=c),class:"rounded bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500",disabled:t.isSubmitting},null,8,qD),[[tE,t.formData.skills]]),L("span",zD,He(l),1)]))),128))])]),L("div",KD,[L("button",{type:"button",onClick:e[6]||(e[6]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:t.isSubmitting}," Cancel ",8,WD),L("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:t.isSubmitting},He(t.isSubmitting?"Registering...":"Register as Coach"),9,GD)])]))],32)])])):uo("",!0)}const YD=it(OD,[["render",QD],["__scopeId","data-v-7ccd82ee"]]),XD=[{id:1,name:"Frontend",selected:!0},{id:2,name:"Backend",selected:!0},{id:3,name:"Full Stack",selected:!0}],JD=xt({name:"CoachesPage",components:{CoachesFilter:uD,CoachesContent:kD,CoachesActions:PD,CreateCoach:YD,Toast:o0},data(){return{professions:XD,router:px(),showCreateCoachModal:!1,showToast:!1,toastMessage:"",refreshKey:0}},computed:{...Ju("Coach",["isLoading","error","shouldAnimateInitialLoad"]),...Zu("Coach",["filteredCoaches","allCoaches","isCoachesLoaded"])},methods:{...zr("Coach",["fetchCoaches","updateSelectedProfessions","disableInitialLoadAnimation"]),updateProfessions(t){this.professions=t;const e=t.filter(n=>n.selected).map(n=>n.name);this.updateSelectedProfessions(e)},navigateToCoach(t){this.$router.push(`/coaches/${t}`)},showSuccessToast(t){this.toastMessage=t,this.showToast=!0,setTimeout(()=>{this.showToast=!1},5e3)},handleRefresh(){this.refreshKey++,this.fetchCoaches()},handleCoachSuccess(t){this.showSuccessToast(t),t.includes("successfully")&&this.handleRefresh()}},provide(){return{navigateToCoach:this.navigateToCoach,showSuccessToast:this.showSuccessToast}},mounted(){this.shouldAnimateInitialLoad&&this.fetchCoaches()},beforeUnmount(){this.disableInitialLoadAnimation()}}),ZD={class:"p-2"},eP={class:"sticky mx-auto max-w-2/5 top-0 z-10 bg-gray-200/40 transition-all duration-300 ease-in-out p-3 rounded-lg border-white/20 shadow-md mb-2"},tP={class:"mb-2"},nP={class:"w-full mx-auto"};function rP(t,e,n,r,i,s){const o=Ne("CoachesFilter"),l=Ne("CoachesActions"),c=Ne("CoachesContent"),u=Ne("CreateCoach"),h=Ne("Toast");return re(),ye("div",ZD,[L("div",eP,[L("div",tP,[_e(o,{professions:t.professions,onFilterProfessions:t.updateProfessions},null,8,["professions","onFilterProfessions"])]),L("div",nP,[_e(l,{onRegisterCoach:e[0]||(e[0]=f=>t.showCreateCoachModal=!0),onRefresh:t.handleRefresh},null,8,["onRefresh"])])]),_e(c,{isLoading:t.isLoading,error:t.error,coaches:t.filteredCoaches,refreshKey:t.refreshKey},null,8,["isLoading","error","coaches","refreshKey"]),_e(u,{"is-open":t.showCreateCoachModal,onClose:e[1]||(e[1]=f=>t.showCreateCoachModal=!1),onSuccess:t.handleCoachSuccess},null,8,["is-open","onSuccess"]),_e(h,{"is-visible":t.showToast,message:t.toastMessage,onHide:e[2]||(e[2]=f=>t.showToast=!1)},null,8,["is-visible","message"])])}const iP=it(JD,[["render",rP],["__scopeId","data-v-450349a1"]]),sP=xt({name:"RequestItem",components:{BaseCard:hd},props:{id:{type:Number,required:!0},firstname:{type:String,required:!0},lastname:{type:String,required:!0},email:{type:String,required:!0},formattedDate:{type:String,required:!0},message:{type:String,required:!0},requestedBy:{type:String,required:!0}}}),oP={class:"flex flex-col space-y-4 w-"},aP={class:"flex items-center space-x-2"},lP={class:"text-lg font-semibold text-white"},cP={class:"flex items-center space-x-2"},uP={class:"text-gray-300"},hP={class:"flex items-center space-x-2"},dP={class:"text-gray-300"},fP={class:"flex items-center space-x-2"},pP={class:"text-gray-300"},gP={class:"mt-4 p-4 bg-gray-400/50 rounded-lg"},mP={class:"text-gray-300 whitespace-pre-wrap"};function vP(t,e,n,r,i,s){const o=Ne("BaseCard");return re(),Bt(o,{roundedClass:"rounded-3xl"},{default:Qe(()=>[L("div",oP,[L("div",aP,[e[0]||(e[0]=L("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),L("h3",lP,He(t.firstname)+" "+He(t.lastname),1)]),L("div",cP,[e[1]||(e[1]=L("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),L("span",uP,He(t.email),1)]),L("div",hP,[e[2]||(e[2]=L("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),L("span",dP,He(t.formattedDate),1)]),L("div",fP,[e[3]||(e[3]=L("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),L("span",pP,"Requested by: "+He(t.requestedBy),1)]),L("div",gP,[L("p",mP,He(t.message),1)])])]),_:1})}const yP=it(sP,[["render",vP],["__scopeId","data-v-bc620550"]]),_P={name:"RequestList",components:{RequestItem:yP},computed:{...Zu("Request",["requests"])}};function wP(t,e,n,r,i,s){const o=Ne("RequestItem"),l=Ne("MasonryWall");return re(),Bt(l,{items:t.requests,"column-width":300,gap:5},{default:Qe(({item:c})=>[(re(),Bt(o,{key:c.id,id:c.id,firstname:c.firstname,lastname:c.lastname,email:c.email,"formatted-date":c.formattedDate,message:c.message,"requested-by":c.requestedBy},null,8,["id","firstname","lastname","email","formatted-date","message","requested-by"]))]),_:1},8,["items"])}const bP=it(_P,[["render",wP],["__scopeId","data-v-6c05a3b0"]]),EP={name:"RequestsPage",components:{RequestList:bP},computed:{...Ju("Request",["isLoading","error","requests"])},methods:{...zr("Request",["fetchRequests"])},created(){this.fetchRequests()}},TP={class:"container mx-auto px-4 py-6"},IP={key:0,class:"text-center py-8"},AP={key:1,class:"text-center py-8"},CP={class:"text-red-500"},SP={key:2,class:"text-center py-8"};function kP(t,e,n,r,i,s){const o=Ne("RequestList");return re(),ye("div",TP,[e[2]||(e[2]=L("div",{class:"max-w-min bg-gray-800 rounded-md w-full flex items-center mb-6 p-4"},[L("h1",{class:"text-2xl font-semibold text-white"},"Requests")],-1)),t.isLoading?(re(),ye("div",IP,e[0]||(e[0]=[L("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"},null,-1),L("p",{class:"text-gray-300 mt-4"},"Loading requests...",-1)]))):t.error?(re(),ye("div",AP,[L("p",CP,He(t.error),1)])):t.requests.length===0?(re(),ye("div",SP,e[1]||(e[1]=[L("p",{class:"text-gray-300"},"No requests found.",-1)]))):(re(),Bt(o,{key:3}))])}const RP=it(EP,[["render",kP],["__scopeId","data-v-98feeef3"]]),xP=dx({history:kR(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",component:iP},{path:"/coaches/:id",name:"coach-detail",component:nD,props:!0},{path:"/requests",component:RP}]}),bo=aE(oA);bo.component("BaseButton",dd);bo.use(xP);bo.use(cR);bo.use(pE);bo.mount("#app");
